function randomTone(){return scale[Math.floor(Math.random()*scale.length)]}var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e.call(b[c],c):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.18.0",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._time;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._time>0||f){this._initted=!1,this._init();for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next}return this},k.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration,s=this._rawPrevTime;if(a>=n?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===r&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>s||s===g)&&s!==a&&(c=!0,s>g&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a||s===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&s>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===r&&(this._initted||!this.vars.lazy||c)&&(s>=0&&(c=!0),this._rawPrevTime=m=!b||a||s===a?a:g)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=r+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:0>this._time&&(this._time=0)),this._easeType?(j=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&j>=.5)&&(j=1-j),3===k&&(j*=2),1===l?j*=j:2===l?j*=j*j:3===l?j*=j*j*j:4===l&&(j*=j*j*j*j),this.ratio=1===k?1-j:2===k?j:.5>this._time/r?j/2:1-j/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=o,this._totalTime=p,this._rawPrevTime=s,this._cycle=q,h.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===r)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==p||d)&&this._callback("onUpdate")),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===r&&this._rawPrevTime===g&&m!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=g.delay||0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&e(p,a,q),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s,q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},k.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e.call(b[c],c):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.18.0",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;a.length>o;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&n(l,a,o),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m=this._dirty?this.totalDuration():this._totalDuration,n=this._time,o=this._startTime,p=this._timeScale,q=this._paused;if(a>=m)this._totalTime=this._time=m,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===a||0>this._rawPrevTime||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=m+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==n||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=n)for(d=this._first;d&&a>=d._startTime&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==n&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&0!==this._time&&(b||this._callback("onStart")),this._time>=n)for(d=this._first;d&&(g=d._next,!this._paused||q);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||q);){if(d._active||n>=d._startTime&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(o===this._startTime||p!==this._timeScale)&&(0===this._time||m>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)e>g._startTime||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(){this._forcingPlayhead=!0;var b=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,b},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,0>e._startTime&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=new c(null,null,1,0),j=d.prototype=new a;return j.constructor=d,j.kill()._gc=!1,d.version="1.18.0",j.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},j.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},j.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},j.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},j.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:i,useFrames:this.usesFrames(),immediateRender:!1};for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new b(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&f._callback("onStart")},f},j.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},j.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._duration,p=this._time,q=this._totalTime,r=this._startTime,s=this._timeScale,t=this._rawPrevTime,u=this._paused,v=this._cycle;if(a>=n)this._locked||(this._totalTime=n,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===a||0>t||t===e)&&t!==a&&this._first&&(k=!0,t>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=o,a=o+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===o&&t!==e&&(t>0||0>a&&t>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):t>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=o||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===o&&0>t&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=o+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=o-this._time),this._time>o?(this._time=o,a=o+1e-4):0>this._time?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b){if(a=this._time,a>=p)for(d=this._first;d&&a>=d._startTime&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==v&&!this._locked){var w=this._yoyo&&0!==(1&v),x=w===(this._yoyo&&0!==(1&this._cycle)),y=this._totalTime,z=this._cycle,A=this._rawPrevTime,B=this._time;if(this._totalTime=v*o,v>this._cycle?w=!w:this._totalTime+=o,this._time=p,this._rawPrevTime=0===o?t-1e-4:t,this._cycle=v,this._locked=!0,p=w?0:o,this.render(p,b,0===o),b||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),x&&(p=w?o+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!u)return;this._time=B,this._totalTime=y,this._cycle=z,this._rawPrevTime=A}if(!(this._time!==p&&this._first||c||k||m))return void(q!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==q&&a>0&&(this._active=!0),0===q&&this.vars.onStart&&0!==this._totalTime&&(b||this._callback("onStart")),this._time>=p)for(d=this._first;d&&(i=d._next,!this._paused||u);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,!this._paused||u);){if(d._active||p>=d._startTime&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(r===this._startTime||s!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},j.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},j.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},j.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(a>b[c].time)return b[c].name;return null},j.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},j.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},j.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},j.totalDuration=function(b){return arguments.length?-1===this._repeat?this:this.duration((b-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},j.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},j.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},j.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},j.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},j.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=.25*(u+t)*e/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-.5*(l-k)*e,p=l+.5*(m-l)*e,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||q+1>a.length)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;
this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&b>=(this._l2=k[++e]););this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(this._l1>b&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&this._l1>b?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&l.length-1>e){for(j=l.length-1;j>e&&b>=(this._s2=l[++e]););this._s1=l[e-1],this._si=e}else if(this._s1>b&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&this._s1>b?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=Math.round(i)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},q._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.18.0",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q=/(?:\d|\-\d|\.\d|\-\.\d)+/g,r=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,s=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,t=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,u=/(?:\d|\-|\+|=|#|\.)*/g,v=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,y=/^(rgb|hsl)/,z=/([A-Z])/g,A=/-([a-z])/gi,B=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(a,b){return b.toUpperCase()},D=/(?:Left|Right|Width)/i,E=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,G=/,(?=[^\)]*(?:\(|$))/gi,H=Math.PI/180,I=180/Math.PI,J={},K=document,L=function(a){return K.createElementNS?K.createElementNS("http://www.w3.org/1999/xhtml",a):K.createElement(a)},M=L("div"),N=L("img"),O=g._internals={_specialProps:i},P=navigator.userAgent,Q=function(){var a=P.indexOf("Android"),b=L("a");return m=-1!==P.indexOf("Safari")&&-1===P.indexOf("Chrome")&&(-1===a||Number(P.substr(a+8,1))>3),o=m&&6>Number(P.substr(P.indexOf("Version/")+8,1)),n=-1!==P.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(P)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(P))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),R=function(a){return v.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},S=function(a){window.console&&console.log(a)},T="",U="",V=function(a,b){b=b||M;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(U=3===d?"ms":c[d],T="-"+U.toLowerCase()+"-",U+a):null},W=K.defaultView?K.defaultView.getComputedStyle:function(){},X=g.getStyle=function(a,b,c,d,e){var f;return Q||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||W(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(z,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):R(a)},Y=O.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=D.test(c),l=a,m=M.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+X(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||K.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(M),h=parseFloat(M[k?"offsetWidth":"offsetHeight"]),l.removeChild(M),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=100*(h/d)),0!==h||f||(h=Y(a,c,d,e,!0))}return n?-h:h},Z=O.calculateOffset=function(a,b,c){if("absolute"!==X(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=X(a,"margin"+d,c);return a["offset"+d]-(Y(a,b,parseFloat(e),e.replace(u,""))||0)},$=function(a,b){var c,d,e,f={};if(b=b||W(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||za===e)&&(f[e.replace(A,C)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||ya===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(A,C)]=b[c]);return Q||(f.opacity=R(a)),d=La(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Ba&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},_=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(t,"")?f:0:Z(a,g),void 0!==j[g]&&(h=new oa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},aa={width:["Left","Right"],height:["Top","Bottom"]},ba=["marginLeft","marginRight","marginTop","marginBottom"],ca=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=aa[b],f=e.length;for(c=c||W(a,null);--f>-1;)d-=parseFloat(X(a,"padding"+e[f],c,!0))||0,d-=parseFloat(X(a,"border"+e[f]+"Width",c,!0))||0;return d},da=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="center"===d?"50%":"0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),a=d+" "+e+(c.length>2?" "+c[2]:""),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(t,"")),b.oy=parseFloat(e.replace(t,"")),b.v=a),b||a},ea=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},fa=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)},ga=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:I)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(0|g/e)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(0|g/e)*e)),h=b+g),j>h&&h>-j&&(h=0),h},ha={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ia=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+.5},ja=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,255&a>>8,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ha[a])c=ha[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,255&a>>8,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(q),b){if(-1!==a.indexOf("="))return a.match(r)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ia(g+1/3,d,e),c[1]=ia(g,d,e),c[2]=ia(g-1/3,d,e);else c=a.match(q)||ha.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=ha.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=0|g+.5,c[1]=0|100*h+.5,c[2]=0|100*i+.5),c},ka=function(a,b){var c,d,e,f=a.match(la)||[],g=0,h=f.length?"":a;for(c=0;f.length>c;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=ja(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h},la="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(j in ha)la+="|"+j+"\\b";la=RegExp(la+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];la.lastIndex=0,la.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=ka(a[0],b),a[1]=ka(a[1],b))},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var ma=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(la)||[""])[0]:"",g=a.split(f).join("").match(s)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(q,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(o=a.replace(G,"|").split("|"),n=0;o.length>n;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(la)||[f])[0],m=a.split(b).join("").match(s)||[],n=m.length,k>n--)for(;k>++n;)m[n]=c?m[0|(n-1)/2]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(f=a.replace(G,"|").split("|"),m=0;f.length>m;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(s)||[],m=b.length,k>m--)for(;k>++m;)b[m]=c?b[0|(m-1)/2]:g[m];return h+b.join(j)+i}:function(a){return a}},na=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},oa=(O._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=Math.round(b):i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;c.l>d;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),pa=(O._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=J;for(c._transform=null,J=b,d=k=c.parse(a,b,d,e),J=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(1>=d.type&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new oa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new oa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},O.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof pa||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),qa=function(a,b,c,d,e,f){var g=new pa(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},ra=g.parseComplex=function(a,b,c,d,e,f,g,h,i,j){c=c||f||"",g=new pa(a,b,0,0,g,j?2:1,null,!1,h,c,d),d+="";var l,m,n,o,p,s,t,u,v,w,x,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(G,", ").split(" "),B=B.join(" ").replace(G,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=j,la.lastIndex=0,l=0;C>l;l++)if(o=A[l],p=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,ea(p,u),p.replace(r,""),D&&-1!==p.indexOf("px"),!0);else if(e&&la.test(o))y=","===p.charAt(p.length-1)?"),":")",z=-1!==p.indexOf("hsl")&&Q,o=ja(o,z),p=ja(p,z),v=o.length+p.length>6,v&&!Q&&0===p[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(Q||(v=!1),z?g.appendXtra(v?"hsla(":"hsl(",o[0],ea(p[0],o[0]),",",!1,!0).appendXtra("",o[1],ea(p[1],o[1]),"%,",!1).appendXtra("",o[2],ea(p[2],o[2]),v?"%,":"%"+y,!1):g.appendXtra(v?"rgba(":"rgb(",o[0],p[0]-o[0],",",!0,!0).appendXtra("",o[1],p[1]-o[1],",",!0).appendXtra("",o[2],p[2]-o[2],v?",":y,!0),v&&(o=4>o.length?1:o[3],g.appendXtra("",o,(4>p.length?1:p[3])-o,y,!1))),la.lastIndex=0;else if(s=o.match(q)){if(t=p.match(r),!t||t.length!==s.length)return g;for(n=0,m=0;s.length>m;m++)x=s[m],w=o.indexOf(x,n),g.appendXtra(o.substr(n,w-n),Number(x),ea(t[m],x),"",D&&"px"===o.substr(w+x.length,2),0===m),n=w+x.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(y=g.xs0+g.data.s,l=1;g.l>l;l++)y+=g["xs"+l]+g.data["xn"+l];g.e=y+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},sa=9;for(j=pa.prototype,j.l=j.pr=0;--sa>0;)j["xn"+sa]=0,j["xs"+sa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new pa(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var ta=function(a,b){b=b||{},this.p=b.prefix?V(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||ma(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ua=O._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;f.length>d;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new ta(f[d],b)},va=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ua(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(S("Error: "+b+" js file not loaded."),f)}})}};j=ta.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(G.test(c)||G.test(b)?(h=b.replace(G,"|").split("|"),i=c.replace(G,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return ra(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ua(a,{parser:function(a,d,e,f,g,h){var i=new pa(a,e,0,0,g,2,e,!1,c);return i.plugin=h,i.setRatio=b(a,d,f._tween,e),i},priority:c})},g.useSVGTransformAttr=m||n;var wa,xa="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ya=V("transform"),za=T+"transform",Aa=V("transformOrigin"),Ba=null!==V("perspective"),Ca=O.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Ba?g.defaultForce3D||"auto":!1},Da=window.SVGElement,Ea=function(a,b,c){var d,e=K.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Fa=K.documentElement,Ga=function(){var a,b,c,d=p||/Android/i.test(P)&&!window.chrome;return K.createElementNS&&!d&&(a=Ea("svg",Fa),b=Ea("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Aa]="50% 50%",b.style[ya]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Ba),Fa.removeChild(a)),d}(),Ha=function(a,b,c,d,e){var f,h,i,j,k,l,m,n,o,p,q,r,s,t,u=a._gsTransform,v=Ka(a,!0);u&&(s=u.xOrigin,t=u.yOrigin),(!d||2>(f=d.split(" ")).length)&&(m=a.getBBox(),b=da(b).split(" "),f=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*m.width:parseFloat(b[0]))+m.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*m.height:parseFloat(b[1]))+m.y]),c.xOrigin=j=parseFloat(f[0]),c.yOrigin=k=parseFloat(f[1]),d&&v!==Ja&&(l=v[0],m=v[1],n=v[2],o=v[3],p=v[4],q=v[5],r=l*o-m*n,h=j*(o/r)+k*(-n/r)+(n*q-o*p)/r,i=j*(-m/r)+k*(l/r)-(l*q-m*p)/r,j=c.xOrigin=f[0]=h,k=c.yOrigin=f[1]=i),u&&(e||e!==!1&&g.defaultSmoothOrigin!==!1?(h=j-s,i=k-t,u.xOffset+=h*v[0]+i*v[2]-h,u.yOffset+=h*v[1]+i*v[3]-i):u.xOffset=u.yOffset=0),a.setAttribute("data-svg-origin",f.join(" "))},Ia=function(a){return!!(Da&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},Ja=[1,0,0,1,0,0],Ka=function(a,b){var c,d,e,f,g,h=a._gsTransform||new Ca,i=1e5;if(ya?d=X(a,za,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(E),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),h.x||0,h.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,(h.svg||a.getBBox&&Ia(a))&&(c&&-1!==(a.style[ya]+"").indexOf("matrix")&&(d=a.style[ya],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Ja;for(e=(d||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],sa=e.length;--sa>-1;)f=Number(e[sa]),e[sa]=(g=f-(f|=0))?(0|g*i+(0>g?-.5:.5))/i+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},La=O.getTransform=function(a,c,d,f){if(a._gsTransform&&d&&!f)return a._gsTransform;var h,i,j,k,l,m,n=d?a._gsTransform||new Ca:new Ca,o=0>n.scaleX,p=2e-5,q=1e5,r=Ba?parseFloat(X(a,Aa,c,!1,"0 0 0").split(" ")[2])||n.zOrigin||0:0,s=parseFloat(g.defaultTransformPerspective)||0;if(n.svg=!(!a.getBBox||!Ia(a)),n.svg&&(Ha(a,X(a,Aa,e,!1,"50% 50%")+"",n,a.getAttribute("data-svg-origin")),wa=g.useSVGTransformAttr||Ga),h=Ka(a),h!==Ja){if(16===h.length){var t,u,v,w,x,y=h[0],z=h[1],A=h[2],B=h[3],C=h[4],D=h[5],E=h[6],F=h[7],G=h[8],H=h[9],J=h[10],K=h[12],L=h[13],M=h[14],N=h[11],O=Math.atan2(E,J);n.zOrigin&&(M=-n.zOrigin,K=G*M-h[12],L=H*M-h[13],M=J*M+n.zOrigin-h[14]),n.rotationX=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=C*w+G*x,u=D*w+H*x,v=E*w+J*x,G=C*-x+G*w,H=D*-x+H*w,J=E*-x+J*w,N=F*-x+N*w,C=t,D=u,E=v),O=Math.atan2(G,J),n.rotationY=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=y*w-G*x,u=z*w-H*x,v=A*w-J*x,H=z*x+H*w,J=A*x+J*w,N=B*x+N*w,y=t,z=u,A=v),O=Math.atan2(z,y),n.rotation=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),y=y*w+C*x,u=z*w+D*x,D=z*-x+D*w,E=A*-x+E*w,z=u),n.rotationX&&Math.abs(n.rotationX)+Math.abs(n.rotation)>359.9&&(n.rotationX=n.rotation=0,n.rotationY+=180),n.scaleX=(0|Math.sqrt(y*y+z*z)*q+.5)/q,n.scaleY=(0|Math.sqrt(D*D+H*H)*q+.5)/q,n.scaleZ=(0|Math.sqrt(E*E+J*J)*q+.5)/q,n.skewX=0,n.perspective=N?1/(0>N?-N:N):0,n.x=K,n.y=L,n.z=M,n.svg&&(n.x-=n.xOrigin-(n.xOrigin*y-n.yOrigin*C),n.y-=n.yOrigin-(n.yOrigin*z-n.xOrigin*D))}else if(!(Ba&&!f&&h.length&&n.x===h[4]&&n.y===h[5]&&(n.rotationX||n.rotationY)||void 0!==n.x&&"none"===X(a,"display",c))){var P=h.length>=6,Q=P?h[0]:1,R=h[1]||0,S=h[2]||0,T=P?h[3]:1;n.x=h[4]||0,n.y=h[5]||0,j=Math.sqrt(Q*Q+R*R),k=Math.sqrt(T*T+S*S),l=Q||R?Math.atan2(R,Q)*I:n.rotation||0,m=S||T?Math.atan2(S,T)*I+l:n.skewX||0,Math.abs(m)>90&&270>Math.abs(m)&&(o?(j*=-1,m+=0>=l?180:-180,l+=0>=l?180:-180):(k*=-1,m+=0>=m?180:-180)),n.scaleX=j,n.scaleY=k,n.rotation=l,n.skewX=m,Ba&&(n.rotationX=n.rotationY=n.z=0,n.perspective=s,n.scaleZ=1),n.svg&&(n.x-=n.xOrigin-(n.xOrigin*Q+n.yOrigin*S),n.y-=n.yOrigin-(n.xOrigin*R+n.yOrigin*T))}n.zOrigin=r;for(i in n)p>n[i]&&n[i]>-p&&(n[i]=0)}return d&&(a._gsTransform=n,n.svg&&(wa&&a.style[ya]?b.delayedCall(.001,function(){Pa(a.style,ya)}):!wa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),n},Ma=function(a){var b,c,d=this.data,e=-d.rotation*H,f=e+d.skewX*H,g=1e5,h=(0|Math.cos(e)*d.scaleX*g)/g,i=(0|Math.sin(e)*d.scaleX*g)/g,j=(0|Math.sin(f)*-d.scaleY*g)/g,k=(0|Math.cos(f)*d.scaleY*g)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x+q*d.xPercent/100,x=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?.01*q*d.ox:d.ox)-q/2,o=(d.oyp?.01*r*d.oy:d.oy)-r/2,w+=n-(n*h+o*i),x+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+w)+", Dy="+(o-(n*j+o*k)+x)+")"):t+=", sizingMethod='auto expand')",l.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(F,t):t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||v.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),sa=0;4>sa;sa++)z=ba[sa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):Y(this.t,z,parseFloat(y),y.replace(u,""))||0,A=c!==d[z]?2>sa?-d.ieOffsetX:-d.ieOffsetY:2>sa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===sa||2===sa?1:B)))+"px"}}},Na=O.set3DTransformRatio=O.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,I=z.x,J=z.y,K=z.z,L=z.svg,M=z.perspective,N=z.force3D;if(!((1!==a&&0!==a||"auto"!==N||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&N||K||M||D||C)||wa&&L||!Ba)return void(B||z.skewX||L?(B*=H,x=z.skewX*H,y=1e5,b=Math.cos(B)*E,e=Math.sin(B)*E,c=Math.sin(B-x)*-F,f=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(s=Math.tan(x),s=Math.sqrt(1+s*s),c*=s,f*=s,z.skewY&&(b*=s,e*=s)),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset,wa&&(z.xPercent||z.yPercent)&&(p=this.t.getBBox(),I+=.01*z.xPercent*p.width,J+=.01*z.yPercent*p.height),p=1e-6,p>I&&I>-p&&(I=0),p>J&&J>-p&&(J=0)),u=(0|b*y)/y+","+(0|e*y)/y+","+(0|c*y)/y+","+(0|f*y)/y+","+I+","+J+")",L&&wa?this.t.setAttribute("transform","matrix("+u):A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+I+","+J+")");if(n&&(p=1e-4,p>E&&E>-p&&(E=G=2e-5),p>F&&F>-p&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||z.skewX)B*=H,q=b=Math.cos(B),r=e=Math.sin(B),z.skewX&&(B-=z.skewX*H,q=Math.cos(B),r=Math.sin(B),"simple"===z.skewType&&(s=Math.tan(z.skewX*H),s=Math.sqrt(1+s*s),q*=s,r*=s,z.skewY&&(b*=s,e*=s))),c=-r,f=q;else{if(!(D||C||1!==G||M||L))return void(A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+J+"px,"+K+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));b=f=1,c=e=0}j=1,d=g=h=i=k=l=0,m=M?-1/M:0,o=z.zOrigin,p=1e-6,v=",",w="0",B=D*H,B&&(q=Math.cos(B),r=Math.sin(B),h=-r,k=m*-r,d=b*r,g=e*r,j=q,m*=q,b*=q,e*=q),B=C*H,B&&(q=Math.cos(B),r=Math.sin(B),s=c*q+d*r,t=f*q+g*r,i=j*r,l=m*r,d=c*-r+d*q,g=f*-r+g*q,j*=q,m*=q,c=s,f=t),1!==G&&(d*=G,g*=G,j*=G,m*=G),1!==F&&(c*=F,f*=F,i*=F,l*=F),1!==E&&(b*=E,e*=E,h*=E,k*=E),(o||L)&&(o&&(I+=d*-o,J+=g*-o,K+=j*-o+o),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset),p>I&&I>-p&&(I=w),p>J&&J>-p&&(J=w),p>K&&K>-p&&(K=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(p>b&&b>-p?w:b)+v+(p>e&&e>-p?w:e)+v+(p>h&&h>-p?w:h),u+=v+(p>k&&k>-p?w:k)+v+(p>c&&c>-p?w:c)+v+(p>f&&f>-p?w:f),C||D?(u+=v+(p>i&&i>-p?w:i)+v+(p>l&&l>-p?w:l)+v+(p>d&&d>-p?w:d),u+=v+(p>g&&g>-p?w:g)+v+(p>j&&j>-p?w:j)+v+(p>m&&m>-p?w:m)+v):u+=",0,0,0,0,1,0,",u+=I+v+J+v+K+v+(M?1+-K/M:1)+")",A[ya]=u};j=Ca.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ua("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k,l,m,n,o,p,q,r,s,t=a._gsTransform,u=a.style,v=1e-6,w=xa.length,x=i,y={},z="transformOrigin";if(i.display?(m=X(a,"display"),u.display="block",j=La(a,e,!0,i.parseTransform),u.display=m):j=La(a,e,!0,i.parseTransform),d._transform=j,"string"==typeof x.transform&&ya)m=M.style,m[ya]=x.transform,m.display="block",m.position="absolute",K.body.appendChild(M),k=La(M,null,!1),K.body.removeChild(M),k.perspective||(k.perspective=j.perspective),null!=x.xPercent&&(k.xPercent=fa(x.xPercent,j.xPercent)),null!=x.yPercent&&(k.yPercent=fa(x.yPercent,j.yPercent));else if("object"==typeof x){if(k={scaleX:fa(null!=x.scaleX?x.scaleX:x.scale,j.scaleX),scaleY:fa(null!=x.scaleY?x.scaleY:x.scale,j.scaleY),scaleZ:fa(x.scaleZ,j.scaleZ),x:fa(x.x,j.x),y:fa(x.y,j.y),z:fa(x.z,j.z),xPercent:fa(x.xPercent,j.xPercent),yPercent:fa(x.yPercent,j.yPercent),perspective:fa(x.transformPerspective,j.perspective)},q=x.directionalRotation,null!=q)if("object"==typeof q)for(m in q)x[m]=q[m];else x.rotation=q;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(k.x=0,k.xPercent=fa(x.x,j.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(k.y=0,k.yPercent=fa(x.y,j.yPercent)),k.rotation=ga("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:j.rotation,j.rotation,"rotation",y),Ba&&(k.rotationX=ga("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":j.rotationX||0,j.rotationX,"rotationX",y),k.rotationY=ga("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":j.rotationY||0,j.rotationY,"rotationY",y)),k.skewX=null==x.skewX?j.skewX:ga(x.skewX,j.skewX),k.skewY=null==x.skewY?j.skewY:ga(x.skewY,j.skewY),(l=k.skewY-j.skewY)&&(k.skewX+=l,k.rotation+=l)}for(Ba&&null!=x.force3D&&(j.force3D=x.force3D,p=!0),j.skewType=x.skewType||j.skewType||g.defaultSkewType,o=j.force3D||j.z||j.rotationX||j.rotationY||k.z||k.rotationX||k.rotationY||k.perspective,o||null==x.scale||(k.scaleZ=1);--w>-1;)c=xa[w],n=k[c]-j[c],(n>v||-v>n||null!=x[c]||null!=J[c])&&(p=!0,f=new pa(j,c,j[c],n,f),c in y&&(f.e=y[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return n=x.transformOrigin,j.svg&&(n||x.svgOrigin)&&(r=j.xOffset,s=j.yOffset,Ha(a,da(n),k,x.svgOrigin,x.smoothOrigin),f=qa(j,"xOrigin",(t?j:k).xOrigin,k.xOrigin,f,z),f=qa(j,"yOrigin",(t?j:k).yOrigin,k.yOrigin,f,z),(r!==j.xOffset||s!==j.yOffset)&&(f=qa(j,"xOffset",t?r:j.xOffset,j.xOffset,f,z),f=qa(j,"yOffset",t?s:j.yOffset,j.yOffset,f,z)),n=wa?null:"0px 0px"),(n||Ba&&o&&j.zOrigin)&&(ya?(p=!0,c=Aa,n=(n||X(a,c,e,!1,"50% 50%"))+"",f=new pa(u,c,0,0,f,-1,z),f.b=u[c],f.plugin=h,Ba?(m=j.zOrigin,n=n.split(" "),j.zOrigin=(n.length>2&&(0===m||"0px"!==n[2])?parseFloat(n[2]):m)||0,f.xs0=f.e=n[0]+" "+(n[1]||"50%")+" 0px",f=new pa(j,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=j.zOrigin):f.xs0=f.e=n):da(n+"",j)),p&&(d._transformType=j.svg&&wa||!o&&3!==this._transformType?2:3),f},prefix:!0}),ua("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ua("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g){b=this.format(b);var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=a.style;for(p=parseFloat(a.offsetWidth),q=parseFloat(a.offsetHeight),h=b.split(" "),i=0;x.length>i;i++)this.p.indexOf("border")&&(x[i]=V(x[i])),l=k=X(a,x[i],e,!1,"0px"),-1!==l.indexOf(" ")&&(k=l.split(" "),l=k[0],k=k[1]),m=j=h[i],n=parseFloat(l),s=l.substr((n+"").length),t="="===m.charAt(1),t?(o=parseInt(m.charAt(0)+"1",10),m=m.substr(2),o*=parseFloat(m),r=m.substr((o+"").length-(0>o?1:0))||""):(o=parseFloat(m),r=m.substr((o+"").length)),""===r&&(r=d[c]||s),r!==s&&(u=Y(a,"borderLeft",n,s),v=Y(a,"borderTop",n,s),"%"===r?(l=100*(u/p)+"%",k=100*(v/q)+"%"):"em"===r?(w=Y(a,"borderLeft",1,"em"),l=u/w+"em",k=v/w+"em"):(l=u+"px",k=v+"px"),t&&(m=parseFloat(l)+o+r,j=parseFloat(k)+o+r)),g=ra(y,x[i],l+" "+k,m+" "+j,!1,"0px",g);return g},prefix:!0,formatter:ma("0px 0px 0px 0px",!1,!0)}),ua("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||W(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);
if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=X(a,"backgroundImage").replace(B,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),N.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-N.width:a.offsetHeight-N.height,h[j]=k?parseFloat(q)/100*l+"px":100*(parseFloat(q)/l)+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:da}),ua("backgroundSize",{defaultValue:"0 0",formatter:da}),ua("perspective",{defaultValue:"0px",prefix:!0}),ua("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ua("transformStyle",{prefix:!0}),ua("backfaceVisibility",{prefix:!0}),ua("userSelect",{prefix:!0}),ua("margin",{parser:na("marginTop,marginRight,marginBottom,marginLeft")}),ua("padding",{parser:na("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ua("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(X(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ua("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ua("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ua("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,"borderTopWidth",e,!1,"0px")+" "+X(a,"borderTopStyle",e,!1,"solid")+" "+X(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(la)||["#000"])[0]}}),ua("borderWidth",{parser:na("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ua("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){var f=a.style,g="cssFloat"in f?"cssFloat":"styleFloat";return new pa(f,g,0,0,e,-1,c,!1,0,f[g],b)}});var Oa=function(a){var b,c=this.t,d=c.filter||X(this.data,"filter")||"",e=0|this.s+this.c*a;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!X(this.data,"filter")):(c.filter=d.replace(x,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(v,"opacity="+e))};ua("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(X(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===X(a,"visibility",e)&&0!==b&&(h=0),Q?f=new pa(i,"opacity",h,b-h,f):(f=new pa(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Oa),j&&(f=new pa(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Pa=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(z,"-$1").toLowerCase())):a.removeAttribute(b))},Qa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Pa(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ua("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new pa(a,d,0,0,g,2),g.setRatio=Qa,g.pr=-11,c=!0,g.b=o,k=$(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=_(a,k,$(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Ra=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Aa:i[c].p),Pa(g,c);e&&(Pa(g,ya),f=this.t._gsTransform,f&&(f.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ua("clearProps",{parser:function(a,b,d,e,f){return f=new pa(a,d,0,0,f,2),f.setRatio=Ra,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),sa=j.length;sa--;)va(j[sa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=W(a,""),f=this._overwriteProps;var j,n,p,q,r,s,t,u,v,x=a.style;if(l&&""===x.zIndex&&(j=X(a,"zIndex",e),("auto"===j||""===j)&&this._addLazySet(x,"zIndex",0)),"string"==typeof b&&(q=x.cssText,j=$(a,e),x.cssText=q+";"+b,j=_(a,j,$(a)).difs,!Q&&w.test(b)&&(j.opacity=parseFloat(RegExp.$1)),b=j,x.cssText=q),this._firstPT=n=b.className?i.className.parse(a,b.className,"className",this,null,null,b):this.parse(a,b,null),this._transformType){for(v=3===this._transformType,ya?m&&(l=!0,""===x.zIndex&&(t=X(a,"zIndex",e),("auto"===t||""===t)&&this._addLazySet(x,"zIndex",0)),o&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(v?"visible":"hidden"))):x.zoom=1,p=n;p&&p._next;)p=p._next;u=new pa(a,"transform",0,0,null,2),this._linkCSSP(u,null,p),u.setRatio=ya?Na:Ma,u.data=this._transform||La(a,e,!0),u.tween=h,u.pr=-1,f.pop()}if(c){for(;n;){for(s=n._next,p=q;p&&p.pr>n.pr;)p=p._next;(n._prev=p?p._prev:r)?n._prev._next=n:q=n,(n._next=p)?p._prev=n:r=n,n=s}this._firstPT=q}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=X(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&y.test(n)?(q||(n=ja(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=ra(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ca(a,g,e),o="px"):"left"===g||"top"===g?(j=Z(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(u,"")):(l=parseFloat(n),p=q?n.replace(u,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=Y(a,g,j,o),"%"===p?(j/=Y(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p?j/=Y(a,g,1,p):"px"!==p&&(l=Y(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+j+p)),r&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==s[g]&&(n||"NaN"!=n+""&&null!=n)?(c=new pa(s,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):S("invalid "+g+" tween value: "+b[g]):(c=new pa(s,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=ra(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;e.l>d;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||La(this._target,e,!0),this._transformType=this._transform.svg&&wa||!a&&3!==this._transformType?2:3};var Sa=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new pa(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Sa,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Ta=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Ta(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push($(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Ta(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Ta(a,k,m),i.render(c,!0,!0),Ta(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=_(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.r=1),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=1;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._roundProps(h,!0):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,!0),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(a,b){var c;if("function"!=typeof a.setAttribute)return!1;for(c in b)this._addTween(a,"setAttribute",a.getAttribute(c)+"",b[c]+"",c,!1,c),this._overwriteProps.push(c);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(a,b){"object"!=typeof b&&(b={rotation:b}),this.finals={};var c,d,e,f,g,h,i=b.useRadians===!0?2*Math.PI:360,j=1e-6;for(c in b)"useRadians"!==c&&(h=(b[c]+"").split("_"),d=h[0],e=parseFloat("function"!=typeof a[c]?a[c]:a[c.indexOf("set")||"function"!=typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]()),f=this.finals[c]="string"==typeof d&&"="===d.charAt(1)?e+parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)):Number(d)||0,g=f-e,h.length&&(d=h.join("_"),-1!==d.indexOf("short")&&(g%=i,g!==g%(i/2)&&(g=0>g?g+i:g-i)),-1!==d.indexOf("_cw")&&0>g?g=(g+9999999999*i)%i-(0|g/i)*i:-1!==d.indexOf("ccw")&&g>0&&(g=(g-9999999999*i)%i-(0|g/i)*i)),(g>j||-j>g)&&(this._addTween(a,c,e,e+g,c),this._overwriteProps.push(c)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d){var e=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(e,a),e},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return 1>(a*=2)?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=.5*f*f*r):(f=2*(1-c),e=.5*f*f*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return 1>(a*=2)?-.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return 1>(a*=2)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!c.TweenLite){var d,e,f,g,h,i=function(a){var b,d=a.split("."),e=c;for(b=0;d.length>b;b++)e[d[b]]=e=e[d[b]]||{};return e},j=i("com.greensock"),k=1e-10,l=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},m=function(){},n=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),o={},p=function(d,e,f,g){this.sc=o[d]?o[d].sc:[],o[d]=this,this.gsClass=null,this.func=f;var h=[];this.check=function(j){for(var k,l,m,n,q,r=e.length,s=r;--r>-1;)(k=o[e[r]]||new p(e[r],[])).gsClass?(h[r]=k.gsClass,s--):j&&k.sc.push(this);if(0===s&&f)for(l=("com.greensock."+d).split("."),m=l.pop(),n=i(l.join("."))[m]=this.gsClass=f.apply(f,h),g&&(c[m]=n,q="undefined"!=typeof module&&module.exports,!q&&"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return n}):d===b&&q&&(module.exports=n)),r=0;this.sc.length>r;r++)this.sc[r].check()},this.check(!0)},q=a._gsDefine=function(a,b,c,d){return new p(a,b,c,d)},r=j._class=function(a,b,c){return b=b||function(){},q(a,[],function(){return b},c),b};q.globals=c;var s=[0,0,1,1],t=[],u=r("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?s.concat(b):s},!0),v=u.map={},w=u.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),k=i.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=i[k],e=d?r("easing."+f,null,!0):j.easing[f]||{},g=l.length;--g>-1;)h=l[g],v[f+"."+h]=v[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(f=u.prototype,f._calcEnd=!1,f.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},d=["Linear","Quad","Cubic","Quart","Quint,Strong"],e=d.length;--e>-1;)f=d[e]+",Power"+e,w(new u(null,null,1,e),f,"easeOut",!0),w(new u(null,null,2,e),f,"easeIn"+(0===e?",easeNone":"")),w(new u(null,null,3,e),f,"easeInOut");v.linear=j.easing.Linear.easeIn,v.swing=j.easing.Quad.easeInOut;var x=r("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});f=x.prototype,f.addEventListener=function(a,b,c,d,e){e=e||0;var f,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)f=j[i],f.c===b&&f.s===c?j.splice(i,1):0===k&&e>f.pr&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==g||h||g.wake()},f.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},f.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var y=a.requestAnimationFrame,z=a.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},B=A();for(d=["ms","moz","webkit","o"],e=d.length;--e>-1&&!y;)y=a[d[e]+"RequestAnimationFrame"],z=a[d[e]+"CancelAnimationFrame"]||a[d[e]+"CancelRequestAnimationFrame"];r("Ticker",function(a,b){var c,d,e,f,i,j=this,l=A(),n=b!==!1&&y,o=500,p=33,q="tick",r=function(a){var b,g,h=A()-B;h>o&&(l+=h-p),B+=h,j.time=(B-l)/1e3,b=j.time-i,(!c||b>0||a===!0)&&(j.frame++,i+=b+(b>=f?.004:f-b),g=!0),a!==!0&&(e=d(r)),g&&j.dispatchEvent(q)};x.call(j),j.time=j.frame=0,j.tick=function(){r(!0)},j.lagSmoothing=function(a,b){o=a||1/k,p=Math.min(b,o,0)},j.sleep=function(){null!=e&&(n&&z?z(e):clearTimeout(e),d=m,e=null,j===g&&(h=!1))},j.wake=function(){null!==e?j.sleep():j.frame>10&&(B=A()-o+5),d=0===c?m:n&&y?y:function(a){return setTimeout(a,0|1e3*(i-j.time)+1)},j===g&&(h=!0),r(2)},j.fps=function(a){return arguments.length?(c=a,f=1/(c||60),i=this.time+f,void j.wake()):c},j.useRAF=function(a){return arguments.length?(j.sleep(),n=a,void j.fps(c)):n},j.fps(a),setTimeout(function(){n&&5>j.frame&&j.useRAF(!1)},1500)}),f=j.Ticker.prototype=new j.events.EventDispatcher,f.constructor=j.Ticker;var C=r("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,V){h||g.wake();var c=this.vars.useFrames?U:V;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});g=C.ticker=new j.Ticker,f=C.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var D=function(){h&&A()-B>2e3&&g.wake(),setTimeout(D,2e3)};D(),f.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},f.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},f.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},f.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},f.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},f.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},f.render=function(){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},f.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&c+this.totalDuration()/this._timeScale>a},f._enabled=function(a,b){return h||g.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(){return this._enabled(!1,!1)},f.kill=function(a,b){return this._kill(a,b),this},f._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},f._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},f._callback=function(a){var b=this.vars;b[a].apply(b[a+"Scope"]||b.callbackScope||this,b[a+"Params"]||t)},f.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=n(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},f.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},f.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},f.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},f.totalTime=function(a,b,c){if(h||g.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(I.length&&X(),this.render(a,b,!1),I.length&&X())}return this},f.progress=f.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},f.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},f.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||k,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},f.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(h||a||g.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var E=r("core.SimpleTimeline",function(a){C.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});f=E.prototype=new C,f.constructor=E,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(a,b){var c,d;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(d=a._startTime;c&&c._startTime>d;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._recent=a,this._timeline&&this._uncache(!0),this},f._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},f.rawTime=function(){return h||g.wake(),this._totalTime};var F=r("TweenLite",function(b,c,d){if(C.call(this,c,d),this.render=F.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:F.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?T[F.defaultOverwrite]:"number"==typeof i?i>>0:T[i],(h||b instanceof Array||b.push&&n(b))&&"number"!=typeof b[0])for(this._targets=g=l(b),this._propLookup=[],this._siblings=[],e=0;g.length>e;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(l(f))):(this._siblings[e]=Y(f,this,!1),1===i&&this._siblings[e].length>1&&$(f,this,null,1,this._siblings[e])):(f=g[e--]=F.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=Y(b,this,!1),1===i&&this._siblings.length>1&&$(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-k,this.render(-this._delay))},!0),G=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},H=function(a,b){var c,d={};for(c in a)S[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!P[c]||P[c]&&P[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};f=F.prototype=new C,f.constructor=F,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,F.version="1.18.0",F.defaultEase=f._ease=new u(null,null,1,1),F.defaultOverwrite="auto",F.ticker=g,F.autoSleep=120,F.lagSmoothing=function(a,b){g.lagSmoothing(a,b)},F.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(F.selector=c,c(b)):"undefined"==typeof document?b:document.querySelectorAll?document.querySelectorAll(b):document.getElementById("#"===b.charAt(0)?b.substr(1):b)};var I=[],J={},K=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,L=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?a?this.join(""):this.start:c.c*a+c.s,c.r?b=Math.round(b):d>b&&b>-d&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},M=function(a,b,c,d){var e,f,g,h,i,j,k,l=[a,b],m=0,n="",o=0;for(l.start=a,c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(K)||[],f=b.match(K)||[],d&&(d._next=null,d.blob=1,l._firstPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||h>=e.length?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,r:o&&4>o}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=L,l},N=function(a,b,c,d,e,f,g,h){var i,j,k="get"===c?a[b]:c,l=typeof a[b],m="string"==typeof d&&"="===d.charAt(1),n={t:a,p:b,s:k,f:"function"===l,pg:0,n:e||b,r:f,pr:0,c:m?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-k||0};return"number"!==l&&("function"===l&&"get"===c&&(j=b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),n.s=k=g?a[j](g):a[j]()),"string"==typeof k&&(g||isNaN(k))?(n.fp=g,i=M(k,d,h||F.defaultStringFilter,n),n={t:i,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0}):m||(n.c=parseFloat(d)-parseFloat(k)||0)),n.c?((n._next=this._firstPT)&&(n._next._prev=n),this._firstPT=n,n):void 0},O=F._internals={isArray:n,isSelector:G,lazyTweens:I,blobDif:M},P=F._plugins={},Q=O.tweenLookup={},R=0,S=O.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},T={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},U=C._rootFramesTimeline=new E,V=C._rootTimeline=new E,W=30,X=O.lazyRender=function(){var a,b=I.length;for(J={};--b>-1;)a=I[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);I.length=0};V._startTime=g.time,U._startTime=g.frame,V._active=U._active=!0,setTimeout(X,1),C._updateRoot=F.render=function(){var a,b,c;if(I.length&&X(),V.render((g.time-V._startTime)*V._timeScale,!1,!1),U.render((g.frame-U._startTime)*U._timeScale,!1,!1),I.length&&X(),g.frame>=W){W=g.frame+(parseInt(F.autoSleep,10)||120);
for(c in Q){for(b=Q[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete Q[c]}if(c=V._first,(!c||c._paused)&&F.autoSleep&&!U._first&&1===g._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||g.sleep()}}},g.addEventListener("tick",C._updateRoot);var Y=function(a,b,c){var d,e,f=a._gsTweenID;if(Q[f||(a._gsTweenID=f="t"+R++)]||(Q[f]={target:a,tweens:[]}),b&&(d=Q[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return Q[f].tweens},Z=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=F.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},$=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,l=b._startTime+k,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||_(b,0,o),0===_(h,j,o)&&(m[n++]=h)):l>=h._startTime&&h._startTime+h.totalDuration()/h._timeScale>l&&((o||!h._initted)&&2e-10>=l-h._startTime||(m[n++]=h)));for(f=n;--f>-1;)if(h=m[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!Z(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},_=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*k>f-b?k:(f+=a.totalDuration()/a._timeScale/e)>b+k?0:f-b-k};f._init=function(){var a,b,c,d,e,f=this.vars,g=this._overwrittenProps,h=this._duration,i=!!f.immediateRender,j=f.ease;if(f.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in f.startAt)e[d]=f.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=i&&f.lazy!==!1,e.startAt=e.delay=null,this._startAt=F.to(this.target,0,e),i)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(f.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(i=!1),c={};for(d in f)S[d]&&"autoCSS"!==d||(c[d]=f[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=i&&f.lazy!==!1,c.immediateRender=i,this._startAt=F.to(this.target,0,c),i){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=j=j?j instanceof u?j:"function"==typeof j?new u(j,f.easeParams):v[j]||F.defaultEase:F.defaultEase,f.easeParams instanceof Array&&j.config&&(this._ease=j.config.apply(j,f.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],g?g[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,g);if(b&&F._onPluginEvent("_onInitAllProps",this),g&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),f.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=f.onUpdate,this._initted=!0},f._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;J[b._gsTweenID]&&X(),this.vars.css||b.style&&b!==a&&b.nodeType&&P.css&&this.vars.autoCSS!==!1&&H(this.vars,b);for(f in this.vars)if(k=this.vars[f],S[f])k&&(k instanceof Array||k.push&&n(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(P[f]&&(i=new P[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:1,n:f,pg:1,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0),j._next&&(j._next._prev=j)}else c[f]=N.call(this,b,f,"get",k,f,0,null,this.vars.stringFilter);return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&$(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(J[b._gsTweenID]=!0),h)},f.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>j||j===k&&"isPause"!==this.data)&&j!==a&&(c=!0,j>k&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:k);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==k||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:k)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var l=a/i,m=this._easeType,n=this._easePower;(1===m||3===m&&l>=.5)&&(l=1-l),3===m&&(l*=2),1===n?l*=l:2===n?l*=l*l:3===n?l*=l*l*l:4===n&&(l*=l*l*l*l),this.ratio=1===m?1-l:2===m?l:.5>a/i?l/2:1-l/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,I.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===k&&g!==k&&(this._rawPrevTime=0))}},f._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:F.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((n(b)||G(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(F.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!Z(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},f.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],C.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-k,this.render(-this._delay)),this},f._enabled=function(a,b){if(h||g.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Y(d[c],this,!0);else this._siblings=Y(this.target,this,!0)}return C.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?F._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},F.to=function(a,b,c){return new F(a,b,c)},F.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new F(a,b,c)},F.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new F(a,b,d)},F.delayedCall=function(a,b,c,d,e){return new F(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},F.set=function(a,b){return new F(a,0,b)},F.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:F.selector(a)||a;var c,d,e,f;if((n(a)||G(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(F.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Y(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},F.killTweensOf=F.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=F.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var aa=r("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=aa.prototype},!0);if(f=aa.prototype,aa.version="1.18.0",aa.API=2,f._firstPT=null,f._addTween=N,f.setRatio=L,f._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},f._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},F._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},aa.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===aa.API&&(P[(new a[b])._propName]=a[b]);return!0},q.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=r("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){aa.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new aa(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,aa.activate([g]),g},d=a._gsQueue){for(e=0;d.length>e;e++)d[e]();for(f in o)o[f].func||a.console.log("GSAP encountered missing dependency: com.greensock."+f)}h=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(root){"use strict";function Main(a){Tone=a()}function Module(a){a(Tone)}var Tone;Main(function(){function a(a){return void 0===a}function b(a){return"function"==typeof a}var c;if(a(window.AudioContext)&&(window.AudioContext=window.webkitAudioContext),a(window.OfflineAudioContext)&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),a(AudioContext))throw new Error("Web Audio is not supported in this browser");c=new AudioContext,b(AudioContext.prototype.createGain)||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),b(AudioContext.prototype.createDelay)||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),b(AudioContext.prototype.createPeriodicWave)||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),b(AudioBufferSourceNode.prototype.start)||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),b(AudioBufferSourceNode.prototype.stop)||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),b(OscillatorNode.prototype.start)||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),b(OscillatorNode.prototype.stop)||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),b(OscillatorNode.prototype.setPeriodicWave)||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioNode.prototype._nativeConnect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(b,c,d){if(b.input)Array.isArray(b.input)?(a(d)&&(d=0),this.connect(b.input[d])):this.connect(b.input,c,d);else try{b instanceof AudioNode?this._nativeConnect(b,c,d):this._nativeConnect(b,c)}catch(e){throw new Error("error connecting to node: "+b)}};var d=function(b,c){a(b)||1===b?this.input=this.context.createGain():b>1&&(this.input=new Array(b)),a(c)||1===c?this.output=this.context.createGain():c>1&&(this.output=new Array(b))};d.prototype.set=function(b,c,e){if(this.isObject(b))e=c;else if(this.isString(b)){var f={};f[b]=c,b=f}for(var g in b){c=b[g];var h=this;if(-1!==g.indexOf(".")){for(var i=g.split("."),j=0;j<i.length-1;j++)h=h[i[j]];g=i[i.length-1]}var k=h[g];a(k)||(d.Signal&&k instanceof d.Signal||d.Param&&k instanceof d.Param?k.value!==c&&(a(e)?k.value=c:k.rampTo(c,e)):k instanceof AudioParam?k.value!==c&&(k.value=c):k instanceof d?k.set(c):k!==c&&(h[g]=c))}return this},d.prototype.get=function(c){a(c)?c=this._collectDefaults(this.constructor):this.isString(c)&&(c=[c]);for(var e={},f=0;f<c.length;f++){var g=c[f],h=this,i=e;if(-1!==g.indexOf(".")){for(var j=g.split("."),k=0;k<j.length-1;k++){var l=j[k];i[l]=i[l]||{},i=i[l],h=h[l]}g=j[j.length-1]}var m=h[g];this.isObject(c[g])?i[g]=m.get():d.Signal&&m instanceof d.Signal?i[g]=m.value:d.Param&&m instanceof d.Param?i[g]=m.value:m instanceof AudioParam?i[g]=m.value:m instanceof d?i[g]=m.get():b(m)||a(m)||(i[g]=m)}return e},d.prototype._collectDefaults=function(b){var c=[];if(a(b.defaults)||(c=Object.keys(b.defaults)),!a(b._super))for(var d=this._collectDefaults(b._super),e=0;e<d.length;e++)-1===c.indexOf(d[e])&&c.push(d[e]);return c},d.prototype.toString=function(){for(var a in d){var c=a[0].match(/^[A-Z]$/),e=d[a]===this.constructor;if(b(d[a])&&c&&e)return a}return"Tone"},d.context=c,d.prototype.context=d.context,d.prototype.bufferSize=2048,d.prototype.blockTime=128/d.context.sampleRate,d.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this};var e=null;d.prototype.noGC=function(){return this.output.connect(e),this},AudioNode.prototype.noGC=function(){return this.connect(e),this},d.prototype.connect=function(a,b,c){return Array.isArray(this.output)?(b=this.defaultArg(b,0),this.output[b].connect(a,0,c)):this.output.connect(a,b,c),this},d.prototype.disconnect=function(a){return Array.isArray(this.output)?(a=this.defaultArg(a,0),this.output[a].disconnect()):this.output.disconnect(),this},d.prototype.connectSeries=function(){if(arguments.length>1)for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];a.connect(c),a=c}return this},d.prototype.connectParallel=function(){var a=arguments[0];if(arguments.length>1)for(var b=1;b<arguments.length;b++){var c=arguments[b];a.connect(c)}return this},d.prototype.chain=function(){if(arguments.length>0)for(var a=this,b=0;b<arguments.length;b++){var c=arguments[b];a.connect(c),a=c}return this},d.prototype.fan=function(){if(arguments.length>0)for(var a=0;a<arguments.length;a++)this.connect(arguments[a]);return this},AudioNode.prototype.chain=d.prototype.chain,AudioNode.prototype.fan=d.prototype.fan,d.prototype.defaultArg=function(b,c){if(this.isObject(b)&&this.isObject(c)){var d={};for(var e in b)d[e]=this.defaultArg(c[e],b[e]);for(var f in c)d[f]=this.defaultArg(b[f],c[f]);return d}return a(b)?c:b},d.prototype.optionsObject=function(a,b,c){var d={};if(1===a.length&&this.isObject(a[0]))d=a[0];else for(var e=0;e<b.length;e++)d[b[e]]=a[e];return this.isUndef(c)?d:this.defaultArg(d,c)},d.prototype.isUndef=a,d.prototype.isFunction=b,d.prototype.isNumber=function(a){return"number"==typeof a},d.prototype.isObject=function(a){return"[object Object]"===Object.prototype.toString.call(a)&&a.constructor===Object},d.prototype.isBoolean=function(a){return"boolean"==typeof a},d.prototype.isArray=function(a){return Array.isArray(a)},d.prototype.isString=function(a){return"string"==typeof a},d.noOp=function(){},d.prototype._readOnly=function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++)this._readOnly(a[b]);else Object.defineProperty(this,a,{writable:!1,enumerable:!0})},d.prototype._writable=function(a){if(Array.isArray(a))for(var b=0;b<a.length;b++)this._writable(a[b]);else Object.defineProperty(this,a,{writable:!0})},d.State={Started:"started",Stopped:"stopped",Paused:"paused"},d.prototype.equalPowerScale=function(a){var b=.5*Math.PI;return Math.sin(a*b)},d.prototype.dbToGain=function(a){return Math.pow(2,a/6)},d.prototype.gainToDb=function(a){return 20*(Math.log(a)/Math.LN10)},d.prototype.now=function(){return this.context.currentTime},d.extend=function(b,c){function e(){}a(c)&&(c=d),e.prototype=c.prototype,b.prototype=new e,b.prototype.constructor=b,b._super=c};var f=[];return d._initAudioContext=function(a){a(d.context),f.push(a)},d.setContext=function(a){d.prototype.context=a,d.context=a;for(var b=0;b<f.length;b++)f[b](a)},d.startMobile=function(){var a=d.context.createOscillator(),b=d.context.createGain();b.gain.value=0,a.connect(b),b.connect(d.context.destination);var c=d.context.currentTime;a.start(c),a.stop(c+1)},d._initAudioContext(function(a){d.prototype.blockTime=128/a.sampleRate,e=a.createGain(),e.gain.value=0,e.connect(a.destination)}),d.version="r6",console.log("%c * Tone.js "+d.version+" * ","background: #000; color: #fff"),d}),Module(function(a){return a.SignalBase=function(){},a.extend(a.SignalBase),a.SignalBase.prototype.connect=function(b,c,d){return a.Signal&&a.Signal===b.constructor||a.Param&&a.Param===b.constructor||a.TimelineSignal&&a.TimelineSignal===b.constructor?(b._param.cancelScheduledValues(0),b._param.value=0,b.overridden=!0):b instanceof AudioParam&&(b.cancelScheduledValues(0),b.value=0),a.prototype.connect.call(this,b,c,d),this},a.SignalBase}),Module(function(a){return a.WaveShaper=function(a,b){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(a)?this.curve=a:isFinite(a)||this.isUndef(a)?this._curve=new Float32Array(this.defaultArg(a,1024)):this.isFunction(a)&&(this._curve=new Float32Array(this.defaultArg(b,1024)),this.setMap(a))},a.extend(a.WaveShaper,a.SignalBase),a.WaveShaper.prototype.setMap=function(a){for(var b=0,c=this._curve.length;c>b;b++){var d=b/c*2-1;this._curve[b]=a(d,b)}return this._shaper.curve=this._curve,this},Object.defineProperty(a.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(a){this._curve=new Float32Array(a),this._shaper.curve=this._curve}}),Object.defineProperty(a.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(a){if(-1===["none","2x","4x"].indexOf(a))throw new Error("invalid oversampling: "+a);this._shaper.oversample=a}}),a.WaveShaper.prototype.dispose=function(){return a.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},a.WaveShaper}),Module(function(Tone){function getTransportBpm(){return Tone.Transport&&Tone.Transport.bpm?Tone.Transport.bpm.value:120}function getTransportTimeSignature(){return Tone.Transport&&Tone.Transport.timeSignature?Tone.Transport.timeSignature:4}function toNotationHelper(a,b,c,d){for(var e=this.toSeconds(a),f=this.notationToSeconds(d[d.length-1],b,c),g="",h=0;h<d.length;h++){var i=this.notationToSeconds(d[h],b,c),j=e/i,k=1e-6;if(k>1-j%1&&(j+=k),j=Math.floor(j),j>0){if(g+=1===j?d[h]:j.toString()+"*"+d[h],e-=j*i,f>e)break;g+=" + "}}return""===g&&(g="0"),g}Tone.Type={Default:"number",Time:"time",Frequency:"frequency",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",TransportTime:"transportTime",Ticks:"tick",Note:"note",Milliseconds:"milliseconds",Notation:"notation"},Tone.prototype.isNowRelative=function(){var a=new RegExp(/^\s*\+(.)+/i);return function(b){return a.test(b)}}(),Tone.prototype.isTicks=function(){var a=new RegExp(/^\d+i$/i);return function(b){return a.test(b)}}(),Tone.prototype.isNotation=function(){var a=new RegExp(/^[0-9]+[mnt]$/i);return function(b){return a.test(b)}}(),Tone.prototype.isTransportTime=function(){var a=new RegExp(/^(\d+(\.\d+)?\:){1,2}(\d+(\.\d+)?)?$/i);return function(b){return a.test(b)}}(),Tone.prototype.isNote=function(){var a=new RegExp(/^[a-g]{1}(b|#|x|bb)?-?[0-9]+$/i);return function(b){return a.test(b)}}(),Tone.prototype.isFrequency=function(){var a=new RegExp(/^\d*\.?\d+hz$/i);return function(b){return a.test(b)}}(),Tone.prototype.notationToSeconds=function(a,b,c){b=this.defaultArg(b,getTransportBpm()),c=this.defaultArg(c,getTransportTimeSignature());var d=60/b;"1n"===a&&(a="1m");var e=parseInt(a,10),f=0;0===e&&(f=0);var g=a.slice(-1);return f="t"===g?4/e*2/3:"n"===g?4/e:"m"===g?e*c:0,d*f},Tone.prototype.transportTimeToSeconds=function(a,b,c){b=this.defaultArg(b,getTransportBpm()),c=this.defaultArg(c,getTransportTimeSignature());var d=0,e=0,f=0,g=a.split(":");2===g.length?(d=parseFloat(g[0]),e=parseFloat(g[1])):1===g.length?e=parseFloat(g[0]):3===g.length&&(d=parseFloat(g[0]),e=parseFloat(g[1]),f=parseFloat(g[2]));var h=d*c+e+f/4;return h*(60/b)},Tone.prototype.ticksToSeconds=function(a,b){if(this.isUndef(Tone.Transport))return 0;a=parseFloat(a),b=this.defaultArg(b,getTransportBpm());var c=60/b/Tone.Transport.PPQ;return c*a},Tone.prototype.frequencyToSeconds=function(a){return 1/parseFloat(a)},Tone.prototype.samplesToSeconds=function(a){return a/this.context.sampleRate},Tone.prototype.secondsToSamples=function(a){return a*this.context.sampleRate},Tone.prototype.secondsToTransportTime=function(a,b,c){b=this.defaultArg(b,getTransportBpm()),c=this.defaultArg(c,getTransportTimeSignature());var d=60/b,e=a/d,f=Math.floor(e/c),g=e%1*4;e=Math.floor(e)%c;var h=[f,e,g];return h.join(":")},Tone.prototype.secondsToFrequency=function(a){return 1/a},Tone.prototype.toTransportTime=function(a,b,c){var d=this.toSeconds(a);return this.secondsToTransportTime(d,b,c)},Tone.prototype.toFrequency=function(a,b){return this.isFrequency(a)?parseFloat(a):this.isNotation(a)||this.isTransportTime(a)?this.secondsToFrequency(this.toSeconds(a,b)):this.isNote(a)?this.noteToFrequency(a):a},Tone.prototype.toTicks=function(a){if(this.isUndef(Tone.Transport))return 0;var b=Tone.Transport.bpm.value,c=0;if(this.isNowRelative(a))a=a.replace("+",""),c=Tone.Transport.ticks;else if(this.isUndef(a))return Tone.Transport.ticks;var d=this.toSeconds(a),e=60/b,f=d/e,g=f*Tone.Transport.PPQ;return Math.round(g+c)},Tone.prototype.toSamples=function(a){var b=this.toSeconds(a);return Math.round(b*this.context.sampleRate)},Tone.prototype.toSeconds=function(time,now){if(now=this.defaultArg(now,this.now()),this.isNumber(time))return time;if(this.isString(time)){var plusTime=0;this.isNowRelative(time)&&(time=time.replace("+",""),plusTime=now);var betweenParens=time.match(/\(([^)(]+)\)/g);if(betweenParens)for(var j=0;j<betweenParens.length;j++){var symbol=betweenParens[j].replace(/[\(\)]/g,""),symbolVal=this.toSeconds(symbol);time=time.replace(betweenParens[j],symbolVal)}if(-1!==time.indexOf("@")){var quantizationSplit=time.split("@");if(this.isUndef(Tone.Transport))throw new Error("quantization requires Tone.Transport");var toQuantize=quantizationSplit[0].trim();""===toQuantize&&(toQuantize=void 0),plusTime>0&&(toQuantize="+"+toQuantize,plusTime=0);var subdivision=quantizationSplit[1].trim();time=Tone.Transport.quantize(toQuantize,subdivision)}else{var components=time.split(/[\(\)\-\+\/\*]/);if(components.length>1){for(var originalTime=time,i=0;i<components.length;i++){var symb=components[i].trim();if(""!==symb){var val=this.toSeconds(symb);time=time.replace(symb,val)}}try{time=eval(time)}catch(e){throw new EvalError("cannot evaluate Time: "+originalTime)}}else time=this.isNotation(time)?this.notationToSeconds(time):this.isTransportTime(time)?this.transportTimeToSeconds(time):this.isFrequency(time)?this.frequencyToSeconds(time):this.isTicks(time)?this.ticksToSeconds(time):parseFloat(time)}return time+plusTime}return now},Tone.prototype.toNotation=function(a,b,c){var d=["1m","2n","4n","8n","16n","32n","64n","128n"],e=toNotationHelper.call(this,a,b,c,d),f=["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"],g=toNotationHelper.call(this,a,b,c,f);return g.split("+").length<e.split("+").length?g:e},Tone.prototype.fromUnits=function(a,b){if(!this.convert&&!this.isUndef(this.convert))return a;switch(b){case Tone.Type.Time:return this.toSeconds(a);case Tone.Type.Frequency:return this.toFrequency(a);case Tone.Type.Decibels:return this.dbToGain(a);case Tone.Type.NormalRange:return Math.min(Math.max(a,0),1);case Tone.Type.AudioRange:return Math.min(Math.max(a,-1),1);case Tone.Type.Positive:return Math.max(a,0);default:return a}},Tone.prototype.toUnits=function(a,b){if(!this.convert&&!this.isUndef(this.convert))return a;switch(b){case Tone.Type.Decibels:return this.gainToDb(a);default:return a}};var noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return Tone.A4=440,Tone.prototype.noteToFrequency=function(a){var b=a.split(/(-?\d+)/);if(3===b.length){var c=noteToScaleIndex[b[0].toLowerCase()],d=b[1],e=c+12*(parseInt(d,10)+1);return this.midiToFrequency(e)}return 0},Tone.prototype.frequencyToNote=function(a){var b=Math.log(a/Tone.A4)/Math.LN2,c=Math.round(12*b)+57,d=Math.floor(c/12);0>d&&(c+=-12*d);var e=scaleIndexToNote[c%12];return e+d.toString()},Tone.prototype.intervalToFrequencyRatio=function(a){return Math.pow(2,a/12)},Tone.prototype.midiToNote=function(a){var b=Math.floor(a/12)-1,c=a%12;return scaleIndexToNote[c]+b},Tone.prototype.noteToMidi=function(a){var b=a.split(/(\d+)/);if(3===b.length){var c=noteToScaleIndex[b[0].toLowerCase()],d=b[1];return c+12*(parseInt(d,10)+1)}return 0},Tone.prototype.midiToFrequency=function(a){return Tone.A4*Math.pow(2,(a-69)/12)},Tone}),Module(function(a){return a.Param=function(){var b=this.optionsObject(arguments,["param","units","convert"],a.Param.defaults);this._param=this.input=b.param,this.units=b.units,this.convert=b.convert,this.overridden=!1,this.isUndef(b.value)||(this.value=b.value)},a.extend(a.Param),a.Param.defaults={units:a.Type.Default,convert:!0,param:void 0},Object.defineProperty(a.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(a){var b=this._fromUnits(a);this._param.value=b}}),a.Param.prototype._fromUnits=function(b){if(!this.convert&&!this.isUndef(this.convert))return b;switch(this.units){case a.Type.Time:return this.toSeconds(b);case a.Type.Frequency:return this.toFrequency(b);case a.Type.Decibels:return this.dbToGain(b);case a.Type.NormalRange:return Math.min(Math.max(b,0),1);case a.Type.AudioRange:return Math.min(Math.max(b,-1),1);case a.Type.Positive:return Math.max(b,0);default:return b}},a.Param.prototype._toUnits=function(b){if(!this.convert&&!this.isUndef(this.convert))return b;switch(this.units){case a.Type.Decibels:return this.gainToDb(b);default:return b}},a.Param.prototype._minOutput=1e-5,a.Param.prototype.setValueAtTime=function(a,b){return a=this._fromUnits(a),this._param.setValueAtTime(a,this.toSeconds(b)),this},a.Param.prototype.setRampPoint=function(a){a=this.defaultArg(a,this.now());var b=this._param.value;return this._param.setValueAtTime(b,a),this},a.Param.prototype.linearRampToValueAtTime=function(a,b){return a=this._fromUnits(a),this._param.linearRampToValueAtTime(a,this.toSeconds(b)),this},a.Param.prototype.exponentialRampToValueAtTime=function(a,b){return a=this._fromUnits(a),a=Math.max(this._minOutput,a),this._param.exponentialRampToValueAtTime(a,this.toSeconds(b)),this},a.Param.prototype.exponentialRampToValue=function(a,b){var c=this.now(),d=this.value;return this.setValueAtTime(Math.max(d,this._minOutput),c),this.exponentialRampToValueAtTime(a,c+this.toSeconds(b)),this},a.Param.prototype.linearRampToValue=function(a,b){var c=this.now();return this.setRampPoint(c),this.linearRampToValueAtTime(a,c+this.toSeconds(b)),this},a.Param.prototype.setTargetAtTime=function(a,b,c){return a=this._fromUnits(a),a=Math.max(this._minOutput,a),c=Math.max(this._minOutput,c),this._param.setTargetAtTime(a,this.toSeconds(b),c),this},a.Param.prototype.setValueCurveAtTime=function(a,b,c){for(var d=0;d<a.length;d++)a[d]=this._fromUnits(a[d]);return this._param.setValueCurveAtTime(a,this.toSeconds(b),this.toSeconds(c)),this},a.Param.prototype.cancelScheduledValues=function(a){return this._param.cancelScheduledValues(this.toSeconds(a)),this},a.Param.prototype.rampTo=function(b,c){return c=this.defaultArg(c,0),this.units===a.Type.Frequency||this.units===a.Type.BPM?this.exponentialRampToValue(b,c):this.linearRampToValue(b,c),this},a.Param.prototype.dispose=function(){return a.prototype.dispose.call(this),this._param=null,this},a.Param}),Module(function(a){return a.Gain=function(){var b=this.optionsObject(arguments,["gain","units"],a.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new a.Param({param:this._gainNode.gain,units:b.units,value:b.gain,convert:b.convert}),this._readOnly("gain")},a.extend(a.Gain),a.Gain.defaults={gain:1,convert:!0},a.Gain.prototype.dispose=function(){a.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},a.Gain}),Module(function(a){return a.Signal=function(){var b=this.optionsObject(arguments,["value","units"],a.Signal.defaults);this.output=this._gain=this.context.createGain(),b.param=this._gain.gain,a.Param.call(this,b),this.input=this._param=this._gain.gain,a.Signal._constant.chain(this._gain)},a.extend(a.Signal,a.Param),a.Signal.defaults={value:0,units:a.Type.Default,convert:!0},a.Signal.prototype.connect=a.SignalBase.prototype.connect,a.Signal.prototype.dispose=function(){return a.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},a.Signal._constant=null,a._initAudioContext(function(b){for(var c=b.createBuffer(1,128,b.sampleRate),d=c.getChannelData(0),e=0;e<d.length;e++)d[e]=1;a.Signal._constant=b.createBufferSource(),a.Signal._constant.channelCount=1,a.Signal._constant.channelCountMode="explicit",a.Signal._constant.buffer=c,a.Signal._constant.loop=!0,a.Signal._constant.start(0),a.Signal._constant.noGC()}),a.Signal}),Module(function(a){return a.Timeline=function(){var b=this.optionsObject(arguments,["memory"],a.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=b.memory},a.extend(a.Timeline),a.Timeline.defaults={memory:1/0},Object.defineProperty(a.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),a.Timeline.prototype.addEvent=function(a){if(this.isUndef(a.time))throw new Error("events must have a time attribute");if(a.time=this.toSeconds(a.time),this._timeline.length){var b=this._search(a.time);this._timeline.splice(b+1,0,a)}else this._timeline.push(a);if(this.length>this.memory){var c=this.length-this.memory;this._timeline.splice(0,c)}return this;
},a.Timeline.prototype.removeEvent=function(a){if(this._iterating)this._toRemove.push(a);else{var b=this._timeline.indexOf(a);-1!==b&&this._timeline.splice(b,1)}return this},a.Timeline.prototype.getEvent=function(a){a=this.toSeconds(a);var b=this._search(a);return-1!==b?this._timeline[b]:null},a.Timeline.prototype.getEventAfter=function(a){a=this.toSeconds(a);var b=this._search(a);return b+1<this._timeline.length?this._timeline[b+1]:null},a.Timeline.prototype.getEventBefore=function(a){a=this.toSeconds(a);var b=this._search(a);return b-1>=0?this._timeline[b-1]:null},a.Timeline.prototype.cancel=function(a){if(this._timeline.length>1){a=this.toSeconds(a);var b=this._search(a);b>=0?this._timeline=this._timeline.slice(0,b):this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=a&&(this._timeline=[]);return this},a.Timeline.prototype.cancelBefore=function(a){if(this._timeline.length){a=this.toSeconds(a);var b=this._search(a);b>=0&&(this._timeline=this._timeline.slice(b+1))}return this},a.Timeline.prototype._search=function(a){for(var b=0,c=this._timeline.length,d=c;d>=b&&c>b;){var e=Math.floor(b+(d-b)/2),f=this._timeline[e];if(f.time===a){for(var g=e;g<this._timeline.length;g++){var h=this._timeline[g];h.time===a&&(e=g)}return e}f.time>a?d=e-1:f.time<a&&(b=e+1)}return b-1},a.Timeline.prototype._iterate=function(a,b,c){this._iterating=!0,b=this.defaultArg(b,0),c=this.defaultArg(c,this._timeline.length-1);for(var d=b;c>=d;d++)a(this._timeline[d]);if(this._iterating=!1,this._toRemove.length>0){for(var e=0;e<this._toRemove.length;e++){var f=this._timeline.indexOf(this._toRemove[e]);-1!==f&&this._timeline.splice(f,1)}this._toRemove=[]}},a.Timeline.prototype.forEach=function(a){return this._iterate(a),this},a.Timeline.prototype.forEachBefore=function(a,b){a=this.toSeconds(a);var c=this._search(a);return-1!==c&&this._iterate(b,0,c),this},a.Timeline.prototype.forEachAfter=function(a,b){a=this.toSeconds(a);var c=this._search(a);return this._iterate(b,c+1),this},a.Timeline.prototype.forEachFrom=function(a,b){a=this.toSeconds(a);for(var c=this._search(a);c>=0&&this._timeline[c].time>=a;)c--;return this._iterate(b,c+1),this},a.Timeline.prototype.forEachAtTime=function(a,b){a=this.toSeconds(a);var c=this._search(a);return-1!==c&&this._iterate(function(c){c.time===a&&b(c)},0,c),this},a.Timeline.prototype.dispose=function(){a.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},a.Timeline}),Module(function(a){return a.TimelineSignal=function(){var b=this.optionsObject(arguments,["value","units"],a.Signal.defaults);a.Signal.apply(this,b),b.param=this._param,a.Param.call(this,b),this._events=new a.Timeline(10),this._initial=this._fromUnits(this._param.value)},a.extend(a.TimelineSignal,a.Param),a.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Set:"set"},Object.defineProperty(a.TimelineSignal.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(a){var b=this._fromUnits(a);this._initial=b,this._param.value=b}}),a.TimelineSignal.prototype.setValueAtTime=function(b,c){return b=this._fromUnits(b),c=this.toSeconds(c),this._events.addEvent({type:a.TimelineSignal.Type.Set,value:b,time:c}),this._param.setValueAtTime(b,c),this},a.TimelineSignal.prototype.linearRampToValueAtTime=function(b,c){return b=this._fromUnits(b),c=this.toSeconds(c),this._events.addEvent({type:a.TimelineSignal.Type.Linear,value:b,time:c}),this._param.linearRampToValueAtTime(b,c),this},a.TimelineSignal.prototype.exponentialRampToValueAtTime=function(b,c){return b=this._fromUnits(b),b=Math.max(this._minOutput,b),c=this.toSeconds(c),this._events.addEvent({type:a.TimelineSignal.Type.Exponential,value:b,time:c}),this._param.exponentialRampToValueAtTime(b,c),this},a.TimelineSignal.prototype.setTargetAtTime=function(b,c,d){return b=this._fromUnits(b),b=Math.max(this._minOutput,b),d=Math.max(this._minOutput,d),c=this.toSeconds(c),this._events.addEvent({type:a.TimelineSignal.Type.Target,value:b,time:c,constant:d}),this._param.setTargetAtTime(b,c,d),this},a.TimelineSignal.prototype.cancelScheduledValues=function(a){return this._events.cancel(a),this._param.cancelScheduledValues(this.toSeconds(a)),this},a.TimelineSignal.prototype.setRampPoint=function(b){b=this.toSeconds(b);var c=this.getValueAtTime(b),d=this._searchAfter(b);return d&&(this.cancelScheduledValues(b),d.type===a.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(c,b):d.type===a.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(c,b)),this.setValueAtTime(c,b),this},a.TimelineSignal.prototype.linearRampToValueBetween=function(a,b,c){return this.setRampPoint(b),this.linearRampToValueAtTime(a,c),this},a.TimelineSignal.prototype.exponentialRampToValueBetween=function(a,b,c){return this.setRampPoint(b),this.exponentialRampToValueAtTime(a,c),this},a.TimelineSignal.prototype._searchBefore=function(a){return this._events.getEvent(a)},a.TimelineSignal.prototype._searchAfter=function(a){return this._events.getEventAfter(a)},a.TimelineSignal.prototype.getValueAtTime=function(b){var c=this._searchAfter(b),d=this._searchBefore(b),e=this._initial;if(null===d)e=this._initial;else if(d.type===a.TimelineSignal.Type.Target){var f,g=this._events.getEventBefore(d.time);f=null===g?this._initial:g.value,e=this._exponentialApproach(d.time,f,d.value,d.constant,b)}else e=null===c?d.value:c.type===a.TimelineSignal.Type.Linear?this._linearInterpolate(d.time,d.value,c.time,c.value,b):c.type===a.TimelineSignal.Type.Exponential?this._exponentialInterpolate(d.time,d.value,c.time,c.value,b):d.value;return e},a.TimelineSignal.prototype.connect=a.SignalBase.prototype.connect,a.TimelineSignal.prototype._exponentialApproach=function(a,b,c,d,e){return c+(b-c)*Math.exp(-(e-a)/d)},a.TimelineSignal.prototype._linearInterpolate=function(a,b,c,d,e){return b+(d-b)*((e-a)/(c-a))},a.TimelineSignal.prototype._exponentialInterpolate=function(a,b,c,d,e){return b=Math.max(this._minOutput,b),b*Math.pow(d/b,(e-a)/(c-a))},a.TimelineSignal.prototype.dispose=function(){a.Signal.prototype.dispose.call(this),a.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},a.TimelineSignal}),Module(function(a){return a.Pow=function(b){this._exp=this.defaultArg(b,1),this._expScaler=this.input=this.output=new a.WaveShaper(this._expFunc(this._exp),8192)},a.extend(a.Pow,a.SignalBase),Object.defineProperty(a.Pow.prototype,"value",{get:function(){return this._exp},set:function(a){this._exp=a,this._expScaler.setMap(this._expFunc(this._exp))}}),a.Pow.prototype._expFunc=function(a){return function(b){return Math.pow(Math.abs(b),a)}},a.Pow.prototype.dispose=function(){return a.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},a.Pow}),Module(function(a){return a.Envelope=function(){var b=this.optionsObject(arguments,["attack","decay","sustain","release"],a.Envelope.defaults);this.attack=b.attack,this.decay=b.decay,this.sustain=b.sustain,this.release=b.release,this._attackCurve=a.Envelope.Type.Linear,this._releaseCurve=a.Envelope.Type.Exponential,this._minOutput=1e-5,this._sig=this.output=new a.TimelineSignal,this._sig.setValueAtTime(this._minOutput,0),this.attackCurve=b.attackCurve,this.releaseCurve=b.releaseCurve},a.extend(a.Envelope),a.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",releaseCurve:"exponential"},a.Envelope.prototype._timeMult=.25,Object.defineProperty(a.Envelope.prototype,"value",{get:function(){return this._sig.value}}),Object.defineProperty(a.Envelope.prototype,"attackCurve",{get:function(){return this._attackCurve},set:function(b){if(b!==a.Envelope.Type.Linear&&b!==a.Envelope.Type.Exponential)throw Error('attackCurve must be either "linear" or "exponential". Invalid type: ',b);this._attackCurve=b}}),Object.defineProperty(a.Envelope.prototype,"releaseCurve",{get:function(){return this._releaseCurve},set:function(b){if(b!==a.Envelope.Type.Linear&&b!==a.Envelope.Type.Exponential)throw Error('releaseCurve must be either "linear" or "exponential". Invalid type: ',b);this._releaseCurve=b}}),a.Envelope.prototype.triggerAttack=function(b,c){var d=this.now()+this.blockTime;b=this.toSeconds(b,d);var e=this.toSeconds(this.attack)+b,f=this.toSeconds(this.decay);return c=this.defaultArg(c,1),this._attackCurve===a.Envelope.Type.Linear?this._sig.linearRampToValueBetween(c,b,e):this._sig.exponentialRampToValueBetween(c,b,e),this._sig.setValueAtTime(c,e),this._sig.exponentialRampToValueAtTime(this.sustain*c,e+f),this},a.Envelope.prototype.triggerRelease=function(b){var c=this.now()+this.blockTime;b=this.toSeconds(b,c);var d=this.toSeconds(this.release);return this._releaseCurve===a.Envelope.Type.Linear?this._sig.linearRampToValueBetween(this._minOutput,b,b+d):this._sig.exponentialRampToValueBetween(this._minOutput,b,d+b),this},a.Envelope.prototype.triggerAttackRelease=function(a,b,c){return b=this.toSeconds(b),this.triggerAttack(b,c),this.triggerRelease(b+this.toSeconds(a)),this},a.Envelope.prototype.connect=a.Signal.prototype.connect,a.Envelope.prototype.dispose=function(){return a.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this},a.Envelope.Phase={Attack:"attack",Decay:"decay",Sustain:"sustain",Release:"release",Standby:"standby"},a.Envelope.Type={Linear:"linear",Exponential:"exponential"},a.Envelope}),Module(function(a){return a.AmplitudeEnvelope=function(){a.Envelope.apply(this,arguments),this.input=this.output=new a.Gain,this._sig.connect(this.output.gain)},a.extend(a.AmplitudeEnvelope,a.Envelope),a.AmplitudeEnvelope.prototype.dispose=function(){return this.input.dispose(),this.input=null,a.Envelope.prototype.dispose.call(this),this},a.AmplitudeEnvelope}),Module(function(a){return a.Analyser=function(){var b=this.optionsObject(arguments,["size","type"],a.Analyser.defaults);this._analyser=this.input=this.context.createAnalyser(),this._type=b.type,this._returnType=b.returnType,this._buffer=null,this.size=b.size,this.type=b.type,this.returnType=b.returnType,this.minDecibels=b.minDecibels,this.maxDecibels=b.maxDecibels},a.extend(a.Analyser),a.Analyser.defaults={size:2048,returnType:"byte",type:"fft",smoothing:.8,maxDecibels:-30,minDecibels:-100},a.Analyser.Type={Waveform:"waveform",FFT:"fft"},a.Analyser.ReturnType={Byte:"byte",Float:"float"},a.Analyser.prototype.analyse=function(){return this._type===a.Analyser.Type.FFT?this._returnType===a.Analyser.ReturnType.Byte?this._analyser.getByteFrequencyData(this._buffer):this._analyser.getFloatFrequencyData(this._buffer):this._type===a.Analyser.Type.Waveform&&(this._returnType===a.Analyser.ReturnType.Byte?this._analyser.getByteTimeDomainData(this._buffer):this._analyser.getFloatTimeDomainData(this._buffer)),this._buffer},Object.defineProperty(a.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(a){this._analyser.fftSize=2*a,this.type=this._type}}),Object.defineProperty(a.Analyser.prototype,"returnType",{get:function(){return this._returnType},set:function(b){if(b===a.Analyser.ReturnType.Byte)this._buffer=new Uint8Array(this._analyser.frequencyBinCount);else{if(b!==a.Analyser.ReturnType.Float)throw new Error("Invalid Return Type: "+b);this._buffer=new Float32Array(this._analyser.frequencyBinCount)}this._returnType=b}}),Object.defineProperty(a.Analyser.prototype,"type",{get:function(){return this._type},set:function(b){if(b!==a.Analyser.Type.Waveform&&b!==a.Analyser.Type.FFT)throw new Error("Invalid Type: "+b);this._type=b}}),Object.defineProperty(a.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(a){this._analyser.smoothingTimeConstant=a}}),Object.defineProperty(a.Analyser.prototype,"minDecibels",{get:function(){return this._analyser.minDecibels},set:function(a){this._analyser.minDecibels=a}}),Object.defineProperty(a.Analyser.prototype,"maxDecibels",{get:function(){return this._analyser.maxDecibels},set:function(a){this._analyser.maxDecibels=a}}),a.Analyser.prototype.dispose=function(){a.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},a.Analyser}),Module(function(a){return a.Compressor=function(){var b=this.optionsObject(arguments,["threshold","ratio"],a.Compressor.defaults);this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=this._compressor.threshold,this.attack=new a.Param(this._compressor.attack,a.Type.Time),this.release=new a.Param(this._compressor.release,a.Type.Time),this.knee=this._compressor.knee,this.ratio=this._compressor.ratio,this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(b)},a.extend(a.Compressor),a.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},a.Compressor.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold=null,this.ratio=null,this.knee=null,this},a.Compressor}),Module(function(a){return a.Add=function(b){a.call(this,2,0),this._sum=this.input[0]=this.input[1]=this.output=this.context.createGain(),this._param=this.input[1]=new a.Signal(b),this._param.connect(this._sum)},a.extend(a.Add,a.Signal),a.Add.prototype.dispose=function(){return a.prototype.dispose.call(this),this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},a.Add}),Module(function(a){return a.Multiply=function(b){a.call(this,2,0),this._mult=this.input[0]=this.output=this.context.createGain(),this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(b,0)},a.extend(a.Multiply,a.Signal),a.Multiply.prototype.dispose=function(){return a.prototype.dispose.call(this),this._mult.disconnect(),this._mult=null,this._param=null,this},a.Multiply}),Module(function(a){return a.Negate=function(){this._multiply=this.input=this.output=new a.Multiply(-1)},a.extend(a.Negate,a.SignalBase),a.Negate.prototype.dispose=function(){return a.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},a.Negate}),Module(function(a){return a.Subtract=function(b){a.call(this,2,0),this._sum=this.input[0]=this.output=this.context.createGain(),this._neg=new a.Negate,this._param=this.input[1]=new a.Signal(b),this._param.chain(this._neg,this._sum)},a.extend(a.Subtract,a.Signal),a.Subtract.prototype.dispose=function(){return a.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},a.Subtract}),Module(function(a){return a.GreaterThanZero=function(){this._thresh=this.output=new a.WaveShaper(function(a){return 0>=a?0:1}),this._scale=this.input=new a.Multiply(1e4),this._scale.connect(this._thresh)},a.extend(a.GreaterThanZero,a.SignalBase),a.GreaterThanZero.prototype.dispose=function(){return a.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},a.GreaterThanZero}),Module(function(a){return a.EqualZero=function(){this._scale=this.input=new a.Multiply(1e4),this._thresh=new a.WaveShaper(function(a){return 0===a?1:0},128),this._gtz=this.output=new a.GreaterThanZero,this._scale.chain(this._thresh,this._gtz)},a.extend(a.EqualZero,a.SignalBase),a.EqualZero.prototype.dispose=function(){return a.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},a.EqualZero}),Module(function(a){return a.Equal=function(b){a.call(this,2,0),this._sub=this.input[0]=new a.Subtract(b),this._equals=this.output=new a.EqualZero,this._sub.connect(this._equals),this.input[1]=this._sub.input[1]},a.extend(a.Equal,a.SignalBase),Object.defineProperty(a.Equal.prototype,"value",{get:function(){return this._sub.value},set:function(a){this._sub.value=a}}),a.Equal.prototype.dispose=function(){return a.prototype.dispose.call(this),this._equals.dispose(),this._equals=null,this._sub.dispose(),this._sub=null,this},a.Equal}),Module(function(a){a.Select=function(c){c=this.defaultArg(c,2),a.call(this,c,1),this.gate=new a.Signal(0),this._readOnly("gate");for(var d=0;c>d;d++){var e=new b(d);this.input[d]=e,this.gate.connect(e.selecter),e.connect(this.output)}},a.extend(a.Select,a.SignalBase),a.Select.prototype.select=function(a,b){return a=Math.floor(a),this.gate.setValueAtTime(a,this.toSeconds(b)),this},a.Select.prototype.dispose=function(){this._writable("gate"),this.gate.dispose(),this.gate=null;for(var b=0;b<this.input.length;b++)this.input[b].dispose(),this.input[b]=null;return a.prototype.dispose.call(this),this};var b=function(b){this.selecter=new a.Equal(b),this.gate=this.input=this.output=this.context.createGain(),this.selecter.connect(this.gate.gain)};return a.extend(b),b.prototype.dispose=function(){a.prototype.dispose.call(this),this.selecter.dispose(),this.gate.disconnect(),this.selecter=null,this.gate=null},a.Select}),Module(function(a){return a.IfThenElse=function(){a.call(this,3,0),this._selector=this.output=new a.Select(2),this["if"]=this.input[0]=this._selector.gate,this.then=this.input[1]=this._selector.input[1],this["else"]=this.input[2]=this._selector.input[0]},a.extend(a.IfThenElse,a.SignalBase),a.IfThenElse.prototype.dispose=function(){return a.prototype.dispose.call(this),this._selector.dispose(),this._selector=null,this["if"]=null,this.then=null,this["else"]=null,this},a.IfThenElse}),Module(function(a){return a.OR=function(b){b=this.defaultArg(b,2),a.call(this,b,0),this._sum=this.context.createGain(),this._gtz=this.output=new a.GreaterThanZero;for(var c=0;b>c;c++)this.input[c]=this._sum;this._sum.connect(this._gtz)},a.extend(a.OR,a.SignalBase),a.OR.prototype.dispose=function(){return a.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this._sum.disconnect(),this._sum=null,this},a.OR}),Module(function(a){return a.AND=function(b){b=this.defaultArg(b,2),a.call(this,b,0),this._equals=this.output=new a.Equal(b);for(var c=0;b>c;c++)this.input[c]=this._equals},a.extend(a.AND,a.SignalBase),a.AND.prototype.dispose=function(){return a.prototype.dispose.call(this),this._equals.dispose(),this._equals=null,this},a.AND}),Module(function(a){return a.NOT=a.EqualZero,a.NOT}),Module(function(a){return a.GreaterThan=function(b){a.call(this,2,0),this._param=this.input[0]=new a.Subtract(b),this.input[1]=this._param.input[1],this._gtz=this.output=new a.GreaterThanZero,this._param.connect(this._gtz)},a.extend(a.GreaterThan,a.Signal),a.GreaterThan.prototype.dispose=function(){return a.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},a.GreaterThan}),Module(function(a){return a.LessThan=function(b){a.call(this,2,0),this._neg=this.input[0]=new a.Negate,this._gt=this.output=new a.GreaterThan,this._rhNeg=new a.Negate,this._param=this.input[1]=new a.Signal(b),this._neg.connect(this._gt),this._param.connect(this._rhNeg),this._rhNeg.connect(this._gt,0,1)},a.extend(a.LessThan,a.Signal),a.LessThan.prototype.dispose=function(){return a.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._gt.dispose(),this._gt=null,this._rhNeg.dispose(),this._rhNeg=null,this._param.dispose(),this._param=null,this},a.LessThan}),Module(function(a){return a.Abs=function(){a.call(this,1,0),this._ltz=new a.LessThan(0),this._switch=this.output=new a.Select(2),this._negate=new a.Negate,this.input.connect(this._switch,0,0),this.input.connect(this._negate),this._negate.connect(this._switch,0,1),this.input.chain(this._ltz,this._switch.gate)},a.extend(a.Abs,a.SignalBase),a.Abs.prototype.dispose=function(){return a.prototype.dispose.call(this),this._switch.dispose(),this._switch=null,this._ltz.dispose(),this._ltz=null,this._negate.dispose(),this._negate=null,this},a.Abs}),Module(function(a){return a.Max=function(b){a.call(this,2,0),this.input[0]=this.context.createGain(),this._param=this.input[1]=new a.Signal(b),this._ifThenElse=this.output=new a.IfThenElse,this._gt=new a.GreaterThan,this.input[0].chain(this._gt,this._ifThenElse["if"]),this.input[0].connect(this._ifThenElse.then),this._param.connect(this._ifThenElse["else"]),this._param.connect(this._gt,0,1)},a.extend(a.Max,a.Signal),a.Max.prototype.dispose=function(){return a.prototype.dispose.call(this),this._param.dispose(),this._ifThenElse.dispose(),this._gt.dispose(),this._param=null,this._ifThenElse=null,this._gt=null,this},a.Max}),Module(function(a){return a.Min=function(b){a.call(this,2,0),this.input[0]=this.context.createGain(),this._ifThenElse=this.output=new a.IfThenElse,this._lt=new a.LessThan,this._param=this.input[1]=new a.Signal(b),this.input[0].chain(this._lt,this._ifThenElse["if"]),this.input[0].connect(this._ifThenElse.then),this._param.connect(this._ifThenElse["else"]),this._param.connect(this._lt,0,1)},a.extend(a.Min,a.Signal),a.Min.prototype.dispose=function(){return a.prototype.dispose.call(this),this._param.dispose(),this._ifThenElse.dispose(),this._lt.dispose(),this._param=null,this._ifThenElse=null,this._lt=null,this},a.Min}),Module(function(a){return a.Modulo=function(b){a.call(this,1,1),this._shaper=new a.WaveShaper(Math.pow(2,16)),this._multiply=new a.Multiply,this._subtract=this.output=new a.Subtract,this._modSignal=new a.Signal(b),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(b)},a.extend(a.Modulo,a.SignalBase),a.Modulo.prototype._setWaveShaper=function(a){this._shaper.setMap(function(b){var c=Math.floor((b+1e-4)/a);return c})},Object.defineProperty(a.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(a){this._modSignal.value=a,this._setWaveShaper(a)}}),a.Modulo.prototype.dispose=function(){return a.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},a.Modulo}),Module(function(a){return a.AudioToGain=function(){this._norm=this.input=this.output=new a.WaveShaper(function(a){return(a+1)/2})},a.extend(a.AudioToGain,a.SignalBase),a.AudioToGain.prototype.dispose=function(){return a.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},a.AudioToGain}),Module(function(a){function b(a,b,c){var d=new a;return c._eval(b[0]).connect(d,0,0),c._eval(b[1]).connect(d,0,1),d}function c(a,b,c){var d=new a;return c._eval(b[0]).connect(d,0,0),d}function d(a){return a?parseFloat(a):void 0}function e(a){return a&&a.args?parseFloat(a.args):void 0}return a.Expr=function(){var a=this._replacements(Array.prototype.slice.call(arguments)),b=this._parseInputs(a);this._nodes=[],this.input=new Array(b);for(var c=0;b>c;c++)this.input[c]=this.context.createGain();var d,e=this._parseTree(a);try{d=this._eval(e)}catch(f){throw this._disposeNodes(),new Error("Could evaluate expression: "+a)}this.output=d},a.extend(a.Expr,a.SignalBase),a.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(b){var c=new a.Signal(d(b));return c}},input:{regexp:/^\$\d/,method:function(a,b){return b.input[d(a.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:c.bind(this,a.Abs)},min:{regexp:/^min/,method:b.bind(this,a.Min)},max:{regexp:/^max/,method:b.bind(this,a.Max)},"if":{regexp:/^if/,method:function(b,c){var d=new a.IfThenElse;return c._eval(b[0]).connect(d["if"]),c._eval(b[1]).connect(d.then),c._eval(b[2]).connect(d["else"]),d}},gt0:{regexp:/^gt0/,method:c.bind(this,a.GreaterThanZero)},eq0:{regexp:/^eq0/,method:c.bind(this,a.EqualZero)},mod:{regexp:/^mod/,method:function(b,c){var d=e(b[1]),f=new a.Modulo(d);return c._eval(b[0]).connect(f),f}},pow:{regexp:/^pow/,method:function(b,c){var d=e(b[1]),f=new a.Pow(d);return c._eval(b[0]).connect(f),f}},a2g:{regexp:/^a2g/,method:function(b,c){var d=new a.AudioToGain;return c._eval(b[0]).connect(d),d}}},binary:{"+":{regexp:/^\+/,precedence:1,method:b.bind(this,a.Add)},"-":{regexp:/^\-/,precedence:1,method:function(d,e){return 1===d.length?c(a.Negate,d,e):b(a.Subtract,d,e)}},"*":{regexp:/^\*/,precedence:0,method:b.bind(this,a.Multiply)},">":{regexp:/^\>/,precedence:2,method:b.bind(this,a.GreaterThan)},"<":{regexp:/^</,precedence:2,method:b.bind(this,a.LessThan)},"==":{regexp:/^==/,precedence:3,method:b.bind(this,a.Equal)},"&&":{regexp:/^&&/,precedence:4,method:b.bind(this,a.AND)},"||":{regexp:/^\|\|/,precedence:5,method:b.bind(this,a.OR)}},unary:{"-":{regexp:/^\-/,method:c.bind(this,a.Negate)},"!":{regexp:/^\!/,method:c.bind(this,a.NOT)}}},a.Expr.prototype._parseInputs=function(a){var b=a.match(/\$\d/g),c=0;if(null!==b)for(var d=0;d<b.length;d++){var e=parseInt(b[d].substr(1))+1;c=Math.max(c,e)}return c},a.Expr.prototype._replacements=function(a){for(var b=a.shift(),c=0;c<a.length;c++)b=b.replace(/\%/i,a[c]);return b},a.Expr.prototype._tokenize=function(b){function c(b){for(var c in a.Expr._Expressions){var d=a.Expr._Expressions[c];for(var e in d){var f=d[e],g=f.regexp,h=b.match(g);if(null!==h)return{type:c,value:h[0],method:f.method}}}throw new SyntaxError("Unexpected token "+b)}for(var d=-1,e=[];b.length>0;){b=b.trim();var f=c(b);e.push(f),b=b.substr(f.value.length)}return{next:function(){return e[++d]},peek:function(){return e[d+1]}}},a.Expr.prototype._parseTree=function(b){function c(a,b){return!k(a)&&"glue"===a.type&&a.value===b}function d(b,c,d){var e=!1,f=a.Expr._Expressions[c];if(!k(b))for(var g in f){var h=f[g];if(h.regexp.test(b.value)){if(k(d))return!0;if(h.precedence===d)return!0}}return e}function e(a){k(a)&&(a=5);var b;b=0>a?f():e(a-1);for(var c=j.peek();d(c,"binary",a);)c=j.next(),b={operator:c.value,method:c.method,args:[b,e(a)]},c=j.peek();return b}function f(){var a,b;return a=j.peek(),d(a,"unary")?(a=j.next(),b=f(),{operator:a.value,method:a.method,args:[b]}):g()}function g(){var a,b;if(a=j.peek(),k(a))throw new SyntaxError("Unexpected termination of expression");if("func"===a.type)return a=j.next(),h(a);if("value"===a.type)return a=j.next(),{method:a.method,args:a.value};if(c(a,"(")){if(j.next(),b=e(),a=j.next(),!c(a,")"))throw new SyntaxError("Expected )");return b}throw new SyntaxError("Parse error, cannot process token "+a.value)}function h(a){var b,d=[];if(b=j.next(),!c(b,"("))throw new SyntaxError('Expected ( in a function call "'+a.value+'"');if(b=j.peek(),c(b,")")||(d=i()),b=j.next(),!c(b,")"))throw new SyntaxError('Expected ) in a function call "'+a.value+'"');return{method:a.method,args:d,name:name}}function i(){for(var a,b,d=[];;){if(b=e(),k(b))break;if(d.push(b),a=j.peek(),!c(a,","))break;j.next()}return d}var j=this._tokenize(b),k=this.isUndef.bind(this);return e()},a.Expr.prototype._eval=function(a){if(!this.isUndef(a)){var b=a.method(a.args,this);return this._nodes.push(b),b}},a.Expr.prototype._disposeNodes=function(){for(var a=0;a<this._nodes.length;a++){var b=this._nodes[a];this.isFunction(b.dispose)?b.dispose():this.isFunction(b.disconnect)&&b.disconnect(),b=null,this._nodes[a]=null}this._nodes=null},a.Expr.prototype.dispose=function(){a.prototype.dispose.call(this),this._disposeNodes()},a.Expr}),Module(function(a){return a.EqualPowerGain=function(){this._eqPower=this.input=this.output=new a.WaveShaper(function(a){return Math.abs(a)<.001?0:this.equalPowerScale(a)}.bind(this),4096)},a.extend(a.EqualPowerGain,a.SignalBase),a.EqualPowerGain.prototype.dispose=function(){return a.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},a.EqualPowerGain}),Module(function(a){return a.CrossFade=function(b){a.call(this,2,1),this.a=this.input[0]=this.context.createGain(),this.b=this.input[1]=this.context.createGain(),this.fade=new a.Signal(this.defaultArg(b,.5),a.Type.NormalRange),this._equalPowerA=new a.EqualPowerGain,this._equalPowerB=new a.EqualPowerGain,this._invert=new a.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},a.extend(a.CrossFade),a.CrossFade.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.disconnect(),this.a=null,this.b.disconnect(),this.b=null,this},a.CrossFade}),Module(function(a){return a.Filter=function(){a.call(this);var b=this.optionsObject(arguments,["frequency","type","rolloff"],a.Filter.defaults);this._filters=[],this.frequency=new a.Signal(b.frequency,a.Type.Frequency),this.detune=new a.Signal(0,a.Type.Cents),this.gain=new a.Signal({value:b.gain,convert:!1}),this.Q=new a.Signal(b.Q),this._type=b.type,this._rolloff=b.rolloff,this.rolloff=b.rolloff,this._readOnly(["detune","frequency","gain","Q"])},a.extend(a.Filter),a.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(a.Filter.prototype,"type",{get:function(){return this._type},set:function(a){var b=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];if(-1===b.indexOf(a))throw new Error("Tone.Filter does not have filter type "+a);this._type=a;for(var c=0;c<this._filters.length;c++)this._filters[c].type=a}}),Object.defineProperty(a.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(a){a=parseInt(a,10);var b=[-12,-24,-48,-96],c=b.indexOf(a);if(-1===c)throw new Error("Filter rolloff can only be -12, -24, -48 or -96");c+=1,this._rolloff=a,this.input.disconnect();for(var d=0;d<this._filters.length;d++)this._filters[d].disconnect(),this._filters[d]=null;this._filters=new Array(c);for(var e=0;c>e;e++){var f=this.context.createBiquadFilter();f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[e]=f}var g=[this.input].concat(this._filters).concat([this.output]);this.connectSeries.apply(this,g)}}),a.Filter.prototype.dispose=function(){a.prototype.dispose.call(this);for(var b=0;b<this._filters.length;b++)this._filters[b].disconnect(),this._filters[b]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},a.Filter}),Module(function(a){return a.MultibandSplit=function(){var b=this.optionsObject(arguments,["lowFrequency","highFrequency"],a.MultibandSplit.defaults);this.input=this.context.createGain(),this.output=new Array(3),this.low=this.output[0]=new a.Filter(0,"lowpass"),this._lowMidFilter=new a.Filter(0,"highpass"),this.mid=this.output[1]=new a.Filter(0,"lowpass"),this.high=this.output[2]=new a.Filter(0,"highpass"),this.lowFrequency=new a.Signal(b.lowFrequency,a.Type.Frequency),this.highFrequency=new a.Signal(b.highFrequency,a.Type.Frequency),this.Q=new a.Signal(b.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},a.extend(a.MultibandSplit),a.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},a.MultibandSplit.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),
this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},a.MultibandSplit}),Module(function(a){return a.EQ3=function(){var b=this.optionsObject(arguments,["low","mid","high"],a.EQ3.defaults);this.output=this.context.createGain(),this._multibandSplit=this.input=new a.MultibandSplit({lowFrequency:b.lowFrequency,highFrequency:b.highFrequency}),this._lowGain=new a.Gain(b.low,a.Type.Decibels),this._midGain=new a.Gain(b.mid,a.Type.Decibels),this._highGain=new a.Gain(b.high,a.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},a.extend(a.EQ3),a.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},a.EQ3.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},a.EQ3}),Module(function(a){return a.Scale=function(b,c){this._outputMin=this.defaultArg(b,0),this._outputMax=this.defaultArg(c,1),this._scale=this.input=new a.Multiply(1),this._add=this.output=new a.Add(0),this._scale.connect(this._add),this._setRange()},a.extend(a.Scale,a.SignalBase),Object.defineProperty(a.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(a){this._outputMin=a,this._setRange()}}),Object.defineProperty(a.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(a){this._outputMax=a,this._setRange()}}),a.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},a.Scale.prototype.dispose=function(){return a.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},a.Scale}),Module(function(a){return a.ScaleExp=function(b,c,d){this._scale=this.output=new a.Scale(b,c),this._exp=this.input=new a.Pow(this.defaultArg(d,2)),this._exp.connect(this._scale)},a.extend(a.ScaleExp,a.SignalBase),Object.defineProperty(a.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(a){this._exp.value=a}}),Object.defineProperty(a.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(a){this._scale.min=a}}),Object.defineProperty(a.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(a){this._scale.max=a}}),a.ScaleExp.prototype.dispose=function(){return a.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},a.ScaleExp}),Module(function(a){return a.FeedbackCombFilter=function(){a.call(this);var b=this.optionsObject(arguments,["delayTime","resonance"],a.FeedbackCombFilter.defaults);this._delay=this.input=this.output=this.context.createDelay(1),this.delayTime=new a.Param({param:this._delay.delayTime,value:b.delayTime,units:a.Type.Time}),this._feedback=this.context.createGain(),this.resonance=new a.Param({param:this._feedback.gain,value:b.resonance,units:a.Type.NormalRange}),this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},a.extend(a.FeedbackCombFilter),a.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},a.FeedbackCombFilter.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.disconnect(),this._delay=null,this.delayTime.dispose(),this.delayTime=null,this.resonance.dispose(),this.resonance=null,this._feedback.disconnect(),this._feedback=null,this},a.FeedbackCombFilter}),Module(function(a){return a.Follower=function(){a.call(this);var b=this.optionsObject(arguments,["attack","release"],a.Follower.defaults);this._abs=new a.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=-100,this._frequencyValues=new a.WaveShaper,this._sub=new a.Subtract,this._delay=this.context.createDelay(),this._delay.delayTime.value=this.blockTime,this._mult=new a.Multiply(1e4),this._attack=b.attack,this._release=b.release,this.input.chain(this._abs,this._filter,this.output),this._abs.connect(this._sub,0,1),this._filter.chain(this._delay,this._sub),this._sub.chain(this._mult,this._frequencyValues,this._filter.frequency),this._setAttackRelease(this._attack,this._release)},a.extend(a.Follower),a.Follower.defaults={attack:.05,release:.5},a.Follower.prototype._setAttackRelease=function(a,b){var c=this.blockTime;a=this.secondsToFrequency(this.toSeconds(a)),b=this.secondsToFrequency(this.toSeconds(b)),a=Math.max(a,c),b=Math.max(b,c),this._frequencyValues.setMap(function(c){return 0>=c?a:b})},Object.defineProperty(a.Follower.prototype,"attack",{get:function(){return this._attack},set:function(a){this._attack=a,this._setAttackRelease(this._attack,this._release)}}),Object.defineProperty(a.Follower.prototype,"release",{get:function(){return this._release},set:function(a){this._release=a,this._setAttackRelease(this._attack,this._release)}}),a.Follower.prototype.connect=a.Signal.prototype.connect,a.Follower.prototype.dispose=function(){return a.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._frequencyValues.disconnect(),this._frequencyValues=null,this._delay.disconnect(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this._mult.dispose(),this._mult=null,this._curve=null,this},a.Follower}),Module(function(a){return a.ScaledEnvelope=function(){var b=this.optionsObject(arguments,["attack","decay","sustain","release"],a.Envelope.defaults);a.Envelope.call(this,b),b=this.defaultArg(b,a.ScaledEnvelope.defaults),this._exp=this.output=new a.Pow(b.exponent),this._scale=this.output=new a.Scale(b.min,b.max),this._sig.chain(this._exp,this._scale)},a.extend(a.ScaledEnvelope,a.Envelope),a.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(a.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(a){this._scale.min=a}}),Object.defineProperty(a.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(a){this._scale.max=a}}),Object.defineProperty(a.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(a){this._exp.value=a}}),a.ScaledEnvelope.prototype.dispose=function(){return a.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},a.ScaledEnvelope}),Module(function(a){return a.FrequencyEnvelope=function(){var b=this.optionsObject(arguments,["attack","decay","sustain","release"],a.Envelope.defaults);a.ScaledEnvelope.call(this,b),b=this.defaultArg(b,a.FrequencyEnvelope.defaults),this._octaves=b.octaves,this.baseFrequency=b.baseFrequency,this.octaves=b.octaves},a.extend(a.FrequencyEnvelope,a.Envelope),a.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:2},Object.defineProperty(a.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(a){this._scale.min=this.toFrequency(a)}}),Object.defineProperty(a.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(a){this._octaves=a,this._scale.max=this.baseFrequency*Math.pow(2,a)}}),Object.defineProperty(a.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(a){this._exp.value=a}}),a.FrequencyEnvelope.prototype.dispose=function(){return a.ScaledEnvelope.prototype.dispose.call(this),this},a.FrequencyEnvelope}),Module(function(a){return a.Gate=function(){a.call(this);var b=this.optionsObject(arguments,["threshold","attack","release"],a.Gate.defaults);this._follower=new a.Follower(b.attack,b.release),this._gt=new a.GreaterThan(this.dbToGain(b.threshold)),this.input.connect(this.output),this.input.chain(this._gt,this._follower,this.output.gain)},a.extend(a.Gate),a.Gate.defaults={attack:.1,release:.1,threshold:-40},Object.defineProperty(a.Gate.prototype,"threshold",{get:function(){return this.gainToDb(this._gt.value)},set:function(a){this._gt.value=this.dbToGain(a)}}),Object.defineProperty(a.Gate.prototype,"attack",{get:function(){return this._follower.attack},set:function(a){this._follower.attack=a}}),Object.defineProperty(a.Gate.prototype,"release",{get:function(){return this._follower.release},set:function(a){this._follower.release=a}}),a.Gate.prototype.dispose=function(){return a.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},a.Gate}),Module(function(a){return a.TimelineState=function(b){a.Timeline.call(this),this._initial=b},a.extend(a.TimelineState,a.Timeline),a.TimelineState.prototype.getStateAtTime=function(a){var b=this.getEvent(a);return null!==b?b.state:this._initial},a.TimelineState.prototype.setStateAtTime=function(a,b){this.addEvent({state:a,time:this.toSeconds(b)})},a.TimelineState}),Module(function(a){return a.Clock=function(){var b=this.optionsObject(arguments,["callback","frequency"],a.Clock.defaults);this.callback=b.callback,this._lookAhead="auto",this._computedLookAhead=1/60,this._threshold=.5,this._nextTick=-1,this._lastUpdate=0,this._loopID=-1,this.frequency=new a.TimelineSignal(b.frequency,a.Type.Frequency),this.ticks=0,this._state=new a.TimelineState(a.State.Stopped),this._boundLoop=this._loop.bind(this),this._readOnly("frequency"),this._loop()},a.extend(a.Clock),a.Clock.defaults={callback:a.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(a.Clock.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),Object.defineProperty(a.Clock.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(a){"auto"===a?this._lookAhead="auto":this._lookAhead=this.toSeconds(a)}}),a.Clock.prototype.start=function(b,c){return b=this.toSeconds(b),this._state.getStateAtTime(b)!==a.State.Started&&this._state.addEvent({state:a.State.Started,time:b,offset:c}),this},a.Clock.prototype.stop=function(b){return b=this.toSeconds(b),this._state.getStateAtTime(b)!==a.State.Stopped&&this._state.setStateAtTime(a.State.Stopped,b),this},a.Clock.prototype.pause=function(b){return b=this.toSeconds(b),this._state.getStateAtTime(b)===a.State.Started&&this._state.setStateAtTime(a.State.Paused,b),this},a.Clock.prototype._loop=function(b){if(this._loopID=requestAnimationFrame(this._boundLoop),"auto"===this._lookAhead){if(!this.isUndef(b)){var c=(b-this._lastUpdate)/1e3;this._lastUpdate=b,c<this._threshold&&(this._computedLookAhead=(9*this._computedLookAhead+c)/10)}}else this._computedLookAhead=this._lookAhead;var d=this.now(),e=2*this._computedLookAhead,f=this._state.getEvent(d+e),g=a.State.Stopped;if(f&&(g=f.state,-1===this._nextTick&&g===a.State.Started&&(this._nextTick=f.time,this.isUndef(f.offset)||(this.ticks=f.offset))),g===a.State.Started)for(;d+e>this._nextTick;){d>this._nextTick+this._threshold&&(this._nextTick=d);var h=this._nextTick;this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),this.callback(h),this.ticks++}else g===a.State.Stopped&&(this._nextTick=-1,this.ticks=0)},a.Clock.prototype.getStateAtTime=function(a){return this._state.getStateAtTime(a)},a.Clock.prototype.dispose=function(){cancelAnimationFrame(this._loopID),a.TimelineState.prototype.dispose.call(this),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=a.noOp,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},a.Clock}),Module(function(a){return a.Emitter=function(){this._events={}},a.extend(a.Emitter),a.Emitter.prototype.on=function(a,b){for(var c=a.split(/\W+/),d=0;d<c.length;d++){var e=c[d];this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(b)}return this},a.Emitter.prototype.off=function(b,c){for(var d=b.split(/\W+/),e=0;e<d.length;e++)if(b=d[e],this._events.hasOwnProperty(b))if(a.prototype.isUndef(c))this._events[b]=[];else for(var f=this._events[b],g=0;g<f.length;g++)f[g]===c&&f.splice(g,1);return this},a.Emitter.prototype.trigger=function(a){if(this._events){var b=Array.prototype.slice.call(arguments,1);if(this._events.hasOwnProperty(a))for(var c=this._events[a],d=0,e=c.length;e>d;d++)c[d].apply(this,b)}return this},a.Emitter.mixin=function(b){var c=["on","off","trigger"];b._events={};for(var d=0;d<c.length;d++){var e=c[d],f=a.Emitter.prototype[e];b[e]=f}},a.Emitter.prototype.dispose=function(){return a.prototype.dispose.call(this),this._events=null,this},a.Emitter}),Module(function(a){a.IntervalTimeline=function(){this._root=null,this._length=0},a.extend(a.IntervalTimeline),a.IntervalTimeline.prototype.addEvent=function(a){if(this.isUndef(a.time)||this.isUndef(a.duration))throw new Error("events must have time and duration parameters");var c=new b(a.time,a.time+a.duration,a);for(null===this._root?this._root=c:this._root.insert(c),this._length++;null!==c;)c.updateHeight(),c.updateMax(),this._rebalance(c),c=c.parent;return this},a.IntervalTimeline.prototype.removeEvent=function(a){if(null!==this._root){var b=[];this._root.search(a.time,b);for(var c=0;c<b.length;c++){var d=b[c];if(d.event===a){this._removeNode(d),this._length--;break}}}return this},Object.defineProperty(a.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),a.IntervalTimeline.prototype.cancel=function(a){return a=this.toSeconds(a),this.forEachAfter(a,function(a){this.removeEvent(a)}.bind(this)),this},a.IntervalTimeline.prototype._setRoot=function(a){this._root=a,null!==this._root&&(this._root.parent=null)},a.IntervalTimeline.prototype._replaceNodeInParent=function(a,b){null!==a.parent?(a.isLeftChild()?a.parent.left=b:a.parent.right=b,this._rebalance(a.parent)):this._setRoot(b)},a.IntervalTimeline.prototype._removeNode=function(a){if(null===a.left&&null===a.right)this._replaceNodeInParent(a,null);else if(null===a.right)this._replaceNodeInParent(a,a.left);else if(null===a.left)this._replaceNodeInParent(a,a.right);else{var b,c,d=a.getBalance();if(d>0)if(null===a.left.right)b=a.left,b.right=a.right,c=b;else{for(b=a.left.right;null!==b.right;)b=b.right;b.parent.right=b.left,c=b.parent,b.left=a.left,b.right=a.right}else if(null===a.right.left)b=a.right,b.left=a.left,c=b;else{for(b=a.right.left;null!==b.left;)b=b.left;b.parent=b.parent,b.parent.left=b.right,c=b.parent,b.left=a.left,b.right=a.right}null!==a.parent?a.isLeftChild()?a.parent.left=b:a.parent.right=b:this._setRoot(b),this._rebalance(c)}a.dispose()},a.IntervalTimeline.prototype._rotateLeft=function(a){var b=a.parent,c=a.isLeftChild(),d=a.right;a.right=d.left,d.left=a,null!==b?c?b.left=d:b.right=d:this._setRoot(d)},a.IntervalTimeline.prototype._rotateRight=function(a){var b=a.parent,c=a.isLeftChild(),d=a.left;a.left=d.right,d.right=a,null!==b?c?b.left=d:b.right=d:this._setRoot(d)},a.IntervalTimeline.prototype._rebalance=function(a){var b=a.getBalance();b>1?a.left.getBalance()<0?this._rotateLeft(a.left):this._rotateRight(a):-1>b&&(a.right.getBalance()>0?this._rotateRight(a.right):this._rotateLeft(a))},a.IntervalTimeline.prototype.getEvent=function(a){if(null!==this._root){var b=[];if(this._root.search(a,b),b.length>0){for(var c=b[0],d=1;d<b.length;d++)b[d].low>c.low&&(c=b[d]);return c.event}}return null},a.IntervalTimeline.prototype.forEach=function(a){if(null!==this._root){var b=[];null!==this._root&&this._root.traverse(function(a){b.push(a)});for(var c=0;c<b.length;c++){var d=b[c].event;d&&a(d)}}return this},a.IntervalTimeline.prototype.forEachOverlap=function(a,b){if(a=this.toSeconds(a),null!==this._root){var c=[];this._root.search(a,c);for(var d=c.length-1;d>=0;d--){var e=c[d].event;e&&b(e)}}return this},a.IntervalTimeline.prototype.forEachAfter=function(a,b){if(a=this.toSeconds(a),null!==this._root){var c=[];this._root.searchAfter(a,c);for(var d=c.length-1;d>=0;d--){var e=c[d].event;e&&b(e)}}return this},a.IntervalTimeline.prototype.dispose=function(){var a=[];null!==this._root&&this._root.traverse(function(b){a.push(b)});for(var b=0;b<a.length;b++)a[b].dispose();return a=null,this._root=null,this};var b=function(a,b,c){this.event=c,this.low=a,this.high=b,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return b.prototype.insert=function(a){a.low<=this.low?null===this.left?this.left=a:this.left.insert(a):null===this.right?this.right=a:this.right.insert(a)},b.prototype.search=function(a,b){a>this.max||(null!==this.left&&this.left.search(a,b),this.low<=a&&this.high>=a&&b.push(this),this.low>a||null!==this.right&&this.right.search(a,b))},b.prototype.searchAfter=function(a,b){this.low>=a&&(b.push(this),null!==this.left&&this.left.searchAfter(a,b)),null!==this.right&&this.right.searchAfter(a,b)},b.prototype.traverse=function(a){a(this),null!==this.left&&this.left.traverse(a),null!==this.right&&this.right.traverse(a)},b.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},b.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},b.prototype.getBalance=function(){var a=0;return null!==this.left&&null!==this.right?a=this.left.height-this.right.height:null!==this.left?a=this.left.height+1:null!==this.right&&(a=-(this.right.height+1)),a},b.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(b.prototype,"left",{get:function(){return this._left},set:function(a){this._left=a,null!==a&&(a.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(b.prototype,"right",{get:function(){return this._right},set:function(a){this._right=a,null!==a&&(a.parent=this),this.updateHeight(),this.updateMax()}}),b.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},a.IntervalTimeline}),Module(function(a){a.Transport=function(){a.Emitter.call(this),this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=b.defaults.PPQ,this._clock=new a.Clock({callback:this._processTick.bind(this),frequency:0}),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=a.Type.BPM,this.bpm.value=b.defaults.bpm,this._readOnly("bpm"),this._timeSignature=b.defaults.timeSignature,this._scheduledEvents={},this._eventID=0,this._timeline=new a.Timeline,this._repeatedEvents=new a.IntervalTimeline,this._onceEvents=new a.Timeline,this._syncedSignals=[];var c=this.notationToSeconds(b.defaults.swingSubdivision,b.defaults.bpm,b.defaults.timeSignature);this._swingTicks=c/(60/b.defaults.bpm)*this._ppq,this._swingAmount=0},a.extend(a.Transport,a.Emitter),a.Transport.defaults={bpm:120,swing:0,swingSubdivision:"16n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:48},a.Transport.prototype._processTick=function(a){this._swingAmount>0&&this._clock.ticks%this._ppq!==0&&this._clock.ticks%this._swingTicks===0&&(a+=this.ticksToSeconds(this._swingTicks)*this._swingAmount),this.loop&&this._clock.ticks===this._loopEnd&&(this.ticks=this._loopStart,this.trigger("loop",a));var b=this._clock.ticks;this._timeline.forEachAtTime(b,function(b){b.callback(a)}),this._repeatedEvents.forEachOverlap(b,function(c){(b-c.time)%c.interval===0&&c.callback(a)}),this._onceEvents.forEachBefore(b,function(b){b.callback(a)}),this._onceEvents.cancelBefore(b)},a.Transport.prototype.schedule=function(a,b){var c={time:this.toTicks(b),callback:a},d=this._eventID++;return this._scheduledEvents[d.toString()]={event:c,timeline:this._timeline},this._timeline.addEvent(c),d},a.Transport.prototype.scheduleRepeat=function(a,b,c,d){if(0>=b)throw new Error("repeat events must have an interval larger than 0");var e={time:this.toTicks(c),duration:this.toTicks(this.defaultArg(d,1/0)),interval:this.toTicks(b),callback:a},f=this._eventID++;return this._scheduledEvents[f.toString()]={event:e,timeline:this._repeatedEvents},this._repeatedEvents.addEvent(e),f},a.Transport.prototype.scheduleOnce=function(a,b){var c={time:this.toTicks(b),callback:a},d=this._eventID++;return this._scheduledEvents[d.toString()]={event:c,timeline:this._onceEvents},this._onceEvents.addEvent(c),d},a.Transport.prototype.clear=function(a){if(this._scheduledEvents.hasOwnProperty(a)){var b=this._scheduledEvents[a.toString()];b.timeline.removeEvent(b.event),delete this._scheduledEvents[a.toString()]}return this},a.Transport.prototype.cancel=function(a){return a=this.defaultArg(a,0),a=this.toTicks(a),this._timeline.cancel(a),this._onceEvents.cancel(a),this._repeatedEvents.cancel(a),this},a.Transport.prototype.quantize=function(b,c){c=this.defaultArg(c,"4n");var d=this.toTicks(b);c=this.toTicks(c);var e=c-d%c;e===c&&(e=0);var f=this.now();return this.state===a.State.Started&&(f=this._clock._nextTick),this.toSeconds(b,f)+this.ticksToSeconds(e)},Object.defineProperty(a.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),a.Transport.prototype.start=function(a,b){return a=this.toSeconds(a),b=this.isUndef(b)?this.defaultArg(b,this._clock.ticks):this.toTicks(b),this._clock.start(a,b),this.trigger("start",a,this.ticksToSeconds(b)),this},a.Transport.prototype.stop=function(a){return a=this.toSeconds(a),this._clock.stop(a),this.trigger("stop",a),this},a.Transport.prototype.pause=function(a){return a=this.toSeconds(a),this._clock.pause(a),this.trigger("pause",a),this},Object.defineProperty(a.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(a){this.isArray(a)&&(a=a[0]/a[1]*4),this._timeSignature=a}}),Object.defineProperty(a.Transport.prototype,"loopStart",{get:function(){return this.ticksToSeconds(this._loopStart)},set:function(a){this._loopStart=this.toTicks(a)}}),Object.defineProperty(a.Transport.prototype,"loopEnd",{get:function(){return this.ticksToSeconds(this._loopEnd)},set:function(a){this._loopEnd=this.toTicks(a)}}),a.Transport.prototype.setLoopPoints=function(a,b){return this.loopStart=a,this.loopEnd=b,this},Object.defineProperty(a.Transport.prototype,"swing",{get:function(){return 2*this._swingAmount},set:function(a){this._swingAmount=.5*a}}),Object.defineProperty(a.Transport.prototype,"swingSubdivision",{get:function(){return this.toNotation(this._swingTicks+"i")},set:function(a){this._swingTicks=this.toTicks(a)}}),Object.defineProperty(a.Transport.prototype,"position",{get:function(){var a=this.ticks/this._ppq,b=Math.floor(a/this._timeSignature),c=a%1*4;c%1>0&&(c=c.toFixed(3)),a=Math.floor(a)%this._timeSignature;var d=[b,a,c];return d.join(":")},set:function(a){var b=this.toTicks(a);this.ticks=b}}),Object.defineProperty(a.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(a.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(a){this._clock.ticks=a}}),Object.defineProperty(a.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(a){this._ppq=a,this.bpm.value=this.bpm.value}}),a.Transport.prototype._fromUnits=function(a){return 1/(60/a/this.PPQ)},a.Transport.prototype._toUnits=function(a){return a/this.PPQ*60},a.Transport.prototype.syncSignal=function(b,c){c||(c=0!==b._param.value?b._param.value/this.bpm._param.value:0);var d=new a.Gain(c);return this.bpm.chain(d,b._param),this._syncedSignals.push({ratio:d,signal:b,initial:b._param.value}),b._param.value=0,this},a.Transport.prototype.unsyncSignal=function(a){for(var b=this._syncedSignals.length-1;b>=0;b--){var c=this._syncedSignals[b];c.signal===a&&(c.ratio.dispose(),c.signal._param.value=c.initial,this._syncedSignals.splice(b,1))}return this},a.Transport.prototype.dispose=function(){return a.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._onceEvents.dispose(),this._onceEvents=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this},a.Transport.prototype.setInterval=function(b,c){return console.warn("This method is deprecated. Use Tone.Transport.scheduleRepeat instead."),a.Transport.scheduleRepeat(b,c)},a.Transport.prototype.clearInterval=function(b){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),a.Transport.clear(b)},a.Transport.prototype.setTimeout=function(b,c){return console.warn("This method is deprecated. Use Tone.Transport.scheduleOnce instead."),a.Transport.scheduleOnce(b,c)},a.Transport.prototype.clearTimeout=function(b){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),a.Transport.clear(b)},a.Transport.prototype.setTimeline=function(b,c){return console.warn("This method is deprecated. Use Tone.Transport.schedule instead."),a.Transport.schedule(b,c)},a.Transport.prototype.clearTimeline=function(b){return console.warn("This method is deprecated. Use Tone.Transport.clear instead."),a.Transport.clear(b)};var b=a.Transport;return a._initAudioContext(function(){if("function"==typeof a.Transport)a.Transport=new a.Transport;else{a.Transport.stop();var c=a.Transport.get();a.Transport.dispose(),b.call(a.Transport),a.Transport.set(c)}}),a.Transport}),Module(function(a){return a.Volume=function(){var b=this.optionsObject(arguments,["volume"],a.Volume.defaults);this.output=this.input=new a.Gain(b.volume,a.Type.Decibels),this.volume=this.output.gain,this._readOnly("volume")},a.extend(a.Volume),a.Volume.defaults={volume:0},a.Volume.prototype.dispose=function(){return this.input.dispose(),a.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},a.Volume}),Module(function(a){return a.Source=function(b){a.call(this),b=this.defaultArg(b,a.Source.defaults),this._volume=this.output=new a.Volume(b.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new a.TimelineState(a.State.Stopped),this._syncStart=function(a,b){a=this.toSeconds(a),a+=this.toSeconds(this._startDelay),this.start(a,b)}.bind(this),this._syncStop=this.stop.bind(this),this._startDelay=0,this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit"},a.extend(a.Source),a.Source.defaults={volume:0},Object.defineProperty(a.Source.prototype,"state",{get:function(){return this._state.getStateAtTime(this.now())}}),a.Source.prototype.start=function(b){return b=this.toSeconds(b),(this._state.getStateAtTime(b)!==a.State.Started||this.retrigger)&&(this._state.setStateAtTime(a.State.Started,b),this._start&&this._start.apply(this,arguments)),this},a.Source.prototype.stop=function(b){return b=this.toSeconds(b),this._state.getStateAtTime(b)===a.State.Started&&(this._state.setStateAtTime(a.State.Stopped,b),this._stop&&this._stop.apply(this,arguments)),this},a.Source.prototype.sync=function(b){return this._startDelay=this.defaultArg(b,0),a.Transport.on("start",this._syncStart),a.Transport.on("stop pause",this._syncStop),this},a.Source.prototype.unsync=function(){return this._startDelay=0,a.Transport.off("start",this._syncStart),a.Transport.off("stop pause",this._syncStop),this},a.Source.prototype.dispose=function(){this.stop(),a.prototype.dispose.call(this),this.unsync(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null,this._syncStart=null,this._syncStart=null},a.Source}),Module(function(a){return a.Oscillator=function(){var b=this.optionsObject(arguments,["frequency","type"],a.Oscillator.defaults);a.Source.call(this,b),this._oscillator=null,this.frequency=new a.Signal(b.frequency,a.Type.Frequency),this.detune=new a.Signal(b.detune,a.Type.Cents),this._wave=null,this._partials=this.defaultArg(b.partials,[1]),this._phase=b.phase,this._type=null,this.type=b.type,this.phase=this._phase,this._readOnly(["frequency","detune"])},a.extend(a.Oscillator,a.Source),a.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[]},a.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},a.Oscillator.prototype._start=function(a){this._oscillator=this.context.createOscillator(),this._oscillator.setPeriodicWave(this._wave),this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(this.toSeconds(a))},a.Oscillator.prototype._stop=function(a){return this._oscillator&&(this._oscillator.stop(this.toSeconds(a)),this._oscillator=null),this},a.Oscillator.prototype.syncFrequency=function(){return a.Transport.syncSignal(this.frequency),this},a.Oscillator.prototype.unsyncFrequency=function(){return a.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(a.Oscillator.prototype,"type",{get:function(){return this._type},set:function(a){var b=this._getRealImaginary(a,this._phase),c=this.context.createPeriodicWave(b[0],b[1]);this._wave=c,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=a}}),a.Oscillator.prototype._getRealImaginary=function(b,c){var d=4096,e=d/2,f=new Float32Array(e),g=new Float32Array(e),h=1;if(b===a.Oscillator.Type.Custom)h=this._partials.length+1,e=h;else{var i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(b);i&&(h=parseInt(i[2])+1,b=i[1],h=Math.max(h,2),e=h)}for(var j=1;e>j;++j){var k,l=2/(j*Math.PI);switch(b){case a.Oscillator.Type.Sine:k=h>=j?1:0;break;case a.Oscillator.Type.Square:k=1&j?2*l:0;break;case a.Oscillator.Type.Sawtooth:k=l*(1&j?1:-1);break;case a.Oscillator.Type.Triangle:k=1&j?2*(l*l)*(j-1>>1&1?-1:1):0;break;case a.Oscillator.Type.Custom:k=this._partials[j-1];break;default:throw new Error("invalid oscillator type: "+b)}0!==k?(f[j]=-k*Math.sin(c*j),g[j]=k*Math.cos(c*j)):(f[j]=0,g[j]=0)}return[f,g]},a.Oscillator.prototype._inverseFFT=function(a,b,c){for(var d=0,e=a.length,f=0;e>f;f++)d+=a[f]*Math.cos(f*c)+b[f]*Math.sin(f*c);return d},a.Oscillator.prototype._getInitialValue=function(){for(var a=this._getRealImaginary(this._type,0),b=a[0],c=a[1],d=0,e=2*Math.PI,f=0;8>f;f++)d=Math.max(this._inverseFFT(b,c,f/8*e),d);return-this._inverseFFT(b,c,this._phase)/d},Object.defineProperty(a.Oscillator.prototype,"partials",{get:function(){return this._type!==a.Oscillator.Type.Custom?[]:this._partials},set:function(b){this._partials=b,this.type=a.Oscillator.Type.Custom}}),Object.defineProperty(a.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(a){this._phase=a*Math.PI/180,this.type=this._type}}),a.Oscillator.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},a.Oscillator}),Module(function(a){return a.LFO=function(){var b=this.optionsObject(arguments,["frequency","min","max"],a.LFO.defaults);this._oscillator=new a.Oscillator({frequency:b.frequency,type:b.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=a.Type.NormalRange,this.amplitude.value=b.amplitude,this._stoppedSignal=new a.Signal(0,a.Type.AudioRange),this._stoppedValue=0,this._a2g=new a.AudioToGain,this._scaler=this.output=new a.Scale(b.min,b.max),this._units=a.Type.Default,this.units=b.units,this._oscillator.chain(this._a2g,this._scaler),
this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=b.phase},a.extend(a.LFO,a.Oscillator),a.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:a.Type.Default},a.LFO.prototype.start=function(a){return a=this.toSeconds(a),this._stoppedSignal.setValueAtTime(0,a),this._oscillator.start(a),this},a.LFO.prototype.stop=function(a){return a=this.toSeconds(a),this._stoppedSignal.setValueAtTime(this._stoppedValue,a),this._oscillator.stop(a),this},a.LFO.prototype.sync=function(a){return this._oscillator.sync(a),this._oscillator.syncFrequency(),this},a.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(a.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(a){a=this._fromUnits(a),this._scaler.min=a}}),Object.defineProperty(a.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(a){a=this._fromUnits(a),this._scaler.max=a}}),Object.defineProperty(a.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(a){this._oscillator.type=a,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(a.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(a){this._oscillator.phase=a,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(a.LFO.prototype,"units",{get:function(){return this._units},set:function(a){var b=this.min,c=this.max;this._units=a,this.min=b,this.max=c}}),Object.defineProperty(a.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),a.LFO.prototype.connect=function(b){return b.constructor!==a.Signal&&b.constructor!==a.Param&&b.constructor!==a.TimelineSignal||(this.convert=b.convert,this.units=b.units),a.Signal.prototype.connect.apply(this,arguments),this},a.LFO.prototype._fromUnits=a.Param.prototype._fromUnits,a.LFO.prototype._toUnits=a.Param.prototype._toUnits,a.LFO.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},a.LFO}),Module(function(a){return a.Limiter=function(){var b=this.optionsObject(arguments,["threshold"],a.Limiter.defaults);this._compressor=this.input=this.output=new a.Compressor({attack:.001,decay:.001,threshold:b.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},a.extend(a.Limiter),a.Limiter.defaults={threshold:-12},a.Limiter.prototype.dispose=function(){return a.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},a.Limiter}),Module(function(a){return a.LowpassCombFilter=function(){a.call(this);var b=this.optionsObject(arguments,["delayTime","resonance","dampening"],a.LowpassCombFilter.defaults);this._delay=this.input=this.context.createDelay(1),this.delayTime=new a.Signal(b.delayTime,a.Type.Time),this._lowpass=this.output=this.context.createBiquadFilter(),this._lowpass.Q.value=0,this._lowpass.type="lowpass",this.dampening=new a.Param({param:this._lowpass.frequency,units:a.Type.Frequency,value:b.dampening}),this._feedback=this.context.createGain(),this.resonance=new a.Param({param:this._feedback.gain,units:a.Type.NormalRange,value:b.resonance}),this._delay.chain(this._lowpass,this._feedback,this._delay),this.delayTime.connect(this._delay.delayTime),this._readOnly(["dampening","resonance","delayTime"])},a.extend(a.LowpassCombFilter),a.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},a.LowpassCombFilter.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this.dampening.dispose(),this.dampening=null,this.resonance.dispose(),this.resonance=null,this._delay.disconnect(),this._delay=null,this._lowpass.disconnect(),this._lowpass=null,this._feedback.disconnect(),this._feedback=null,this.delayTime.dispose(),this.delayTime=null,this},a.LowpassCombFilter}),Module(function(a){return a.Merge=function(){a.call(this,2,0),this.left=this.input[0]=this.context.createGain(),this.right=this.input[1]=this.context.createGain(),this._merger=this.output=this.context.createChannelMerger(2),this.left.connect(this._merger,0,0),this.right.connect(this._merger,0,1),this.left.channelCount=1,this.right.channelCount=1,this.left.channelCountMode="explicit",this.right.channelCountMode="explicit"},a.extend(a.Merge),a.Merge.prototype.dispose=function(){return a.prototype.dispose.call(this),this.left.disconnect(),this.left=null,this.right.disconnect(),this.right=null,this._merger.disconnect(),this._merger=null,this},a.Merge}),Module(function(a){return a.Meter=function(){var b=this.optionsObject(arguments,["channels","smoothing"],a.Meter.defaults);a.call(this),this._channels=b.channels,this.smoothing=b.smoothing,this.clipMemory=b.clipMemory,this.clipLevel=b.clipLevel,this._volume=new Array(this._channels),this._values=new Array(this._channels);for(var c=0;c<this._channels;c++)this._volume[c]=0,this._values[c]=0;this._lastClip=new Array(this._channels);for(var d=0;d<this._lastClip.length;d++)this._lastClip[d]=0;this._jsNode=this.context.createScriptProcessor(b.bufferSize,this._channels,1),this._jsNode.onaudioprocess=this._onprocess.bind(this),this._jsNode.noGC(),this.input.connect(this.output),this.input.connect(this._jsNode)},a.extend(a.Meter),a.Meter.defaults={smoothing:.8,bufferSize:1024,clipMemory:.5,clipLevel:.9,channels:1},a.Meter.prototype._onprocess=function(a){for(var b=this._jsNode.bufferSize,c=this.smoothing,d=0;d<this._channels;d++){for(var e,f=a.inputBuffer.getChannelData(d),g=0,h=0,i=0;b>i;i++)e=f[i],h+=e,g+=e*e;var j=h/b,k=Math.sqrt(g/b);k>.9&&(this._lastClip[d]=Date.now()),this._volume[d]=Math.max(k,this._volume[d]*c),this._values[d]=j}},a.Meter.prototype.getLevel=function(a){a=this.defaultArg(a,0);var b=this._volume[a];return 1e-5>b?0:b},a.Meter.prototype.getValue=function(a){return a=this.defaultArg(a,0),this._values[a]},a.Meter.prototype.getDb=function(a){return this.gainToDb(this.getLevel(a))},a.Meter.prototype.isClipped=function(a){return a=this.defaultArg(a,0),Date.now()-this._lastClip[a]<1e3*this._clipMemory},a.Meter.prototype.dispose=function(){return a.prototype.dispose.call(this),this._jsNode.disconnect(),this._jsNode.onaudioprocess=null,this._jsNode=null,this._volume=null,this._values=null,this._lastClip=null,this},a.Meter}),Module(function(a){return a.Split=function(){a.call(this,0,2),this._splitter=this.input=this.context.createChannelSplitter(2),this.left=this.output[0]=this.context.createGain(),this.right=this.output[1]=this.context.createGain(),this._splitter.connect(this.left,0,0),this._splitter.connect(this.right,1,0)},a.extend(a.Split),a.Split.prototype.dispose=function(){return a.prototype.dispose.call(this),this._splitter.disconnect(),this.left.disconnect(),this.right.disconnect(),this.left=null,this.right=null,this._splitter=null,this},a.Split}),Module(function(a){a.MidSideSplit=function(){a.call(this,0,2),this._split=this.input=new a.Split,this.mid=this.output[0]=new a.Expr("($0 + $1) * $2"),this.side=this.output[1]=new a.Expr("($0 - $1) * $2"),this._split.connect(this.mid,0,0),this._split.connect(this.mid,1,1),this._split.connect(this.side,0,0),this._split.connect(this.side,1,1),b.connect(this.mid,0,2),b.connect(this.side,0,2)},a.extend(a.MidSideSplit);var b=null;return a._initAudioContext(function(){b=new a.Signal(1/Math.sqrt(2))}),a.MidSideSplit.prototype.dispose=function(){return a.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._split.dispose(),this._split=null,this},a.MidSideSplit}),Module(function(a){a.MidSideMerge=function(){a.call(this,2,0),this.mid=this.input[0]=this.context.createGain(),this._left=new a.Expr("($0 + $1) * $2"),this.side=this.input[1]=this.context.createGain(),this._right=new a.Expr("($0 - $1) * $2"),this._merge=this.output=new a.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._merge,0,0),this._right.connect(this._merge,0,1),b.connect(this._left,0,2),b.connect(this._right,0,2)},a.extend(a.MidSideMerge);var b=null;return a._initAudioContext(function(){b=new a.Signal(1/Math.sqrt(2))}),a.MidSideMerge.prototype.dispose=function(){return a.prototype.dispose.call(this),this.mid.disconnect(),this.mid=null,this.side.disconnect(),this.side=null,this._left.dispose(),this._left=null,this._right.dispose(),this._right=null,this._merge.dispose(),this._merge=null,this},a.MidSideMerge}),Module(function(a){return a.MidSideCompressor=function(b){b=this.defaultArg(b,a.MidSideCompressor.defaults),this._midSideSplit=this.input=new a.MidSideSplit,this._midSideMerge=this.output=new a.MidSideMerge,this.mid=new a.Compressor(b.mid),this.side=new a.Compressor(b.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},a.extend(a.MidSideCompressor),a.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},a.MidSideCompressor.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},a.MidSideCompressor}),Module(function(a){return a.Mono=function(){a.call(this,1,0),this._merge=this.output=new a.Merge,this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1),this.input.gain.value=this.dbToGain(-10)},a.extend(a.Mono),a.Mono.prototype.dispose=function(){return a.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},a.Mono}),Module(function(a){return a.MultibandCompressor=function(b){b=this.defaultArg(arguments,a.MultibandCompressor.defaults),this._splitter=this.input=new a.MultibandSplit({lowFrequency:b.lowFrequency,highFrequency:b.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=this.context.createGain(),this.low=new a.Compressor(b.low),this.mid=new a.Compressor(b.mid),this.high=new a.Compressor(b.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},a.extend(a.MultibandCompressor),a.MultibandCompressor.defaults={low:a.Compressor.defaults,mid:a.Compressor.defaults,high:a.Compressor.defaults,lowFrequency:250,highFrequency:2e3},a.MultibandCompressor.prototype.dispose=function(){return a.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},a.MultibandCompressor}),Module(function(a){return a.GainToAudio=function(){this._norm=this.input=this.output=new a.WaveShaper(function(a){return 2*Math.abs(a)-1})},a.extend(a.GainToAudio,a.SignalBase),a.GainToAudio.prototype.dispose=function(){return a.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},a.GainToAudio}),Module(function(a){return a.Panner=function(b){a.call(this),this._hasStereoPanner=this.isFunction(this.context.createStereoPanner),this._hasStereoPanner?(this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=new a.Signal(0,a.Type.NormalRange),this._scalePan=new a.GainToAudio,this.pan.chain(this._scalePan,this._panner.pan)):(this._crossFade=new a.CrossFade,this._merger=this.output=new a.Merge,this._splitter=this.input=new a.Split,this.pan=this._crossFade.fade,this._splitter.connect(this._crossFade,0,0),this._splitter.connect(this._crossFade,1,1),this._crossFade.a.connect(this._merger,0,0),this._crossFade.b.connect(this._merger,0,1)),this.pan.value=this.defaultArg(b,.5),this._readOnly("pan")},a.extend(a.Panner),a.Panner.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable("pan"),this._hasStereoPanner?(this._panner.disconnect(),this._panner=null,this.pan.dispose(),this.pan=null,this._scalePan.dispose(),this._scalePan=null):(this._crossFade.dispose(),this._crossFade=null,this._splitter.dispose(),this._splitter=null,this._merger.dispose(),this._merger=null,this.pan=null),this},a.Panner}),Module(function(a){return a.PanVol=function(){var b=this.optionsObject(arguments,["pan","volume"],a.PanVol.defaults);this._panner=this.input=new a.Panner(b.pan),this.pan=this._panner.pan,this._volume=this.output=new a.Volume(b.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this._readOnly(["pan","volume"])},a.extend(a.PanVol),a.PanVol.defaults={pan:.5,volume:0},a.PanVol.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},a.PanVol}),Module(function(a){return a.CtrlInterpolate=function(){var b=this.optionsObject(arguments,["values","index"],a.CtrlInterpolate.defaults);this.values=b.values,this.index=b.index},a.extend(a.CtrlInterpolate),a.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(a.CtrlInterpolate.prototype,"value",{get:function(){var a=this.index;a=Math.min(a,this.values.length-1);var b=Math.floor(a),c=this.values[b],d=this.values[Math.ceil(a)];return this._interpolate(a-b,c,d)}}),a.CtrlInterpolate.prototype._interpolate=function(a,b,c){if(this.isArray(b)){for(var d=[],e=0;e<b.length;e++)d[e]=this._interpolate(a,b[e],c[e]);return d}if(this.isObject(b)){var f={};for(var g in b)f[g]=this._interpolate(a,b[g],c[g]);return f}return b=this._toNumber(b),c=this._toNumber(c),(1-a)*b+a*c},a.CtrlInterpolate.prototype._toNumber=function(a){return this.isNumber(a)?a:this.isNote(a)?this.toFrequency(a):this.toSeconds(a)},a.CtrlInterpolate.prototype.dispose=function(){this.values=null},a.CtrlInterpolate}),Module(function(a){return a.CtrlMarkov=function(a,b){this.values=this.defaultArg(a,{}),this.value=this.defaultArg(b,Object.keys(this.values)[0])},a.extend(a.CtrlMarkov),a.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var a=this.values[this.value];if(this.isArray(a))for(var b=this._getProbDistribution(a),c=Math.random(),d=0,e=0;e<b.length;e++){var f=b[e];if(c>d&&d+f>c){var g=a[e];this.isObject(g)?this.value=g.value:this.value=g}d+=f}else this.value=a}return this.value},a.CtrlMarkov.prototype._getProbDistribution=function(a){for(var b=[],c=0,d=!1,e=0;e<a.length;e++){var f=a[e];this.isObject(f)?(d=!0,b[e]=f.probability):b[e]=1/a.length,c+=b[e]}if(d)for(var g=0;g<b.length;g++)b[g]=b[g]/c;return b},a.CtrlMarkov.prototype.dispose=function(){this.values=null},a.CtrlMarkov}),Module(function(a){return a.CtrlPattern=function(){var b=this.optionsObject(arguments,["values","type"],a.CtrlPattern.defaults);this.values=b.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=b.type},a.extend(a.CtrlPattern),a.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},a.CtrlPattern.defaults={type:a.CtrlPattern.Type.Up,values:[]},Object.defineProperty(a.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var b=this.values[this.index];return this.type===a.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),b=this.values[this._shuffled[this.index]]),b}}}),Object.defineProperty(a.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(b){this._type=b,this._shuffled=null,this._type===a.CtrlPattern.Type.Up||this._type===a.CtrlPattern.Type.UpDown||this._type===a.CtrlPattern.Type.RandomOnce||this._type===a.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==a.CtrlPattern.Type.Down&&this._type!==a.CtrlPattern.Type.DownUp&&this._type!==a.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===a.CtrlPattern.Type.UpDown||this._type===a.CtrlPattern.Type.AlternateUp?this._direction=a.CtrlPattern.Type.Up:this._type!==a.CtrlPattern.Type.DownUp&&this._type!==a.CtrlPattern.Type.AlternateDown||(this._direction=a.CtrlPattern.Type.Down),this._type===a.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===a.CtrlPattern.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),a.CtrlPattern.prototype.next=function(){var b=this.type;return b===a.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):b===a.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):b===a.CtrlPattern.Type.UpDown||b===a.CtrlPattern.Type.DownUp?(this._direction===a.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=a.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=a.CtrlPattern.Type.Down)):b===a.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):b===a.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):b===a.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):b===a.CtrlPattern.Type.AlternateUp?(this._direction===a.CtrlPattern.Type.Up?(this.index+=2,this._direction=a.CtrlPattern.Type.Down):(this.index-=1,this._direction=a.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=a.CtrlPattern.Type.Up)):b===a.CtrlPattern.Type.AlternateDown&&(this._direction===a.CtrlPattern.Type.Up?(this.index+=1,this._direction=a.CtrlPattern.Type.Down):(this.index-=2,this._direction=a.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=a.CtrlPattern.Type.Down)),this.value},a.CtrlPattern.prototype._shuffleValues=function(){var a=[];this._shuffled=[];for(var b=0;b<this.values.length;b++)a[b]=b;for(;a.length>0;){var c=a.splice(Math.floor(a.length*Math.random()),1);this._shuffled.push(c[0])}},a.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},a.CtrlPattern}),Module(function(a){return a.CtrlRandom=function(){var b=this.optionsObject(arguments,["min","max"],a.CtrlRandom.defaults);this.min=b.min,this.max=b.max,this.integer=b.integer},a.extend(a.CtrlRandom),a.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(a.CtrlRandom.prototype,"value",{get:function(){var a=this.toSeconds(this.min),b=this.toSeconds(this.max),c=Math.random(),d=c*a+(1-c)*b;return this.integer&&(d=Math.floor(d)),d}}),a.CtrlRandom}),Module(function(a){return a.Buffer=function(){var b=this.optionsObject(arguments,["url","onload"],a.Buffer.defaults);this._buffer=null,this._reversed=b.reverse,this.url=void 0,this.loaded=!1,this.onload=b.onload.bind(this,this),b.url instanceof AudioBuffer||b.url instanceof a.Buffer?(this.set(b.url),this.onload(this)):this.isString(b.url)&&(this.url=b.url,a.Buffer._addToQueue(b.url,this))},a.extend(a.Buffer),a.Buffer.defaults={url:void 0,onload:a.noOp,reverse:!1},a.Buffer.prototype.set=function(b){return b instanceof a.Buffer?this._buffer=b.get():this._buffer=b,this.loaded=!0,this},a.Buffer.prototype.get=function(){return this._buffer},a.Buffer.prototype.load=function(b,c){return this.url=b,this.onload=this.defaultArg(c,this.onload),a.Buffer._addToQueue(b,this),this},a.Buffer.prototype.dispose=function(){return a.prototype.dispose.call(this),a.Buffer._removeFromQueue(this),this._buffer=null,this.onload=a.Buffer.defaults.onload,this},Object.defineProperty(a.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),a.Buffer.prototype._reverse=function(){if(this.loaded)for(var a=0;a<this._buffer.numberOfChannels;a++)Array.prototype.reverse.call(this._buffer.getChannelData(a));return this},Object.defineProperty(a.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(a){this._reversed!==a&&(this._reversed=a,this._reverse())}}),a.Emitter.mixin(a.Buffer),a.Buffer._queue=[],a.Buffer._currentDownloads=[],a.Buffer._totalDownloads=0,a.Buffer.MAX_SIMULTANEOUS_DOWNLOADS=6,a.Buffer._addToQueue=function(b,c){a.Buffer._queue.push({url:b,Buffer:c,progress:0,xhr:null}),this._totalDownloads++,a.Buffer._next()},a.Buffer._removeFromQueue=function(b){var c;for(c=0;c<a.Buffer._queue.length;c++){var d=a.Buffer._queue[c];d.Buffer===b&&a.Buffer._queue.splice(c,1)}for(c=0;c<a.Buffer._currentDownloads.length;c++){var e=a.Buffer._currentDownloads[c];e.Buffer===b&&(a.Buffer._currentDownloads.splice(c,1),e.xhr.abort(),e.xhr.onprogress=null,e.xhr.onload=null,e.xhr.onerror=null)}},a.Buffer._next=function(){if(a.Buffer._queue.length>0){if(a.Buffer._currentDownloads.length<a.Buffer.MAX_SIMULTANEOUS_DOWNLOADS){var b=a.Buffer._queue.shift();a.Buffer._currentDownloads.push(b),b.xhr=a.Buffer.load(b.url,function(c){var d=a.Buffer._currentDownloads.indexOf(b);a.Buffer._currentDownloads.splice(d,1),b.Buffer.set(c),b.Buffer._reversed&&b.Buffer._reverse(),b.Buffer.onload(b.Buffer),a.Buffer._onprogress(),a.Buffer._next()}),b.xhr.onprogress=function(c){b.progress=c.loaded/c.total,a.Buffer._onprogress()},b.xhr.onerror=function(b){a.Buffer.trigger("error",b)}}}else 0===a.Buffer._currentDownloads.length&&(a.Buffer.trigger("load"),a.Buffer._totalDownloads=0)},a.Buffer._onprogress=function(){var b=0,c=a.Buffer._currentDownloads.length,d=0;if(c>0){for(var e=0;c>e;e++){var f=a.Buffer._currentDownloads[e];b+=f.progress}d=b}var g=c-d,h=a.Buffer._totalDownloads-a.Buffer._queue.length-g;a.Buffer.trigger("progress",h/a.Buffer._totalDownloads)},a.Buffer.load=function(b,c){var d=new XMLHttpRequest;return d.open("GET",b,!0),d.responseType="arraybuffer",d.onload=function(){a.context.decodeAudioData(d.response,function(a){if(!a)throw new Error("could not decode audio data:"+b);c(a)})},d.send(),d},Object.defineProperty(a.Buffer,"onload",{set:function(b){console.warn("Tone.Buffer.onload is deprecated, use Tone.Buffer.on('load', callback)"),a.Buffer.on("load",b)}}),Object.defineProperty(a.Buffer,"onprogress",{set:function(b){console.warn("Tone.Buffer.onprogress is deprecated, use Tone.Buffer.on('progress', callback)"),a.Buffer.on("progress",b)}}),Object.defineProperty(a.Buffer,"onerror",{set:function(b){console.warn("Tone.Buffer.onerror is deprecated, use Tone.Buffer.on('error', callback)"),a.Buffer.on("error",b)}}),a.Buffer}),Module(function(a){var b={};return a.prototype.send=function(a,c){b.hasOwnProperty(a)||(b[a]=this.context.createGain());var d=this.context.createGain();return d.gain.value=this.dbToGain(this.defaultArg(c,1)),this.output.chain(d,b[a]),d},a.prototype.receive=function(a,c){return b.hasOwnProperty(a)||(b[a]=this.context.createGain()),this.isUndef(c)&&(c=this.input),b[a].connect(c),this},a}),Module(function(a){return a.Delay=function(){var b=this.optionsObject(arguments,["delayTime","maxDelay"],a.Delay.defaults);this._delayNode=this.input=this.output=this.context.createDelay(this.toSeconds(b.maxDelay)),this.delayTime=new a.Param({param:this._delayNode.delayTime,units:a.Type.Time,value:b.delayTime}),this._readOnly("delayTime")},a.extend(a.Delay),a.Delay.defaults={maxDelay:1,delayTime:0},a.Delay.prototype.dispose=function(){return a.Param.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},a.Delay}),Module(function(a){a.Master=function(){a.call(this),this._unmutedVolume=1,this._muted=!1,this._volume=this.output=new a.Volume,this.volume=this._volume.volume,this._readOnly("volume"),this.input.chain(this.output,this.context.destination)},a.extend(a.Master),a.Master.defaults={volume:0,mute:!1},Object.defineProperty(a.Master.prototype,"mute",{get:function(){return this._muted},set:function(a){!this._muted&&a?(this._unmutedVolume=this.volume.value,this.volume.value=-(1/0)):this._muted&&!a&&(this.volume.value=this._unmutedVolume),this._muted=a}}),a.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},a.Master.prototype.dispose=function(){a.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},a.prototype.toMaster=function(){return this.connect(a.Master),this},AudioNode.prototype.toMaster=function(){return this.connect(a.Master),this};var b=a.Master;return a._initAudioContext(function(){a.prototype.isUndef(a.Master)?(b.prototype.dispose.call(a.Master),b.call(a.Master)):a.Master=new b}),a.Master}),Module(function(a){function b(a,b,d){if(c.hasOwnProperty(a))for(var e=c[a],f=0,g=e.length;g>f;f++){var h=e[f];Array.isArray(d)?h.apply(window,[b].concat(d)):h(b,d)}}a.Note=function(b,c,d){this.value=d,this._channel=b,this._timelineID=a.Transport.setTimeline(this._trigger.bind(this),c)},a.Note.prototype._trigger=function(a){b(this._channel,a,this.value)},a.Note.prototype.dispose=function(){return a.Transport.clearTimeline(this._timelineID),this.value=null,this};var c={};return a.Note.route=function(a,b){c.hasOwnProperty(a)?c[a].push(b):c[a]=[b]},a.Note.unroute=function(a,b){if(c.hasOwnProperty(a)){var d=c[a],e=d.indexOf(b);-1!==e&&c[a].splice(e,1)}},a.Note.parseScore=function(b){var c=[];for(var d in b){var e=b[d];if("tempo"===d)a.Transport.bpm.value=e;else if("timeSignature"===d)a.Transport.timeSignature=e[0]/(e[1]/4);else{if(!Array.isArray(e))throw new TypeError("score parts must be Arrays");for(var f=0;f<e.length;f++){var g,h=e[f];if(Array.isArray(h)){var i=h[0],j=h.slice(1);g=new a.Note(d,i,j)}else g="object"==typeof h?new a.Note(d,h.time,h):new a.Note(d,h);c.push(g)}}}return c},a.Note}),Module(function(a){return a.Effect=function(){a.call(this);var b=this.optionsObject(arguments,["wet"],a.Effect.defaults);this._dryWet=new a.CrossFade(b.wet),this.wet=this._dryWet.fade,this.effectSend=this.context.createGain(),this.effectReturn=this.context.createGain(),this.input.connect(this._dryWet.a),this.input.connect(this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},a.extend(a.Effect),a.Effect.defaults={wet:1},a.Effect.prototype.connectEffect=function(a){return this.effectSend.chain(a,this.effectReturn),this},a.Effect.prototype.dispose=function(){return a.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.disconnect(),this.effectSend=null,this.effectReturn.disconnect(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},a.Effect}),Module(function(a){return a.AutoFilter=function(){var b=this.optionsObject(arguments,["frequency","baseFrequency","octaves"],a.AutoFilter.defaults);a.Effect.call(this,b),this._lfo=new a.LFO({frequency:b.frequency,amplitude:b.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new a.Filter(b.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=b.type,this._readOnly(["frequency","depth"]),this.octaves=b.octaves,this.baseFrequency=b.baseFrequency},a.extend(a.AutoFilter,a.Effect),a.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},a.AutoFilter.prototype.start=function(a){return this._lfo.start(a),this},a.AutoFilter.prototype.stop=function(a){return this._lfo.stop(a),this},a.AutoFilter.prototype.sync=function(a){return this._lfo.sync(a),this},a.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(a.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(a){this._lfo.type=a}}),Object.defineProperty(a.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(a){this._lfo.min=this.toFrequency(a)}}),Object.defineProperty(a.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(a){this._octaves=a,this._lfo.max=this.baseFrequency*Math.pow(2,a)}}),a.AutoFilter.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},a.AutoFilter}),Module(function(a){return a.AutoPanner=function(){var b=this.optionsObject(arguments,["frequency"],a.AutoPanner.defaults);a.Effect.call(this,b),this._lfo=new a.LFO({frequency:b.frequency,amplitude:b.depth,min:0,max:1}),this.depth=this._lfo.amplitude,this._panner=new a.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=b.type,this._readOnly(["depth","frequency"])},a.extend(a.AutoPanner,a.Effect),a.AutoPanner.defaults={frequency:1,type:"sine",depth:1},a.AutoPanner.prototype.start=function(a){return this._lfo.start(a),this},a.AutoPanner.prototype.stop=function(a){return this._lfo.stop(a),this},a.AutoPanner.prototype.sync=function(a){return this._lfo.sync(a),this},a.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(a.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(a){this._lfo.type=a}}),a.AutoPanner.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},a.AutoPanner}),Module(function(a){return a.AutoWah=function(){var b=this.optionsObject(arguments,["baseFrequency","octaves","sensitivity"],a.AutoWah.defaults);a.Effect.call(this,b),this.follower=new a.Follower(b.follower),this._sweepRange=new a.ScaleExp(0,1,.5),this._baseFrequency=b.baseFrequency,this._octaves=b.octaves,this._inputBoost=this.context.createGain(),this._bandpass=new a.Filter({rolloff:-48,frequency:0,Q:b.Q}),this._peaking=new a.Filter(0,"peaking"),this._peaking.gain.value=b.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=b.sensitivity,this._readOnly(["gain","Q"])},a.extend(a.AutoWah,a.Effect),a.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(a.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(a){this._octaves=a,this._setSweepRange()}}),Object.defineProperty(a.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(a){this._baseFrequency=a,this._setSweepRange()}}),Object.defineProperty(a.AutoWah.prototype,"sensitivity",{get:function(){return this.gainToDb(1/this._inputBoost.gain.value)},set:function(a){this._inputBoost.gain.value=1/this.dbToGain(a)}}),a.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},a.AutoWah.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),
this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.disconnect(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},a.AutoWah}),Module(function(a){return a.BitCrusher=function(){var b=this.optionsObject(arguments,["bits"],a.BitCrusher.defaults);a.Effect.call(this,b);var c=1/Math.pow(2,b.bits-1);this._subtract=new a.Subtract,this._modulo=new a.Modulo(c),this._bits=b.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},a.extend(a.BitCrusher,a.Effect),a.BitCrusher.defaults={bits:4},Object.defineProperty(a.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(a){this._bits=a;var b=1/Math.pow(2,a-1);this._modulo.value=b}}),a.BitCrusher.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},a.BitCrusher}),Module(function(a){return a.Chebyshev=function(){var b=this.optionsObject(arguments,["order"],a.Chebyshev.defaults);a.Effect.call(this,b),this._shaper=new a.WaveShaper(4096),this._order=b.order,this.connectEffect(this._shaper),this.order=b.order,this.oversample=b.oversample},a.extend(a.Chebyshev,a.Effect),a.Chebyshev.defaults={order:1,oversample:"none"},a.Chebyshev.prototype._getCoefficient=function(a,b,c){return c.hasOwnProperty(b)?c[b]:(0===b?c[b]=0:1===b?c[b]=a:c[b]=2*a*this._getCoefficient(a,b-1,c)-this._getCoefficient(a,b-2,c),c[b])},Object.defineProperty(a.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(a){this._order=a;for(var b=new Array(4096),c=b.length,d=0;c>d;++d){var e=2*d/c-1;0===e?b[d]=0:b[d]=this._getCoefficient(e,a,{})}this._shaper.curve=b}}),Object.defineProperty(a.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(a){this._shaper.oversample=a}}),a.Chebyshev.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},a.Chebyshev}),Module(function(a){return a.StereoEffect=function(){a.call(this);var b=this.optionsObject(arguments,["wet"],a.Effect.defaults);this._dryWet=new a.CrossFade(b.wet),this.wet=this._dryWet.fade,this._split=new a.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new a.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,this.input.connect(this._split),this.input.connect(this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},a.extend(a.StereoEffect,a.Effect),a.StereoEffect.prototype.dispose=function(){return a.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},a.StereoEffect}),Module(function(a){return a.FeedbackEffect=function(){var b=this.optionsObject(arguments,["feedback"]);b=this.defaultArg(b,a.FeedbackEffect.defaults),a.Effect.call(this,b),this.feedback=new a.Signal(b.feedback,a.Type.NormalRange),this._feedbackGain=this.context.createGain(),this.effectReturn.chain(this._feedbackGain,this.effectSend),this.feedback.connect(this._feedbackGain.gain),this._readOnly(["feedback"])},a.extend(a.FeedbackEffect,a.Effect),a.FeedbackEffect.defaults={feedback:.125},a.FeedbackEffect.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackGain.disconnect(),this._feedbackGain=null,this},a.FeedbackEffect}),Module(function(a){return a.StereoXFeedbackEffect=function(){var b=this.optionsObject(arguments,["feedback"],a.FeedbackEffect.defaults);a.StereoEffect.call(this,b),this.feedback=new a.Signal(b.feedback,a.Type.NormalRange),this._feedbackLR=this.context.createGain(),this._feedbackRL=this.context.createGain(),this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},a.extend(a.StereoXFeedbackEffect,a.FeedbackEffect),a.StereoXFeedbackEffect.prototype.dispose=function(){return a.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.disconnect(),this._feedbackLR=null,this._feedbackRL.disconnect(),this._feedbackRL=null,this},a.StereoXFeedbackEffect}),Module(function(a){return a.Chorus=function(){var b=this.optionsObject(arguments,["frequency","delayTime","depth"],a.Chorus.defaults);a.StereoXFeedbackEffect.call(this,b),this._depth=b.depth,this._delayTime=b.delayTime/1e3,this._lfoL=new a.LFO({frequency:b.frequency,min:0,max:1}),this._lfoR=new a.LFO({frequency:b.frequency,min:0,max:1,phase:180}),this._delayNodeL=this.context.createDelay(),this._delayNodeR=this.context.createDelay(),this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=b.frequency,this.type=b.type,this._readOnly(["frequency"]),this.spread=b.spread},a.extend(a.Chorus,a.StereoXFeedbackEffect),a.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,feedback:.1,type:"sine",spread:180},Object.defineProperty(a.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(a){this._depth=a;var b=this._delayTime*a;this._lfoL.min=Math.max(this._delayTime-b,0),this._lfoL.max=this._delayTime+b,this._lfoR.min=Math.max(this._delayTime-b,0),this._lfoR.max=this._delayTime+b}}),Object.defineProperty(a.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(a){this._delayTime=a/1e3,this.depth=this._depth}}),Object.defineProperty(a.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(a){this._lfoL.type=a,this._lfoR.type=a}}),Object.defineProperty(a.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(a){this._lfoL.phase=90-a/2,this._lfoR.phase=a/2+90}}),a.Chorus.prototype.dispose=function(){return a.StereoXFeedbackEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.disconnect(),this._delayNodeL=null,this._delayNodeR.disconnect(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},a.Chorus}),Module(function(a){return a.Convolver=function(){var b=this.optionsObject(arguments,["url"],a.Convolver.defaults);a.Effect.call(this,b),this._convolver=this.context.createConvolver(),this._buffer=new a.Buffer(b.url,function(a){this.buffer=a,b.onload()}.bind(this)),this.connectEffect(this._convolver)},a.extend(a.Convolver,a.Effect),a.Convolver.defaults={url:"",onload:a.noOp},Object.defineProperty(a.Convolver.prototype,"buffer",{get:function(){return this._buffer.get()},set:function(a){this._buffer.set(a),this._convolver.buffer=this._buffer.get()}}),a.Convolver.prototype.load=function(a,b){return this._buffer.load(a,function(a){this.buffer=a,b&&b()}.bind(this)),this},a.Convolver.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this._buffer.dispose(),this._buffer=null,this},a.Convolver}),Module(function(a){return a.Distortion=function(){var b=this.optionsObject(arguments,["distortion"],a.Distortion.defaults);a.Effect.call(this,b),this._shaper=new a.WaveShaper(4096),this._distortion=b.distortion,this.connectEffect(this._shaper),this.distortion=b.distortion,this.oversample=b.oversample},a.extend(a.Distortion,a.Effect),a.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(a.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(a){this._distortion=a;var b=100*a,c=Math.PI/180;this._shaper.setMap(function(a){return Math.abs(a)<.001?0:(3+b)*a*20*c/(Math.PI+b*Math.abs(a))})}}),Object.defineProperty(a.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(a){this._shaper.oversample=a}}),a.Distortion.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},a.Distortion}),Module(function(a){return a.FeedbackDelay=function(){var b=this.optionsObject(arguments,["delayTime","feedback"],a.FeedbackDelay.defaults);a.FeedbackEffect.call(this,b),this.delayTime=new a.Signal(b.delayTime,a.Type.Time),this._delayNode=this.context.createDelay(4),this.connectEffect(this._delayNode),this.delayTime.connect(this._delayNode.delayTime),this._readOnly(["delayTime"])},a.extend(a.FeedbackDelay,a.FeedbackEffect),a.FeedbackDelay.defaults={delayTime:.25},a.FeedbackDelay.prototype.dispose=function(){return a.FeedbackEffect.prototype.dispose.call(this),this.delayTime.dispose(),this._delayNode.disconnect(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},a.FeedbackDelay}),Module(function(a){var b=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],c=[225,556,441,341];return a.Freeverb=function(){var d=this.optionsObject(arguments,["roomSize","dampening"],a.Freeverb.defaults);a.StereoEffect.call(this,d),this.roomSize=new a.Signal(d.roomSize,a.Type.NormalRange),this.dampening=new a.Signal(d.dampening,a.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<c.length;e++){var f=this.context.createBiquadFilter();f.type="allpass",f.frequency.value=c[e],this._allpassFiltersL.push(f)}for(var g=0;g<c.length;g++){var h=this.context.createBiquadFilter();h.type="allpass",h.frequency.value=c[g],this._allpassFiltersR.push(h)}for(var i=0;i<b.length;i++){var j=new a.LowpassCombFilter(b[i]);i<b.length/2?this.effectSendL.chain(j,this._allpassFiltersL[0]):this.effectSendR.chain(j,this._allpassFiltersR[0]),this.roomSize.connect(j.resonance),this.dampening.connect(j.dampening),this._combFilters.push(j)}this.connectSeries.apply(this,this._allpassFiltersL),this.connectSeries.apply(this,this._allpassFiltersR),this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL),this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR),this._readOnly(["roomSize","dampening"])},a.extend(a.Freeverb,a.StereoEffect),a.Freeverb.defaults={roomSize:.7,dampening:3e3},a.Freeverb.prototype.dispose=function(){a.StereoEffect.prototype.dispose.call(this);for(var b=0;b<this._allpassFiltersL.length;b++)this._allpassFiltersL[b].disconnect(),this._allpassFiltersL[b]=null;this._allpassFiltersL=null;for(var c=0;c<this._allpassFiltersR.length;c++)this._allpassFiltersR[c].disconnect(),this._allpassFiltersR[c]=null;this._allpassFiltersR=null;for(var d=0;d<this._combFilters.length;d++)this._combFilters[d].dispose(),this._combFilters[d]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},a.Freeverb}),Module(function(a){var b=[.06748,.06404,.08212,.09004],c=[.773,.802,.753,.733],d=[347,113,37];return a.JCReverb=function(){var e=this.optionsObject(arguments,["roomSize"],a.JCReverb.defaults);a.StereoEffect.call(this,e),this.roomSize=new a.Signal(e.roomSize,a.Type.NormalRange),this._scaleRoomSize=new a.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var f=0;f<d.length;f++){var g=this.context.createBiquadFilter();g.type="allpass",g.frequency.value=d[f],this._allpassFilters.push(g)}for(var h=0;h<b.length;h++){var i=new a.FeedbackCombFilter(b[h],.1);this._scaleRoomSize.connect(i.resonance),i.resonance.value=c[h],this._allpassFilters[this._allpassFilters.length-1].connect(i),h<b.length/2?i.connect(this.effectReturnL):i.connect(this.effectReturnR),this._feedbackCombFilters.push(i)}this.roomSize.connect(this._scaleRoomSize),this.connectSeries.apply(this,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},a.extend(a.JCReverb,a.StereoEffect),a.JCReverb.defaults={roomSize:.5},a.JCReverb.prototype.dispose=function(){a.StereoEffect.prototype.dispose.call(this);for(var b=0;b<this._allpassFilters.length;b++)this._allpassFilters[b].disconnect(),this._allpassFilters[b]=null;this._allpassFilters=null;for(var c=0;c<this._feedbackCombFilters.length;c++)this._feedbackCombFilters[c].dispose(),this._feedbackCombFilters[c]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},a.JCReverb}),Module(function(a){return a.MidSideEffect=function(){a.Effect.apply(this,arguments),this._midSideSplit=new a.MidSideSplit,this._midSideMerge=new a.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},a.extend(a.MidSideEffect,a.Effect),a.MidSideEffect.prototype.dispose=function(){return a.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},a.MidSideEffect}),Module(function(a){return a.Phaser=function(){var b=this.optionsObject(arguments,["frequency","octaves","baseFrequency"],a.Phaser.defaults);a.StereoEffect.call(this,b),this._lfoL=new a.LFO(b.frequency,0,1),this._lfoR=new a.LFO(b.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=b.baseFrequency,this._octaves=b.octaves,this.Q=new a.Signal(b.Q,a.Type.Positive),this._filtersL=this._makeFilters(b.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(b.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=b.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),this._filtersL[b.stages-1].connect(this.effectReturnL),this._filtersR[b.stages-1].connect(this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=b.baseFrequency,this.octaves=b.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},a.extend(a.Phaser,a.StereoEffect),a.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},a.Phaser.prototype._makeFilters=function(a,b,c){for(var d=new Array(a),e=0;a>e;e++){var f=this.context.createBiquadFilter();f.type="allpass",c.connect(f.Q),b.connect(f.frequency),d[e]=f}return this.connectSeries.apply(this,d),d},Object.defineProperty(a.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(a){this._octaves=a;var b=this._baseFrequency*Math.pow(2,a);this._lfoL.max=b,this._lfoR.max=b}}),Object.defineProperty(a.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(a){this._baseFrequency=a,this._lfoL.min=a,this._lfoR.min=a,this.octaves=this._octaves}}),a.Phaser.prototype.dispose=function(){a.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var b=0;b<this._filtersL.length;b++)this._filtersL[b].disconnect(),this._filtersL[b]=null;this._filtersL=null;for(var c=0;c<this._filtersR.length;c++)this._filtersR[c].disconnect(),this._filtersR[c]=null;return this._filtersR=null,this.frequency=null,this},a.Phaser}),Module(function(a){return a.PingPongDelay=function(){var b=this.optionsObject(arguments,["delayTime","feedback"],a.PingPongDelay.defaults);a.StereoXFeedbackEffect.call(this,b),this._leftDelay=this.context.createDelay(b.maxDelayTime),this._rightDelay=this.context.createDelay(b.maxDelayTime),this._rightPreDelay=this.context.createDelay(b.maxDelayTime),this.delayTime=new a.Signal(b.delayTime,a.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},a.extend(a.PingPongDelay,a.StereoXFeedbackEffect),a.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},a.PingPongDelay.prototype.dispose=function(){return a.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.disconnect(),this._leftDelay=null,this._rightDelay.disconnect(),this._rightDelay=null,this._rightPreDelay.disconnect(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},a.PingPongDelay}),Module(function(a){return a.PitchShift=function(){var b=this.optionsObject(arguments,["pitch"],a.PitchShift.defaults);a.FeedbackEffect.call(this,b),this._frequency=new a.Signal(0),this._delayA=new a.Delay(0,1),this._lfoA=new a.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new a.Delay(0,1),this._lfoB=new a.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new a.CrossFade,this._crossFadeLFO=new a.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new a.Delay(b.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=b.pitch,this._windowSize=b.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var c=this.now();this._lfoA.start(c),this._lfoB.start(c),this._crossFadeLFO.start(c),this.windowSize=this._windowSize},a.extend(a.PitchShift,a.FeedbackEffect),a.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(a.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(a){this._pitch=a;var b=0;0>a?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,b=this.intervalToFrequencyRatio(a-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,b=this.intervalToFrequencyRatio(a)-1),this._frequency.value=b*(1.2/this._windowSize)}}),Object.defineProperty(a.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(a){this._windowSize=this.toSeconds(a),this.pitch=this._pitch}}),a.PitchShift.prototype.dispose=function(){return a.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},a.PitchShift}),Module(function(a){return a.StereoFeedbackEffect=function(){var b=this.optionsObject(arguments,["feedback"],a.FeedbackEffect.defaults);a.StereoEffect.call(this,b),this.feedback=new a.Signal(b.feedback,a.Type.NormalRange),this._feedbackL=this.context.createGain(),this._feedbackR=this.context.createGain(),this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},a.extend(a.StereoFeedbackEffect,a.FeedbackEffect),a.StereoFeedbackEffect.prototype.dispose=function(){return a.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.disconnect(),this._feedbackL=null,this._feedbackR.disconnect(),this._feedbackR=null,this},a.StereoFeedbackEffect}),Module(function(a){return a.StereoWidener=function(){var b=this.optionsObject(arguments,["width"],a.StereoWidener.defaults);a.MidSideEffect.call(this,b),this.width=new a.Signal(b.width,a.Type.NormalRange),this._midMult=new a.Expr("$0 * ($1 * (1 - $2))"),this._sideMult=new a.Expr("$0 * ($1 * $2)"),this._two=new a.Signal(2),this._two.connect(this._midMult,0,1),this.width.connect(this._midMult,0,2),this._two.connect(this._sideMult,0,1),this.width.connect(this._sideMult,0,2),this.midSend.chain(this._midMult,this.midReturn),this.sideSend.chain(this._sideMult,this.sideReturn),this._readOnly(["width"])},a.extend(a.StereoWidener,a.MidSideEffect),a.StereoWidener.defaults={width:.5},a.StereoWidener.prototype.dispose=function(){return a.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._two.dispose(),this._two=null,this},a.StereoWidener}),Module(function(a){return a.Tremolo=function(){var b=this.optionsObject(arguments,["frequency","depth"],a.Tremolo.defaults);a.StereoEffect.call(this,b),this._lfoL=new a.LFO({phase:b.spread,min:1,max:0}),this._lfoR=new a.LFO({phase:b.spread,min:1,max:0}),this._amplitudeL=new a.Gain,this._amplitudeR=new a.Gain,this.frequency=new a.Signal(b.frequency,a.Type.Frequency),this.depth=new a.Signal(b.depth,a.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=b.type,this.spread=b.spread},a.extend(a.Tremolo,a.StereoEffect),a.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},a.Tremolo.prototype.start=function(a){return this._lfoL.start(a),this._lfoR.start(a),this},a.Tremolo.prototype.stop=function(a){return this._lfoL.stop(a),this._lfoR.stop(a),this},a.Tremolo.prototype.sync=function(a){return this._lfoL.sync(a),this._lfoR.sync(a),this},a.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),this},Object.defineProperty(a.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(a){this._lfoL.type=a,this._lfoR.type=a}}),Object.defineProperty(a.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(a){this._lfoL.phase=90-a/2,this._lfoR.phase=a/2+90}}),a.Tremolo.prototype.dispose=function(){return a.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},a.Tremolo}),Module(function(a){return a.Vibrato=function(){var b=this.optionsObject(arguments,["frequency","depth"],a.Vibrato.defaults);a.Effect.call(this,b),this._delayNode=new a.Delay(0,b.maxDelay),this._lfo=new a.LFO({type:b.type,min:0,max:b.maxDelay,frequency:b.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=b.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},a.extend(a.Vibrato,a.Effect),a.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(a.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(a){this._lfo.type=a}}),a.Vibrato.prototype.dispose=function(){a.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},a.Vibrato}),Module(function(a){return a.Event=function(){var b=this.optionsObject(arguments,["callback","value"],a.Event.defaults);this._loop=b.loop,this.callback=b.callback,this.value=b.value,this._loopStart=this.toTicks(b.loopStart),this._loopEnd=this.toTicks(b.loopEnd),this._state=new a.TimelineState(a.State.Stopped),this._playbackRate=1,this._startOffset=0,this.probability=b.probability,this.humanize=b.humanize,this.mute=b.mute,this.playbackRate=b.playbackRate},a.extend(a.Event),a.Event.defaults={callback:a.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},a.Event.prototype._rescheduleEvents=function(b){return b=this.defaultArg(b,-1),this._state.forEachFrom(b,function(b){var c;if(b.state===a.State.Started){this.isUndef(b.id)||a.Transport.clear(b.id);var d=b.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){c=1/0,this.isNumber(this._loop)&&(c=(this._loop-1)*this._getLoopDuration());var e=this._state.getEventAfter(d);null!==e&&(c=Math.min(c,e.time-d)),c!==1/0&&(this._state.setStateAtTime(a.State.Stopped,d+c+1),c+="i"),b.id=a.Transport.scheduleRepeat(this._tick.bind(this),this._getLoopDuration().toString()+"i",d+"i",c)}else b.id=a.Transport.schedule(this._tick.bind(this),d+"i")}}.bind(this)),this},Object.defineProperty(a.Event.prototype,"state",{get:function(){return this._state.getStateAtTime(a.Transport.ticks)}}),Object.defineProperty(a.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(a){this._startOffset=a}}),a.Event.prototype.start=function(b){return b=this.toTicks(b),this._state.getStateAtTime(b)===a.State.Stopped&&(this._state.addEvent({state:a.State.Started,time:b,id:void 0}),this._rescheduleEvents(b)),this},a.Event.prototype.stop=function(b){if(this.cancel(b),b=this.toTicks(b),this._state.getStateAtTime(b)===a.State.Started){this._state.setStateAtTime(a.State.Stopped,b);var c=this._state.getEventBefore(b),d=b;null!==c&&(d=c.time),this._rescheduleEvents(d)}return this},a.Event.prototype.cancel=function(b){return b=this.defaultArg(b,-(1/0)),b=this.toTicks(b),this._state.forEachFrom(b,function(b){a.Transport.clear(b.id)}),this._state.cancel(b),this},a.Event.prototype._tick=function(b){if(!this.mute&&this._state.getStateAtTime(a.Transport.ticks)===a.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var c=.02;this.isBoolean(this.humanize)||(c=this.toSeconds(this.humanize)),b+=(2*Math.random()-1)*c}this.callback(b,this.value)}},a.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(a.Event.prototype,"loop",{get:function(){return this._loop},set:function(a){this._loop=a,this._rescheduleEvents()}}),Object.defineProperty(a.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(a){this._playbackRate=a,this._rescheduleEvents()}}),Object.defineProperty(a.Event.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(a){this._loopEnd=this.toTicks(a),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(a.Event.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(a){this._loopStart=this.toTicks(a),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(a.Event.prototype,"progress",{get:function(){if(this._loop){var b=a.Transport.ticks,c=this._state.getEvent(b);if(null!==c&&c.state===a.State.Started){var d=this._getLoopDuration(),e=(b-c.time)%d;return e/d}return 0}return 0}}),a.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},a.Event}),Module(function(a){return a.Loop=function(){var b=this.optionsObject(arguments,["callback","interval"],a.Loop.defaults);this._event=new a.Event({callback:this._tick.bind(this),loop:!0,loopEnd:b.interval,playbackRate:b.playbackRate,probability:b.probability}),this.callback=b.callback,this.iterations=b.iterations},a.extend(a.Loop),a.Loop.defaults={interval:"4n",callback:a.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},a.Loop.prototype.start=function(a){return this._event.start(a),this},a.Loop.prototype.stop=function(a){return this._event.stop(a),this},a.Loop.prototype.cancel=function(a){return this._event.cancel(a),this},a.Loop.prototype._tick=function(a){this.callback(a)},Object.defineProperty(a.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(a.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(a.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(a){this._event.loopEnd=a}}),Object.defineProperty(a.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(a){this._event.playbackRate=a}}),Object.defineProperty(a.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(a){this._event.humanize=a}}),Object.defineProperty(a.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(a){this._event.probability=a}}),Object.defineProperty(a.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(a){this._event.mute=a}}),Object.defineProperty(a.Loop.prototype,"iterations",{get:function(){return this._event.loop===!0?1/0:this._event.loop},set:function(a){a===1/0?this._event.loop=!0:this._event.loop=a}}),a.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},a.Loop}),Module(function(a){return a.Part=function(){var b=this.optionsObject(arguments,["callback","events"],a.Part.defaults);this._loop=b.loop,this._loopStart=this.toTicks(b.loopStart),this._loopEnd=this.toTicks(b.loopEnd),this._playbackRate=b.playbackRate,this._probability=b.probability,this._humanize=b.humanize,this._startOffset=0,this._state=new a.TimelineState(a.State.Stopped),this._events=[],this.callback=b.callback,this.mute=b.mute;var c=this.defaultArg(b.events,[]);if(!this.isUndef(b.events))for(var d=0;d<c.length;d++)Array.isArray(c[d])?this.add(c[d][0],c[d][1]):this.add(c[d])},a.extend(a.Part,a.Event),a.Part.defaults={callback:a.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1},a.Part.prototype.start=function(b,c){var d=this.toTicks(b);return this._state.getStateAtTime(d)!==a.State.Started&&(c=this.defaultArg(c,0),c=this.toTicks(c),this._state.addEvent({state:a.State.Started,time:d,offset:c}),this._forEach(function(a){this._startNote(a,d,c)})),this},a.Part.prototype._startNote=function(a,b,c){b-=c,this._loop?a.startOffset>=this._loopStart&&a.startOffset<this._loopEnd&&(a.startOffset<c&&(b+=this._getLoopDuration()),a.start(b+"i")):a.startOffset>=c&&a.start(b+"i")},Object.defineProperty(a.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(a){this._startOffset=a,this._forEach(function(a){a.startOffset+=this._startOffset})}}),a.Part.prototype.stop=function(b){var c=this.toTicks(b);return this._state.getStateAtTime(c)===a.State.Started&&(this._state.setStateAtTime(a.State.Stopped,c),this._forEach(function(a){a.stop(b)})),this},a.Part.prototype.at=function(a,b){a=this.toTicks(a);for(var c=this.ticksToSeconds(1),d=0;d<this._events.length;d++){var e=this._events[d];if(Math.abs(a-e.startOffset)<c)return this.isUndef(b)||(e.value=b),e}return this.isUndef(b)?null:(this.add(a+"i",b),this._events[this._events.length-1]);
},a.Part.prototype.add=function(b,c){this.isObject(b)&&b.hasOwnProperty("time")&&(c=b,b=c.time,delete c.time),b=this.toTicks(b);var d;return c instanceof a.Event?(d=c,d.callback=this._tick.bind(this)):d=new a.Event({callback:this._tick.bind(this),value:c}),d.startOffset=b,d.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(d),this._restartEvent(d),this},a.Part.prototype._restartEvent=function(b){var c=this._state.getEvent(this.now());c&&c.state===a.State.Started&&this._startNote(b,c.time,c.offset)},a.Part.prototype.remove=function(b,c){this.isObject(b)&&b.hasOwnProperty("time")&&(c=b,b=c.time),b=this.toTicks(b);for(var d=this._events.length-1;d>=0;d--){var e=this._events[d];e instanceof a.Part?e.remove(b,c):e.startOffset===b&&(this.isUndef(c)||!this.isUndef(c)&&e.value===c)&&(this._events.splice(d,1),e.dispose())}return this},a.Part.prototype.removeAll=function(){return this._forEach(function(a){a.dispose()}),this._events=[],this},a.Part.prototype.cancel=function(a){return this._forEach(function(b){b.cancel(a)}),this._state.cancel(a),this},a.Part.prototype._forEach=function(b,c){c=this.defaultArg(c,this);for(var d=this._events.length-1;d>=0;d--){var e=this._events[d];e instanceof a.Part?e._forEach(b,c):b.call(c,e)}return this},a.Part.prototype._setAll=function(a,b){this._forEach(function(c){c[a]=b})},a.Part.prototype._tick=function(a,b){this.mute||this.callback(a,b)},a.Part.prototype._testLoopBoundries=function(b){b.startOffset<this._loopStart||b.startOffset>=this._loopEnd?b.cancel():b.state===a.State.Stopped&&this._restartEvent(b)},Object.defineProperty(a.Part.prototype,"probability",{get:function(){return this._probability},set:function(a){this._probability=a,this._setAll("probability",a)}}),Object.defineProperty(a.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(a){this._humanize=a,this._setAll("humanize",a)}}),Object.defineProperty(a.Part.prototype,"loop",{get:function(){return this._loop},set:function(a){this._loop=a,this._forEach(function(b){b._loopStart=this._loopStart,b._loopEnd=this._loopEnd,b.loop=a,this._testLoopBoundries(b)})}}),Object.defineProperty(a.Part.prototype,"loopEnd",{get:function(){return this.toNotation(this._loopEnd+"i")},set:function(a){this._loopEnd=this.toTicks(a),this._loop&&this._forEach(function(a){a.loopEnd=this.loopEnd,this._testLoopBoundries(a)})}}),Object.defineProperty(a.Part.prototype,"loopStart",{get:function(){return this.toNotation(this._loopStart+"i")},set:function(a){this._loopStart=this.toTicks(a),this._loop&&this._forEach(function(a){a.loopStart=this.loopStart,this._testLoopBoundries(a)})}}),Object.defineProperty(a.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(a){this._playbackRate=a,this._setAll("playbackRate",a)}}),Object.defineProperty(a.Part.prototype,"length",{get:function(){return this._events.length}}),a.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},a.Part}),Module(function(a){return a.Pattern=function(){var b=this.optionsObject(arguments,["callback","events","pattern"],a.Pattern.defaults);a.Loop.call(this,b),this._pattern=new a.CtrlPattern({values:b.events,type:b.pattern,index:b.index})},a.extend(a.Pattern,a.Loop),a.Pattern.defaults={pattern:a.CtrlPattern.Type.Up,events:[]},a.Pattern.prototype._tick=function(a){this.callback(a,this._pattern.value),this._pattern.next()},Object.defineProperty(a.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(a){this._pattern.index=a}}),Object.defineProperty(a.Pattern.prototype,"events",{get:function(){return this._pattern.values},set:function(a){this._pattern.values=a}}),Object.defineProperty(a.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(a.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(a){this._pattern.type=a}}),a.Pattern.prototype.dispose=function(){a.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},a.Pattern}),Module(function(a){return a.Sequence=function(){var b=this.optionsObject(arguments,["callback","events","subdivision"],a.Sequence.defaults),c=b.events;if(delete b.events,a.Part.call(this,b),this._subdivision=this.toTicks(b.subdivision),this.isUndef(b.loopEnd)&&!this.isUndef(c)&&(this._loopEnd=c.length*this._subdivision),this._loop=!0,!this.isUndef(c))for(var d=0;d<c.length;d++)this.add(d,c[d])},a.extend(a.Sequence,a.Part),a.Sequence.defaults={subdivision:"4n"},Object.defineProperty(a.Sequence.prototype,"subdivision",{get:function(){return this.toNotation(this._subdivision+"i")}}),a.Sequence.prototype.at=function(b,c){return this.isArray(c)&&this.remove(b),a.Part.prototype.at.call(this,this._indexTime(b),c)},a.Sequence.prototype.add=function(b,c){if(null===c)return this;if(this.isArray(c)){var d=Math.round(this._subdivision/c.length)+"i";c=new a.Sequence(this._tick.bind(this),c,d)}return a.Part.prototype.add.call(this,this._indexTime(b),c),this},a.Sequence.prototype.remove=function(b,c){return a.Part.prototype.remove.call(this,this._indexTime(b),c),this},a.Sequence.prototype._indexTime=function(a){return this.isTicks(a)?a:a*this._subdivision+this.startOffset+"i"},a.Sequence.prototype.dispose=function(){return a.Part.prototype.dispose.call(this),this},a.Sequence}),Module(function(a){return a.PulseOscillator=function(){var b=this.optionsObject(arguments,["frequency","width"],a.Oscillator.defaults);a.Source.call(this,b),this.width=new a.Signal(b.width,a.Type.NormalRange),this._widthGate=this.context.createGain(),this._sawtooth=new a.Oscillator({frequency:b.frequency,detune:b.detune,type:"sawtooth",phase:b.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new a.WaveShaper(function(a){return 0>a?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},a.extend(a.PulseOscillator,a.Oscillator),a.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},a.PulseOscillator.prototype._start=function(a){a=this.toSeconds(a),this._sawtooth.start(a),this._widthGate.gain.setValueAtTime(1,a)},a.PulseOscillator.prototype._stop=function(a){a=this.toSeconds(a),this._sawtooth.stop(a),this._widthGate.gain.setValueAtTime(0,a)},Object.defineProperty(a.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(a){this._sawtooth.phase=a}}),Object.defineProperty(a.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(a.PulseOscillator.prototype,"partials",{get:function(){return[]}}),a.PulseOscillator.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.disconnect(),this._widthGate=null,this._widthGate=null,this._thresh.disconnect(),this._thresh=null,this.frequency=null,this.detune=null,this},a.PulseOscillator}),Module(function(a){return a.PWMOscillator=function(){var b=this.optionsObject(arguments,["frequency","modulationFrequency"],a.PWMOscillator.defaults);a.Source.call(this,b),this._pulse=new a.PulseOscillator(b.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new a.Oscillator({frequency:b.frequency,detune:b.detune,phase:b.phase}),this._scale=new a.Multiply(1.01),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},a.extend(a.PWMOscillator,a.Oscillator),a.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},a.PWMOscillator.prototype._start=function(a){a=this.toSeconds(a),this._modulator.start(a),this._pulse.start(a)},a.PWMOscillator.prototype._stop=function(a){a=this.toSeconds(a),this._modulator.stop(a),this._pulse.stop(a)},Object.defineProperty(a.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(a.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(a.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(a){this._modulator.phase=a}}),a.PWMOscillator.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},a.PWMOscillator}),Module(function(a){a.OmniOscillator=function(){var b=this.optionsObject(arguments,["frequency","type"],a.OmniOscillator.defaults);a.Source.call(this,b),this.frequency=new a.Signal(b.frequency,a.Type.Frequency),this.detune=new a.Signal(b.detune,a.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=b.type,this.phase=b.phase,this._readOnly(["frequency","detune"]),this.isArray(b.partials)&&(this.partials=b.partials)},a.extend(a.OmniOscillator,a.Oscillator),a.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0,width:.4,modulationFrequency:.4};var b={PulseOscillator:"PulseOscillator",PWMOscillator:"PWMOscillator",Oscillator:"Oscillator"};return a.OmniOscillator.prototype._start=function(a){this._oscillator.start(a)},a.OmniOscillator.prototype._stop=function(a){this._oscillator.stop(a)},Object.defineProperty(a.OmniOscillator.prototype,"type",{get:function(){return this._oscillator.type},set:function(c){if(0===c.indexOf("sine")||0===c.indexOf("square")||0===c.indexOf("triangle")||0===c.indexOf("sawtooth")||c===a.Oscillator.Type.Custom)this._sourceType!==b.Oscillator&&(this._sourceType=b.Oscillator,this._createNewOscillator(a.Oscillator)),this._oscillator.type=c;else if("pwm"===c)this._sourceType!==b.PWMOscillator&&(this._sourceType=b.PWMOscillator,this._createNewOscillator(a.PWMOscillator));else{if("pulse"!==c)throw new Error("Tone.OmniOscillator does not support type "+c);this._sourceType!==b.PulseOscillator&&(this._sourceType=b.PulseOscillator,this._createNewOscillator(a.PulseOscillator))}}}),Object.defineProperty(a.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(c){this._sourceType!==b.Oscillator&&(this.type=a.Oscillator.Type.Custom),this._oscillator.partials=c}}),a.OmniOscillator.prototype._createNewOscillator=function(b){var c=this.now()+this.blockTime;if(null!==this._oscillator){var d=this._oscillator;d.stop(c),setTimeout(function(){d.dispose(),d=null},1e3*this.blockTime)}this._oscillator=new b,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===a.State.Started&&this._oscillator.start(c)},Object.defineProperty(a.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(a){this._oscillator.phase=a}}),Object.defineProperty(a.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===b.PulseOscillator?this._oscillator.width:void 0}}),Object.defineProperty(a.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===b.PWMOscillator?this._oscillator.modulationFrequency:void 0}}),a.OmniOscillator.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},a.OmniOscillator}),Module(function(a){return a.Instrument=function(b){b=this.defaultArg(b,a.Instrument.defaults),this._volume=this.output=new a.Volume(b.volume),this.volume=this._volume.volume,this._readOnly("volume")},a.extend(a.Instrument),a.Instrument.defaults={volume:0},a.Instrument.prototype.triggerAttack=a.noOp,a.Instrument.prototype.triggerRelease=a.noOp,a.Instrument.prototype.triggerAttackRelease=function(a,b,c,d){return c=this.toSeconds(c),b=this.toSeconds(b),this.triggerAttack(a,c,d),this.triggerRelease(c+b),this},a.Instrument.prototype.dispose=function(){return a.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this},a.Instrument}),Module(function(a){return a.Monophonic=function(b){b=this.defaultArg(b,a.Monophonic.defaults),a.Instrument.call(this,b),this.portamento=b.portamento},a.extend(a.Monophonic,a.Instrument),a.Monophonic.defaults={portamento:0},a.Monophonic.prototype.triggerAttack=function(a,b,c){return b=this.toSeconds(b),this._triggerEnvelopeAttack(b,c),this.setNote(a,b),this},a.Monophonic.prototype.triggerRelease=function(a){return this._triggerEnvelopeRelease(a),this},a.Monophonic.prototype._triggerEnvelopeAttack=function(){},a.Monophonic.prototype._triggerEnvelopeRelease=function(){},a.Monophonic.prototype.setNote=function(a,b){if(b=this.toSeconds(b),this.portamento>0){var c=this.frequency.value;this.frequency.setValueAtTime(c,b);var d=this.toSeconds(this.portamento);this.frequency.exponentialRampToValueAtTime(a,b+d)}else this.frequency.setValueAtTime(a,b);return this},a.Monophonic}),Module(function(a){return a.MonoSynth=function(b){b=this.defaultArg(b,a.MonoSynth.defaults),a.Monophonic.call(this,b),this.oscillator=new a.OmniOscillator(b.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new a.Filter(b.filter),this.filterEnvelope=new a.FrequencyEnvelope(b.filterEnvelope),this.envelope=new a.AmplitudeEnvelope(b.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.oscillator.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},a.extend(a.MonoSynth,a.Monophonic),a.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},a.MonoSynth.prototype._triggerEnvelopeAttack=function(a,b){return this.envelope.triggerAttack(a,b),this.filterEnvelope.triggerAttack(a),this},a.MonoSynth.prototype._triggerEnvelopeRelease=function(a){return this.envelope.triggerRelease(a),this.filterEnvelope.triggerRelease(a),this},a.MonoSynth.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},a.MonoSynth}),Module(function(a){return a.AMSynth=function(b){b=this.defaultArg(b,a.AMSynth.defaults),a.Monophonic.call(this,b),this.carrier=new a.MonoSynth(b.carrier),this.carrier.volume.value=-10,this.modulator=new a.MonoSynth(b.modulator),this.modulator.volume.value=-10,this.frequency=new a.Signal(440,a.Type.Frequency),this.harmonicity=new a.Multiply(b.harmonicity),this.harmonicity.units=a.Type.Positive,this._modulationScale=new a.AudioToGain,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.modulator.chain(this._modulationScale,this._modulationNode.gain),this.carrier.chain(this._modulationNode,this.output),this._readOnly(["carrier","modulator","frequency","harmonicity"])},a.extend(a.AMSynth,a.Monophonic),a.AMSynth.defaults={harmonicity:3,carrier:{volume:-10,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,baseFrequency:2e4,octaves:0},filter:{Q:6,type:"lowpass",rolloff:-24}},modulator:{volume:-10,oscillator:{type:"square"},envelope:{attack:2,decay:0,sustain:1,release:.5},filterEnvelope:{attack:4,decay:.2,sustain:.5,release:.5,baseFrequency:20,octaves:6},filter:{Q:6,type:"lowpass",rolloff:-24}}},a.AMSynth.prototype._triggerEnvelopeAttack=function(a,b){return a=this.toSeconds(a),this.carrier.envelope.triggerAttack(a,b),this.modulator.envelope.triggerAttack(a),this.carrier.filterEnvelope.triggerAttack(a),this.modulator.filterEnvelope.triggerAttack(a),this},a.AMSynth.prototype._triggerEnvelopeRelease=function(a){return this.carrier.triggerRelease(a),this.modulator.triggerRelease(a),this},a.AMSynth.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.disconnect(),this._modulationNode=null,this},a.AMSynth}),Module(function(a){return a.DrumSynth=function(b){b=this.defaultArg(b,a.DrumSynth.defaults),a.Instrument.call(this,b),this.oscillator=new a.Oscillator(b.oscillator).start(),this.envelope=new a.AmplitudeEnvelope(b.envelope),this.octaves=b.octaves,this.pitchDecay=b.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},a.extend(a.DrumSynth,a.Instrument),a.DrumSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},a.DrumSynth.prototype.triggerAttack=function(a,b,c){b=this.toSeconds(b),a=this.toFrequency(a);var d=a*this.octaves;return this.oscillator.frequency.setValueAtTime(d,b),this.oscillator.frequency.exponentialRampToValueAtTime(a,b+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(b,c),this},a.DrumSynth.prototype.triggerRelease=function(a){return this.envelope.triggerRelease(a),this},a.DrumSynth.prototype.dispose=function(){return a.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},a.DrumSynth}),Module(function(a){return a.DuoSynth=function(b){b=this.defaultArg(b,a.DuoSynth.defaults),a.Monophonic.call(this,b),this.voice0=new a.MonoSynth(b.voice0),this.voice0.volume.value=-10,this.voice1=new a.MonoSynth(b.voice1),this.voice1.volume.value=-10,this._vibrato=new a.LFO(b.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=this.context.createGain(),this.vibratoAmount=new a.Param({param:this._vibratoGain.gain,units:a.Type.Positive,value:b.vibratoAmount}),this._vibratoDelay=this.toSeconds(b.vibratoDelay),this.frequency=new a.Signal(440,a.Type.Frequency),this.harmonicity=new a.Multiply(b.harmonicity),this.harmonicity.units=a.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},a.extend(a.DuoSynth,a.Monophonic),a.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,vibratoDelay:1,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},a.DuoSynth.prototype._triggerEnvelopeAttack=function(a,b){return a=this.toSeconds(a),this.voice0.envelope.triggerAttack(a,b),this.voice1.envelope.triggerAttack(a,b),this.voice0.filterEnvelope.triggerAttack(a),this.voice1.filterEnvelope.triggerAttack(a),this},a.DuoSynth.prototype._triggerEnvelopeRelease=function(a){return this.voice0.triggerRelease(a),this.voice1.triggerRelease(a),this},a.DuoSynth.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibrato.dispose(),this._vibrato=null,this._vibratoGain.disconnect(),this._vibratoGain=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},a.DuoSynth}),Module(function(a){return a.FMSynth=function(b){b=this.defaultArg(b,a.FMSynth.defaults),a.Monophonic.call(this,b),this.carrier=new a.MonoSynth(b.carrier),this.carrier.volume.value=-10,this.modulator=new a.MonoSynth(b.modulator),this.modulator.volume.value=-10,this.frequency=new a.Signal(440,a.Type.Frequency),this.harmonicity=new a.Multiply(b.harmonicity),this.harmonicity.units=a.Type.Positive,this.modulationIndex=new a.Multiply(b.modulationIndex),this.modulationIndex.units=a.Type.Positive,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.modulator.connect(this._modulationNode.gain),this._modulationNode.gain.value=0,this._modulationNode.connect(this.carrier.frequency),this.carrier.connect(this.output),this._readOnly(["carrier","modulator","frequency","harmonicity","modulationIndex"])},a.extend(a.FMSynth,a.Monophonic),a.FMSynth.defaults={harmonicity:3,modulationIndex:10,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:0,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,baseFrequency:200,octaves:8}},modulator:{volume:-10,portamento:0,oscillator:{type:"triangle"},envelope:{attack:.01,decay:0,sustain:1,release:.5},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5,baseFrequency:600,octaves:5}}},a.FMSynth.prototype._triggerEnvelopeAttack=function(a,b){return a=this.toSeconds(a),this.carrier.envelope.triggerAttack(a,b),this.modulator.envelope.triggerAttack(a),this.carrier.filterEnvelope.triggerAttack(a),this.modulator.filterEnvelope.triggerAttack(a),this},a.FMSynth.prototype._triggerEnvelopeRelease=function(a){return this.carrier.triggerRelease(a),this.modulator.triggerRelease(a),this},a.FMSynth.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity","modulationIndex"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.disconnect(),this._modulationNode=null,this},a.FMSynth}),Module(function(a){a.Noise=function(){var b=this.optionsObject(arguments,["type"],a.Noise.defaults);a.Source.call(this,b),this._source=null,this._buffer=null,this._playbackRate=b.playbackRate,this.type=b.type},a.extend(a.Noise,a.Source),a.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(a.Noise.prototype,"type",{get:function(){return this._buffer===d?"white":this._buffer===c?"brown":this._buffer===b?"pink":void 0},set:function(e){if(this.type!==e){switch(e){case"white":this._buffer=d;break;case"pink":this._buffer=b;break;case"brown":this._buffer=c;break;default:throw new Error("invalid noise type: "+e)}if(this.state===a.State.Started){var f=this.now()+this.blockTime;this._stop(f),this._start(f)}}}}),Object.defineProperty(a.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(a){this._playbackRate=a,this._source&&(this._source.playbackRate.value=a)}}),a.Noise.prototype._start=function(a){this._source=this.context.createBufferSource(),this._source.buffer=this._buffer,this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.connect(this.output),this._source.start(this.toSeconds(a))},a.Noise.prototype._stop=function(a){this._source&&this._source.stop(this.toSeconds(a))},a.Noise.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var b=null,c=null,d=null;return a._initAudioContext(function(a){var e=a.sampleRate,f=4*e;b=function(){for(var b=a.createBuffer(2,f,e),c=0;c<b.numberOfChannels;c++){var d,g,h,i,j,k,l,m=b.getChannelData(c);d=g=h=i=j=k=l=0;for(var n=0;f>n;n++){var o=2*Math.random()-1;d=.99886*d+.0555179*o,g=.99332*g+.0750759*o,h=.969*h+.153852*o,i=.8665*i+.3104856*o,j=.55*j+.5329522*o,k=-.7616*k-.016898*o,m[n]=d+g+h+i+j+k+l+.5362*o,m[n]*=.11,l=.115926*o}}return b}(),c=function(){for(var b=a.createBuffer(2,f,e),c=0;c<b.numberOfChannels;c++)for(var d=b.getChannelData(c),g=0,h=0;f>h;h++){var i=2*Math.random()-1;d[h]=(g+.02*i)/1.02,g=d[h],d[h]*=3.5}return b}(),d=function(){for(var b=a.createBuffer(2,f,e),c=0;c<b.numberOfChannels;c++)for(var d=b.getChannelData(c),g=0;f>g;g++)d[g]=2*Math.random()-1;return b}()}),a.Noise}),Module(function(a){return a.NoiseSynth=function(b){b=this.defaultArg(b,a.NoiseSynth.defaults),a.Instrument.call(this,b),this.noise=new a.Noise,this.filter=new a.Filter(b.filter),this.filterEnvelope=new a.FrequencyEnvelope(b.filterEnvelope),this.envelope=new a.AmplitudeEnvelope(b.envelope),this.noise.chain(this.filter,this.envelope,this.output),this.noise.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["noise","filter","filterEnvelope","envelope"])},a.extend(a.NoiseSynth,a.Instrument),a.NoiseSynth.defaults={noise:{type:"white"},filter:{Q:6,type:"highpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:0},filterEnvelope:{attack:.06,decay:.2,sustain:0,release:2,baseFrequency:20,octaves:5}},a.NoiseSynth.prototype.triggerAttack=function(a,b){return this.envelope.triggerAttack(a,b),this.filterEnvelope.triggerAttack(a),this},a.NoiseSynth.prototype.triggerRelease=function(a){return this.envelope.triggerRelease(a),this.filterEnvelope.triggerRelease(a),this},a.NoiseSynth.prototype.triggerAttackRelease=function(a,b,c){return b=this.toSeconds(b),a=this.toSeconds(a),this.triggerAttack(b,c),this.triggerRelease(b+a),this},a.NoiseSynth.prototype.dispose=function(){return a.Instrument.prototype.dispose.call(this),this._writable(["noise","filter","filterEnvelope","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this},a.NoiseSynth}),Module(function(a){return a.PluckSynth=function(b){b=this.defaultArg(b,a.PluckSynth.defaults),a.Instrument.call(this,b),this._noise=new a.Noise("pink"),this.attackNoise=1,this._lfcf=new a.LowpassCombFilter({resonance:b.resonance,dampening:b.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},a.extend(a.PluckSynth,a.Instrument),a.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.9},a.PluckSynth.prototype.triggerAttack=function(a,b){a=this.toFrequency(a),b=this.toSeconds(b);var c=1/a;return this._lfcf.delayTime.setValueAtTime(c,b),this._noise.start(b),this._noise.stop(b+c*this.attackNoise),this},a.PluckSynth.prototype.dispose=function(){return a.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},a.PluckSynth}),Module(function(a){return a.PolySynth=function(){a.Instrument.call(this);var b=this.optionsObject(arguments,["polyphony","voice"],a.PolySynth.defaults);this.voices=new Array(b.polyphony),this.stealVoices=!0,this._freeVoices=[],this._activeVoices={};for(var c=0;c<b.polyphony;c++){var d=new b.voice(arguments[2],arguments[3]);this.voices[c]=d,d.connect(this.output)}this._freeVoices=this.voices.slice(0)},a.extend(a.PolySynth,a.Instrument),a.PolySynth.defaults={polyphony:4,voice:a.MonoSynth},a.PolySynth.prototype.triggerAttack=function(a,b,c){Array.isArray(a)||(a=[a]);for(var d=0;d<a.length;d++){var e=a[d],f=JSON.stringify(e);if(this._activeVoices.hasOwnProperty(f))this._activeVoices[f].triggerAttack(e,b,c);else if(this._freeVoices.length>0){var g=this._freeVoices.shift();g.triggerAttack(e,b,c),this._activeVoices[f]=g}else if(this.stealVoices)for(var h in this._activeVoices){this._activeVoices[h].triggerAttack(e,b,c);break}}return this},a.PolySynth.prototype.triggerAttackRelease=function(a,b,c,d){return c=this.toSeconds(c),this.triggerAttack(a,c,d),this.triggerRelease(a,c+this.toSeconds(b)),this},a.PolySynth.prototype.triggerRelease=function(a,b){Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var d=JSON.stringify(a[c]),e=this._activeVoices[d];e&&(e.triggerRelease(b),this._freeVoices.push(e),delete this._activeVoices[d],e=null)}return this},a.PolySynth.prototype.set=function(a,b,c){for(var d=0;d<this.voices.length;d++)this.voices[d].set(a,b,c);return this},a.PolySynth.prototype.get=function(a){return this.voices[0].get(a)},a.PolySynth.prototype.releaseAll=function(a){for(var b=0;b<this.voices.length;b++)this.voices[b].triggerRelease(a);return this},a.PolySynth.prototype.dispose=function(){a.Instrument.prototype.dispose.call(this);for(var b=0;b<this.voices.length;b++)this.voices[b].dispose(),this.voices[b]=null;return this.voices=null,this._activeVoices=null,this._freeVoices=null,this},a.PolySynth}),Module(function(a){return a.Player=function(b){var c;b instanceof a.Buffer?(b=b.get(),c=a.Player.defaults):c=this.optionsObject(arguments,["url","onload"],a.Player.defaults),a.Source.call(this,c),this._source=null,this.autostart=c.autostart,this._buffer=new a.Buffer({url:c.url,onload:this._onload.bind(this,c.onload),reverse:c.reverse}),b instanceof AudioBuffer&&this._buffer.set(b),this._loop=c.loop,this._loopStart=c.loopStart,this._loopEnd=c.loopEnd,this._playbackRate=c.playbackRate,this.retrigger=c.retrigger},a.extend(a.Player,a.Source),a.Player.defaults={onload:a.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,retrigger:!1,reverse:!1},a.Player.prototype.load=function(a,b){return this._buffer.load(a,this._onload.bind(this,b)),this},a.Player.prototype._onload=function(a){a(this),this.autostart&&this.start()},a.Player.prototype._start=function(b,c,d){if(!this._buffer.loaded)throw Error("tried to start Player before the buffer was loaded");return c=this._loop?this.defaultArg(c,this._loopStart):this.defaultArg(c,0),c=this.toSeconds(c),d=this.defaultArg(d,this._buffer.duration-c),b=this.toSeconds(b),d=this.toSeconds(d),this._source=this.context.createBufferSource(),this._source.buffer=this._buffer.get(),this._loop?(this._source.loop=this._loop,this._source.loopStart=this.toSeconds(this._loopStart),this._source.loopEnd=this.toSeconds(this._loopEnd)):this._state.setStateAtTime(a.State.Stopped,b+d),this._source.playbackRate.value=this._playbackRate,this._source.connect(this.output),this._loop?this._source.start(b,c):this._source.start(b,c,d),this},a.Player.prototype._stop=function(a){return this._source&&(this._source.stop(this.toSeconds(a)),this._source=null),this},a.Player.prototype.setLoopPoints=function(a,b){return this.loopStart=a,this.loopEnd=b,this},Object.defineProperty(a.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(a){this._loopStart=a,this._source&&(this._source.loopStart=this.toSeconds(a))}}),Object.defineProperty(a.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(a){this._loopEnd=a,this._source&&(this._source.loopEnd=this.toSeconds(a));
}}),Object.defineProperty(a.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(a){this._buffer.set(a)}}),Object.defineProperty(a.Player.prototype,"loop",{get:function(){return this._loop},set:function(a){this._loop=a,this._source&&(this._source.loop=a)}}),Object.defineProperty(a.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(a){this._playbackRate=a,this._source&&(this._source.playbackRate.value=a)}}),Object.defineProperty(a.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(a){this._buffer.reverse=a}}),a.Player.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer.dispose(),this._buffer=null,this},a.Player}),Module(function(a){return a.Sampler=function(b,c){c=this.defaultArg(c,a.Sampler.defaults),a.Instrument.call(this,c),this.player=new a.Player(c.player),this.player.retrigger=!0,this._buffers={},this.envelope=new a.AmplitudeEnvelope(c.envelope),this.filterEnvelope=new a.FrequencyEnvelope(c.filterEnvelope),this._sample=c.sample,this._pitch=c.pitch,this.filter=new a.Filter(c.filter),this._loadBuffers(b),this.pitch=c.pitch,this.player.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["player","filterEnvelope","envelope","filter"])},a.extend(a.Sampler,a.Instrument),a.Sampler.defaults={sample:0,pitch:0,player:{loop:!1},envelope:{attack:.001,decay:0,sustain:1,release:.1},filterEnvelope:{attack:.001,decay:.001,sustain:1,release:.5,baseFrequency:20,octaves:10},filter:{type:"lowpass"}},a.Sampler.prototype._loadBuffers=function(b){if(this.isString(b))this._buffers[0]=new a.Buffer(b,function(){this.sample="0"}.bind(this));else{b=this._flattenUrls(b);for(var c in b){this._sample=c;var d=b[c];this._buffers[c]=new a.Buffer(d)}}},a.Sampler.prototype._flattenUrls=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c))if(this.isObject(a[c])){var d=this._flattenUrls(a[c]);for(var e in d)d.hasOwnProperty(e)&&(b[c+"."+e]=d[e])}else b[c]=a[c];return b},a.Sampler.prototype.triggerAttack=function(a,b,c){return b=this.toSeconds(b),a&&(this.sample=a),this.player.start(b),this.envelope.triggerAttack(b,c),this.filterEnvelope.triggerAttack(b),this},a.Sampler.prototype.triggerRelease=function(a){return a=this.toSeconds(a),this.filterEnvelope.triggerRelease(a),this.envelope.triggerRelease(a),this.player.stop(this.toSeconds(this.envelope.release)+a),this},Object.defineProperty(a.Sampler.prototype,"sample",{get:function(){return this._sample},set:function(a){if(!this._buffers.hasOwnProperty(a))throw new Error("Sampler does not have a sample named "+a);this._sample=a,this.player.buffer=this._buffers[a]}}),Object.defineProperty(a.Sampler.prototype,"reverse",{get:function(){for(var a in this._buffers)return this._buffers[a].reverse},set:function(a){for(var b in this._buffers)this._buffers[b].reverse=a}}),Object.defineProperty(a.Sampler.prototype,"pitch",{get:function(){return this._pitch},set:function(a){this._pitch=a,this.player.playbackRate=this.intervalToFrequencyRatio(a)}}),a.Sampler.prototype.dispose=function(){a.Instrument.prototype.dispose.call(this),this._writable(["player","filterEnvelope","envelope","filter"]),this.player.dispose(),this.filterEnvelope.dispose(),this.envelope.dispose(),this.filter.dispose(),this.player=null,this.filterEnvelope=null,this.envelope=null,this.filter=null;for(var b in this._buffers)this._buffers[b].dispose(),this._buffers[b]=null;return this._buffers=null,this},a.Sampler}),Module(function(a){return a.SimpleSynth=function(b){b=this.defaultArg(b,a.SimpleSynth.defaults),a.Monophonic.call(this,b),this.oscillator=new a.OmniOscillator(b.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new a.AmplitudeEnvelope(b.envelope),this.oscillator.chain(this.envelope,this.output),this.oscillator.start(),this._readOnly(["oscillator","frequency","detune","envelope"])},a.extend(a.SimpleSynth,a.Monophonic),a.SimpleSynth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},a.SimpleSynth.prototype._triggerEnvelopeAttack=function(a,b){return this.envelope.triggerAttack(a,b),this},a.SimpleSynth.prototype._triggerEnvelopeRelease=function(a){return this.envelope.triggerRelease(a),this},a.SimpleSynth.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},a.SimpleSynth}),Module(function(a){return a.SimpleAM=function(b){b=this.defaultArg(b,a.SimpleAM.defaults),a.Monophonic.call(this,b),this.carrier=new a.SimpleSynth(b.carrier),this.modulator=new a.SimpleSynth(b.modulator),this.frequency=new a.Signal(440,a.Type.Frequency),this.harmonicity=new a.Multiply(b.harmonicity),this.harmonicity.units=a.Type.Positive,this._modulationScale=new a.AudioToGain,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.modulator.chain(this._modulationScale,this._modulationNode.gain),this.carrier.chain(this._modulationNode,this.output),this._readOnly(["carrier","modulator","frequency","harmonicity"])},a.extend(a.SimpleAM,a.Monophonic),a.SimpleAM.defaults={harmonicity:3,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5}},modulator:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.5,decay:.1,sustain:1,release:.5}}},a.SimpleAM.prototype._triggerEnvelopeAttack=function(a,b){return a=this.toSeconds(a),this.carrier.envelope.triggerAttack(a,b),this.modulator.envelope.triggerAttack(a),this},a.SimpleAM.prototype._triggerEnvelopeRelease=function(a){return this.carrier.triggerRelease(a),this.modulator.triggerRelease(a),this},a.SimpleAM.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.disconnect(),this._modulationNode=null,this},a.SimpleAM}),Module(function(a){return a.SimpleFM=function(b){b=this.defaultArg(b,a.SimpleFM.defaults),a.Monophonic.call(this,b),this.carrier=new a.SimpleSynth(b.carrier),this.carrier.volume.value=-10,this.modulator=new a.SimpleSynth(b.modulator),this.modulator.volume.value=-10,this.frequency=new a.Signal(440,a.Type.Frequency),this.harmonicity=new a.Multiply(b.harmonicity),this.harmonicity.units=a.Type.Positive,this.modulationIndex=new a.Multiply(b.modulationIndex),this.modulationIndex.units=a.Type.Positive,this._modulationNode=this.context.createGain(),this.frequency.connect(this.carrier.frequency),this.frequency.chain(this.harmonicity,this.modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.modulator.connect(this._modulationNode.gain),this._modulationNode.gain.value=0,this._modulationNode.connect(this.carrier.frequency),this.carrier.connect(this.output),this._readOnly(["carrier","modulator","frequency","harmonicity","modulationIndex"])},a.extend(a.SimpleFM,a.Monophonic),a.SimpleFM.defaults={harmonicity:3,modulationIndex:10,carrier:{volume:-10,portamento:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:0,sustain:1,release:.5}},modulator:{volume:-10,portamento:0,oscillator:{type:"triangle"},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},a.SimpleFM.prototype._triggerEnvelopeAttack=function(a,b){return a=this.toSeconds(a),this.carrier.envelope.triggerAttack(a,b),this.modulator.envelope.triggerAttack(a),this},a.SimpleFM.prototype._triggerEnvelopeRelease=function(a){return this.carrier.triggerRelease(a),this.modulator.triggerRelease(a),this},a.SimpleFM.prototype.dispose=function(){return a.Monophonic.prototype.dispose.call(this),this._writable(["carrier","modulator","frequency","harmonicity","modulationIndex"]),this.carrier.dispose(),this.carrier=null,this.modulator.dispose(),this.modulator=null,this.frequency.dispose(),this.frequency=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.disconnect(),this._modulationNode=null,this},a.SimpleFM}),Module(function(a){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,a.ExternalInput=function(){var b=this.optionsObject(arguments,["inputNum"],a.ExternalInput.defaults);a.Source.call(this,b),this._mediaStream=null,this._stream=null,this._constraints={audio:!0},this._inputNum=b.inputNum,this._gate=new a.Gain(0).connect(this.output)},a.extend(a.ExternalInput,a.Source),a.ExternalInput.defaults={inputNum:0},a.ExternalInput.prototype._getUserMedia=function(b){if(!a.ExternalInput.supported)throw new Error("browser does not support 'getUserMedia'");a.ExternalInput.sources[this._inputNum]&&(this._constraints={audio:{optional:[{sourceId:a.ExternalInput.sources[this._inputNum].id}]}}),navigator.getUserMedia(this._constraints,function(a){this._onStream(a),b()}.bind(this),function(a){b(a)})},a.ExternalInput.prototype._onStream=function(a){if(!this.isFunction(this.context.createMediaStreamSource))throw new Error("browser does not support the 'MediaStreamSourceNode'");this._stream||(this._stream=a,this._mediaStream=this.context.createMediaStreamSource(a),this._mediaStream.connect(this._gate))},a.ExternalInput.prototype.open=function(b){return b=this.defaultArg(b,a.noOp),a.ExternalInput.getSources(function(){this._getUserMedia(b)}.bind(this)),this},a.ExternalInput.prototype.close=function(){if(this._stream){var a=this._stream.getTracks()[this._inputNum];this.isUndef(a)||a.stop(),this._stream=null}return this},a.ExternalInput.prototype._start=function(a){return a=this.toSeconds(a),this._gate.gain.setValueAtTime(1,a),this},a.ExternalInput.prototype._stop=function(a){return a=this.toSeconds(a),this._gate.gain.setValueAtTime(0,a),this},a.ExternalInput.prototype.dispose=function(){return a.Source.prototype.dispose.call(this),this.close(),this._mediaStream&&(this._mediaStream.disconnect(),this._mediaStream=null),this._constraints=null,this._gate.dispose(),this._gate=null,this},a.ExternalInput.sources=[],a.ExternalInput._canGetSources=!a.prototype.isUndef(window.MediaStreamTrack)&&a.prototype.isFunction(MediaStreamTrack.getSources),Object.defineProperty(a.ExternalInput,"supported",{get:function(){return a.prototype.isFunction(navigator.getUserMedia)}}),a.ExternalInput.getSources=function(b){return 0===a.ExternalInput.sources.length&&a.ExternalInput._canGetSources?MediaStreamTrack.getSources(function(c){for(var d=0;d<c.length;d++)"audio"===c[d].kind&&(a.ExternalInput.sources[d]=c[d]);b(a.ExternalInput.sources)}):b(a.ExternalInput.sources),this},a.ExternalInput}),Module(function(a){return a.Microphone=function(){a.ExternalInput.call(this,0)},a.extend(a.Microphone,a.ExternalInput),Object.defineProperty(a.Microphone,"supported",{get:function(){return a.ExternalInput.supported}}),a.Microphone}),Module(function(a){return a.Clip=function(b,c){if(b>c){var d=b;b=c,c=d}this.min=this.input=new a.Min(c),this._readOnly("min"),this.max=this.output=new a.Max(b),this._readOnly("max"),this.min.connect(this.max)},a.extend(a.Clip,a.SignalBase),a.Clip.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable("min"),this.min.dispose(),this.min=null,this._writable("max"),this.max.dispose(),this.max=null,this},a.Clip}),Module(function(a){return a.Normalize=function(b,c){this._inputMin=this.defaultArg(b,0),this._inputMax=this.defaultArg(c,1),this._sub=this.input=new a.Add(0),this._div=this.output=new a.Multiply(1),this._sub.connect(this._div),this._setRange()},a.extend(a.Normalize,a.SignalBase),Object.defineProperty(a.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(a){this._inputMin=a,this._setRange()}}),Object.defineProperty(a.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(a){this._inputMax=a,this._setRange()}}),a.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},a.Normalize.prototype.dispose=function(){return a.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},a.Normalize}),Module(function(a){a.Route=function(c){c=this.defaultArg(c,2),a.call(this,1,c),this.gate=new a.Signal(0),this._readOnly("gate");for(var d=0;c>d;d++){var e=new b(d);this.output[d]=e,this.gate.connect(e.selecter),this.input.connect(e)}},a.extend(a.Route,a.SignalBase),a.Route.prototype.select=function(a,b){return a=Math.floor(a),this.gate.setValueAtTime(a,this.toSeconds(b)),this},a.Route.prototype.dispose=function(){this._writable("gate"),this.gate.dispose(),this.gate=null;for(var b=0;b<this.output.length;b++)this.output[b].dispose(),this.output[b]=null;return a.prototype.dispose.call(this),this};var b=function(b){this.selecter=new a.Equal(b),this.gate=this.input=this.output=this.context.createGain(),this.selecter.connect(this.gate.gain)};return a.extend(b),b.prototype.dispose=function(){a.prototype.dispose.call(this),this.selecter.dispose(),this.selecter=null,this.gate.disconnect(),this.gate=null},a.Route}),Module(function(a){return a.Switch=function(b){b=this.defaultArg(b,!1),a.call(this),this.gate=new a.Signal(0),this._readOnly("gate"),this._thresh=new a.GreaterThan(.5),this.input.connect(this.output),this.gate.chain(this._thresh,this.output.gain),b&&this.open()},a.extend(a.Switch,a.SignalBase),a.Switch.prototype.open=function(a){return this.gate.setValueAtTime(1,this.toSeconds(a)),this},a.Switch.prototype.close=function(a){return this.gate.setValueAtTime(0,this.toSeconds(a)),this},a.Switch.prototype.dispose=function(){return a.prototype.dispose.call(this),this._writable("gate"),this.gate.dispose(),this.gate=null,this._thresh.dispose(),this._thresh=null,this},a.Switch}),"function"==typeof define&&define.amd?define(function(){return Tone}):"object"==typeof module?module.exports=Tone:root.Tone=Tone}(this),!function(){var a=window.MutationObserver||window.WebKitMutationObserver,b="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,c=void 0!==document.documentElement.style["touch-action"]||document.documentElement.style["-ms-touch-action"];if(!c&&b&&a){window.Hammer=window.Hammer||{};var d=/touch-action[:][\s]*(none)[^;'"]*/,e=/touch-action[:][\s]*(manipulation)[^;'"]*/,f=/touch-action/,g=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),h=function(){try{var a=document.createElement("canvas");return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(b){return!1}}(),i=h&&g;window.Hammer.time={getTouchAction:function(a){return this.checkStyleString(a.getAttribute("style"))},checkStyleString:function(a){return f.test(a)?d.test(a)?"none":e.test(a)?"manipulation":!0:void 0},shouldHammer:function(a){var b=this.hasParent(a.target);return b&&(!i||Date.now()-a.target.lastStart<125)?b:!1},touchHandler:function(a){var b=a.target.getBoundingClientRect(),c=b.top!==this.pos.top||b.left!==this.pos.left,d=this.shouldHammer(a);("none"===d||c===!1&&"manipulation"===d)&&("touchend"===a.type&&(a.target.focus(),setTimeout(function(){a.target.click()},0)),a.preventDefault()),this.scrolled=!1,delete a.target.lastStart},touchStart:function(a){this.pos=a.target.getBoundingClientRect(),i&&this.hasParent(a.target)&&(a.target.lastStart=Date.now())},styleWatcher:function(a){a.forEach(this.styleUpdater,this)},styleUpdater:function(a){if(a.target.updateNext)return void(a.target.updateNext=!1);var b=this.getTouchAction(a.target);return b?void("none"!==b&&(a.target.hadTouchNone=!1)):void(!b&&(a.oldValue&&this.checkStyleString(a.oldValue)||a.target.hadTouchNone)&&(a.target.hadTouchNone=!0,a.target.updateNext=!1,a.target.setAttribute("style",a.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(a){for(var b,c=a;c&&c.parentNode;c=c.parentNode)if(b=this.getTouchAction(c))return b;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this)),document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0),document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=new a(this.styleWatcher.bind(this)).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents(),this.installStartEvents(),this.installObserver()}},window.Hammer.time.install()}}(),!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&ha(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==ka?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ia.length;){if(c=ia[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return qa++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:ta?M:ua?P:sa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Aa&&d-e===0,g=b&(Ca|Da)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=na(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=ma(j.x)>ma(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===Aa||f.eventType===Ca)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Da&&(i>za||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=ma(l.x)>ma(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:la(a.pointers[c].clientX),clientY:la(a.pointers[c].clientY)},c++;return{timeStamp:na(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:la(a[0].clientX),y:la(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:la(c/b),y:la(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ea:ma(a)>=ma(b)?0>a?Fa:Ga:0>b?Ha:Ia}function H(a,b,c){c||(c=Ma);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Ma);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Na)+I(a[1],a[0],Na)}function K(a,b){return H(b[0],b[1],Na)/H(a[0],a[1],Na)}function L(){this.evEl=Pa,this.evWin=Qa,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Ta,this.evWin=Ua,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Wa,this.evWin=Xa,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ca|Da)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=Za,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Aa|Ba)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Aa)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ca|Da)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a)}function S(a,b){this.manager=a,this.set(b)}function T(a){if(p(a,db))return db;var b=p(a,eb),c=p(a,fb);return b&&c?db:b||c?b?eb:fb:p(a,cb)?cb:bb}function U(a){this.options=ha({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=gb,this.simultaneous={},this.requireFail=[]}function V(a){return a&lb?"cancel":a&jb?"end":a&ib?"move":a&hb?"start":""}function W(a){return a==Ia?"down":a==Ha?"up":a==Fa?"left":a==Ga?"right":""}function X(a,b){var c=b.manager;return c?c.get(a):a}function Y(){U.apply(this,arguments)}function Z(){Y.apply(this,arguments),this.pX=null,this.pY=null}function $(){Y.apply(this,arguments)}function _(){U.apply(this,arguments),this._timer=null,this._input=null}function aa(){Y.apply(this,arguments)}function ba(){Y.apply(this,arguments)}function ca(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function da(a,b){return b=b||{},b.recognizers=l(b.recognizers,da.defaults.preset),new ea(a,b)}function ea(a,b){this.options=ha({},da.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=y(this),this.touchAction=new S(this,this.options.touchAction),fa(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function fa(a,b){var c=a.element;c.style&&g(a.options.cssProps,function(a,d){c.style[u(c.style,d)]=b?a:""})}function ga(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ha,ia=["","webkit","Moz","MS","ms","o"],ja=b.createElement("div"),ka="function",la=Math.round,ma=Math.abs,na=Date.now;ha="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var oa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),pa=h(function(a,b){return oa(a,b,!0)},"merge","Use `assign`."),qa=1,ra=/mobile|tablet|ip(ad|hone|od)|android/i,sa="ontouchstart"in a,ta=u(a,"PointerEvent")!==d,ua=sa&&ra.test(navigator.userAgent),va="touch",wa="pen",xa="mouse",ya="kinect",za=25,Aa=1,Ba=2,Ca=4,Da=8,Ea=1,Fa=2,Ga=4,Ha=8,Ia=16,Ja=Fa|Ga,Ka=Ha|Ia,La=Ja|Ka,Ma=["x","y"],Na=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Oa={mousedown:Aa,mousemove:Ba,mouseup:Ca},Pa="mousedown",Qa="mousemove mouseup";i(L,x,{handler:function(a){var b=Oa[a.type];b&Aa&&0===a.button&&(this.pressed=!0),b&Ba&&1!==a.which&&(b=Ca),this.pressed&&this.allow&&(b&Ca&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:xa,srcEvent:a}))}});var Ra={pointerdown:Aa,pointermove:Ba,pointerup:Ca,pointercancel:Da,pointerout:Da},Sa={2:va,3:wa,4:xa,5:ya},Ta="pointerdown",Ua="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Ta="MSPointerDown",Ua="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Ra[d],f=Sa[a.pointerType]||a.pointerType,g=f==va,h=r(b,a.pointerId,"pointerId");e&Aa&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ca|Da)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Va={touchstart:Aa,touchmove:Ba,touchend:Ca,touchcancel:Da},Wa="touchstart",Xa="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Va[a.type];if(b===Aa&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ca|Da)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:va,srcEvent:a})}}});var Ya={touchstart:Aa,touchmove:Ba,touchend:Ca,touchcancel:Da},Za="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=Ya[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:va,srcEvent:a})}}),i(R,x,{handler:function(a,b,c){var d=c.pointerType==va,e=c.pointerType==xa;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Ca|Da)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var $a=u(ja.style,"touchAction"),_a=$a!==d,ab="compute",bb="auto",cb="manipulation",db="none",eb="pan-x",fb="pan-y";S.prototype={set:function(a){a==ab&&(a=this.compute()),_a&&this.manager.element.style&&(this.manager.element.style[$a]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),T(a.join(" "))},preventDefaults:function(a){if(!_a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,db),f=p(d,fb),g=p(d,eb);if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}if(!g||!f)return e||f&&c&Ja||g&&c&Ka?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var gb=1,hb=2,ib=4,jb=8,kb=jb,lb=16,mb=32;U.prototype={defaults:{},set:function(a){return ha(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=X(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=X(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=X(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=X(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;jb>d&&b(c.options.event+V(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=jb&&b(c.options.event+V(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=mb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(mb|gb)))return!1;a++}return!0},recognize:function(a){var b=ha({},a);return k(this.options.enable,[this,b])?(this.state&(kb|lb|mb)&&(this.state=gb),this.state=this.process(b),void(this.state&(hb|ib|jb|lb)&&this.tryEmit(b))):(this.reset(),void(this.state=mb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(Y,U,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(hb|ib),e=this.attrTest(a);return d&&(c&Da||!e)?b|lb:d||e?c&Ca?b|jb:b&hb?b|ib:hb:mb}}),i(Z,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:La},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ja&&b.push(fb),a&Ka&&b.push(eb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ja?(e=0===f?Ea:0>f?Fa:Ga,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ea:0>g?Ha:Ia,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Y.prototype.attrTest.call(this,a)&&(this.state&hb||!(this.state&hb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=W(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i($,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[db]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&hb)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(_,U,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[bb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ca|Da)&&!f)this.reset();else if(a.eventType&Aa)this.reset(),this._timer=e(function(){this.state=kb,this.tryEmit()},b.time,this);else if(a.eventType&Ca)return kb;return mb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===kb&&(a&&a.eventType&Ca?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=na(),this.manager.emit(this.options.event,this._input)))}}),i(aa,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[db];
},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&hb)}}),i(ba,Y,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ja|Ka,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ja|Ka)?b=a.overallVelocity:c&Ja?b=a.overallVelocityX:c&Ka&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&ma(b)>this.options.velocity&&a.eventType&Ca},emit:function(a){var b=W(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ca,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[cb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Aa&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ca)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=kb,this.tryEmit()},b.interval,this),hb):kb}return mb},failTimeout:function(){return this._timer=e(function(){this.state=mb},this.options.interval,this),mb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==kb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),da.VERSION="2.0.6",da.defaults={domEvents:!1,touchAction:ab,enable:!0,inputTarget:null,inputClass:null,preset:[[aa,{enable:!1}],[$,{enable:!1},["rotate"]],[ba,{direction:Ja}],[Z,{direction:Ja},["swipe"]],[ca],[ca,{event:"doubletap",taps:2},["tap"]],[_]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var nb=1,ob=2;ea.prototype={set:function(a){return ha(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?ob:nb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&kb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===ob||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(hb|ib|jb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof U)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ga(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&fa(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ha(da,{INPUT_START:Aa,INPUT_MOVE:Ba,INPUT_END:Ca,INPUT_CANCEL:Da,STATE_POSSIBLE:gb,STATE_BEGAN:hb,STATE_CHANGED:ib,STATE_ENDED:jb,STATE_RECOGNIZED:kb,STATE_CANCELLED:lb,STATE_FAILED:mb,DIRECTION_NONE:Ea,DIRECTION_LEFT:Fa,DIRECTION_RIGHT:Ga,DIRECTION_UP:Ha,DIRECTION_DOWN:Ia,DIRECTION_HORIZONTAL:Ja,DIRECTION_VERTICAL:Ka,DIRECTION_ALL:La,Manager:ea,Input:x,TouchAction:S,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:U,AttrRecognizer:Y,Tap:ca,Pan:Z,Swipe:ba,Pinch:$,Rotate:aa,Press:_,on:m,off:n,each:g,merge:pa,extend:oa,assign:ha,inherit:i,bindFn:j,prefixed:u});var pb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};pb.Hammer=da,"function"==typeof define&&define.amd?define(function(){return da}):"undefined"!=typeof module&&module.exports?module.exports=da:a[c]=da}(window,document,"Hammer");var synth=(new Tone.SimpleSynth).toMaster(),main=document.querySelector("#main"),notes=document.querySelector(".notes"),scale=["C2","D2","E2","G2","A2"],newRandomTone,playedTones=[];newRandomTone=randomTone();var mc=new Hammer(main);mc.on("panleft panright tap press",function(a){newRandomTone=randomTone(),playedTones.push(newRandomTone),synth.triggerAttackRelease(newRandomTone,"2n");var b=document.createElement("span"),c=playedTones[playedTones.length-1];b.innerHTML='<span class="note note--'+c+'">'+c+"</span>",notes.appendChild(b.firstChild)});